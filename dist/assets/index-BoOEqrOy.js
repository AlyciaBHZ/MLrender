(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Ph(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Th={exports:{}},il={},Mh={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=Symbol.for("react.element"),Py=Symbol.for("react.portal"),Ty=Symbol.for("react.fragment"),My=Symbol.for("react.strict_mode"),Ry=Symbol.for("react.profiler"),Ay=Symbol.for("react.provider"),$y=Symbol.for("react.context"),Iy=Symbol.for("react.forward_ref"),Oy=Symbol.for("react.suspense"),zy=Symbol.for("react.memo"),Dy=Symbol.for("react.lazy"),od=Symbol.iterator;function Fy(e){return e===null||typeof e!="object"?null:(e=od&&e[od]||e["@@iterator"],typeof e=="function"?e:null)}var Rh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ah=Object.assign,$h={};function uo(e,t,n){this.props=e,this.context=t,this.refs=$h,this.updater=n||Rh}uo.prototype.isReactComponent={};uo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};uo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ih(){}Ih.prototype=uo.prototype;function zu(e,t,n){this.props=e,this.context=t,this.refs=$h,this.updater=n||Rh}var Du=zu.prototype=new Ih;Du.constructor=zu;Ah(Du,uo.prototype);Du.isPureReactComponent=!0;var id=Array.isArray,Oh=Object.prototype.hasOwnProperty,Fu={current:null},zh={key:!0,ref:!0,__self:!0,__source:!0};function Dh(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Oh.call(t,r)&&!zh.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:wi,type:e,key:i,ref:s,props:o,_owner:Fu.current}}function Vy(e,t){return{$$typeof:wi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vu(e){return typeof e=="object"&&e!==null&&e.$$typeof===wi}function Hy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sd=/\/+/g;function $l(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hy(""+e.key):t.toString(36)}function es(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case wi:case Py:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+$l(s,0):r,id(o)?(n="",e!=null&&(n=e.replace(sd,"$&/")+"/"),es(o,t,n,"",function(u){return u})):o!=null&&(Vu(o)&&(o=Vy(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(sd,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",id(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+$l(i,l);s+=es(i,t,n,a,o)}else if(a=Fy(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+$l(i,l++),s+=es(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function _i(e,t,n){if(e==null)return e;var r=[],o=0;return es(e,r,"","",function(i){return t.call(n,i,o++)}),r}function Uy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qe={current:null},ts={transition:null},Wy={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:ts,ReactCurrentOwner:Fu};function Fh(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:_i,forEach:function(e,t,n){_i(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _i(e,function(){t++}),t},toArray:function(e){return _i(e,function(t){return t})||[]},only:function(e){if(!Vu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=uo;oe.Fragment=Ty;oe.Profiler=Ry;oe.PureComponent=zu;oe.StrictMode=My;oe.Suspense=Oy;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wy;oe.act=Fh;oe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ah({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Fu.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Oh.call(t,a)&&!zh.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:wi,type:e.type,key:o,ref:i,props:r,_owner:s}};oe.createContext=function(e){return e={$$typeof:$y,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ay,_context:e},e.Consumer=e};oe.createElement=Dh;oe.createFactory=function(e){var t=Dh.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:Iy,render:e}};oe.isValidElement=Vu;oe.lazy=function(e){return{$$typeof:Dy,_payload:{_status:-1,_result:e},_init:Uy}};oe.memo=function(e,t){return{$$typeof:zy,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=ts.transition;ts.transition={};try{e()}finally{ts.transition=t}};oe.unstable_act=Fh;oe.useCallback=function(e,t){return Qe.current.useCallback(e,t)};oe.useContext=function(e){return Qe.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return Qe.current.useDeferredValue(e)};oe.useEffect=function(e,t){return Qe.current.useEffect(e,t)};oe.useId=function(){return Qe.current.useId()};oe.useImperativeHandle=function(e,t,n){return Qe.current.useImperativeHandle(e,t,n)};oe.useInsertionEffect=function(e,t){return Qe.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return Qe.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return Qe.current.useMemo(e,t)};oe.useReducer=function(e,t,n){return Qe.current.useReducer(e,t,n)};oe.useRef=function(e){return Qe.current.useRef(e)};oe.useState=function(e){return Qe.current.useState(e)};oe.useSyncExternalStore=function(e,t,n){return Qe.current.useSyncExternalStore(e,t,n)};oe.useTransition=function(){return Qe.current.useTransition()};oe.version="18.3.1";Mh.exports=oe;var _=Mh.exports;const $=Ph(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By=_,Ky=Symbol.for("react.element"),Gy=Symbol.for("react.fragment"),Yy=Object.prototype.hasOwnProperty,Xy=By.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qy={key:!0,ref:!0,__self:!0,__source:!0};function Vh(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Yy.call(t,r)&&!Qy.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Ky,type:e,key:i,ref:s,props:o,_owner:Xy.current}}il.Fragment=Gy;il.jsx=Vh;il.jsxs=Vh;Th.exports=il;var d=Th.exports,ba={},Hh={exports:{}},pt={},Uh={exports:{}},Wh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,C){var A=T.length;T.push(C);e:for(;0<A;){var I=A-1>>>1,D=T[I];if(0<o(D,C))T[I]=C,T[A]=D,A=I;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var C=T[0],A=T.pop();if(A!==C){T[0]=A;e:for(var I=0,D=T.length,B=D>>>1;I<B;){var U=2*(I+1)-1,Y=T[U],X=U+1,Q=T[X];if(0>o(Y,A))X<D&&0>o(Q,Y)?(T[I]=Q,T[X]=A,I=X):(T[I]=Y,T[U]=A,I=U);else if(X<D&&0>o(Q,A))T[I]=Q,T[X]=A,I=X;else break e}}return C}function o(T,C){var A=T.sortIndex-C.sortIndex;return A!==0?A:T.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,f=null,h=3,p=!1,y=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var C=n(u);C!==null;){if(C.callback===null)r(u);else if(C.startTime<=T)r(u),C.sortIndex=C.expirationTime,t(a,C);else break;C=n(u)}}function v(T){if(x=!1,w(T),!y)if(n(a)!==null)y=!0,j(E);else{var C=n(u);C!==null&&O(v,C.startTime-T)}}function E(T,C){y=!1,x&&(x=!1,m(P),P=-1),p=!0;var A=h;try{for(w(C),f=n(a);f!==null&&(!(f.expirationTime>C)||T&&!z());){var I=f.callback;if(typeof I=="function"){f.callback=null,h=f.priorityLevel;var D=I(f.expirationTime<=C);C=e.unstable_now(),typeof D=="function"?f.callback=D:f===n(a)&&r(a),w(C)}else r(a);f=n(a)}if(f!==null)var B=!0;else{var U=n(u);U!==null&&O(v,U.startTime-C),B=!1}return B}finally{f=null,h=A,p=!1}}var k=!1,S=null,P=-1,M=5,R=-1;function z(){return!(e.unstable_now()-R<M)}function V(){if(S!==null){var T=e.unstable_now();R=T;var C=!0;try{C=S(!0,T)}finally{C?F():(k=!1,S=null)}}else k=!1}var F;if(typeof g=="function")F=function(){g(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,L=N.port2;N.port1.onmessage=V,F=function(){L.postMessage(null)}}else F=function(){b(V,0)};function j(T){S=T,k||(k=!0,F())}function O(T,C){P=b(function(){T(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,j(E))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var C=3;break;default:C=h}var A=h;h=C;try{return T()}finally{h=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,C){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var A=h;h=T;try{return C()}finally{h=A}},e.unstable_scheduleCallback=function(T,C,A){var I=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?I+A:I):A=I,T){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=A+D,T={id:c++,callback:C,priorityLevel:T,startTime:A,expirationTime:D,sortIndex:-1},A>I?(T.sortIndex=A,t(u,T),n(a)===null&&T===n(u)&&(x?(m(P),P=-1):x=!0,O(v,A-I))):(T.sortIndex=D,t(a,T),y||p||(y=!0,j(E))),T},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(T){var C=h;return function(){var A=h;h=C;try{return T.apply(this,arguments)}finally{h=A}}}})(Wh);Uh.exports=Wh;var Zy=Uh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy=_,ft=Zy;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bh=new Set,Xo={};function gr(e,t){Jr(e,t),Jr(e+"Capture",t)}function Jr(e,t){for(Xo[e]=t,e=0;e<t.length;e++)Bh.add(t[e])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Na=Object.prototype.hasOwnProperty,qy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ld={},ad={};function ex(e){return Na.call(ad,e)?!0:Na.call(ld,e)?!1:qy.test(e)?ad[e]=!0:(ld[e]=!0,!1)}function tx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nx(e,t,n,r){if(t===null||typeof t>"u"||tx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ze(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new Ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new Ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new Ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new Ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new Ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new Ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new Ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new Ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new Ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hu=/[\-:]([a-z])/g;function Uu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hu,Uu);De[t]=new Ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hu,Uu);De[t]=new Ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hu,Uu);De[t]=new Ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new Ze(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new Ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wu(e,t,n,r){var o=De.hasOwnProperty(t)?De[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nx(t,n,o,r)&&(n=null),r||o===null?ex(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var mn=Jy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Li=Symbol.for("react.element"),Lr=Symbol.for("react.portal"),jr=Symbol.for("react.fragment"),Bu=Symbol.for("react.strict_mode"),ka=Symbol.for("react.profiler"),Kh=Symbol.for("react.provider"),Gh=Symbol.for("react.context"),Ku=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Ca=Symbol.for("react.suspense_list"),Gu=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),Yh=Symbol.for("react.offscreen"),ud=Symbol.iterator;function go(e){return e===null||typeof e!="object"?null:(e=ud&&e[ud]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,Il;function Po(e){if(Il===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Il=t&&t[1]||""}return`
`+Il+e}var Ol=!1;function zl(e,t){if(!e||Ol)return"";Ol=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var a=`
`+o[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Ol=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Po(e):""}function rx(e){switch(e.tag){case 5:return Po(e.type);case 16:return Po("Lazy");case 13:return Po("Suspense");case 19:return Po("SuspenseList");case 0:case 2:case 15:return e=zl(e.type,!1),e;case 11:return e=zl(e.type.render,!1),e;case 1:return e=zl(e.type,!0),e;default:return""}}function _a(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jr:return"Fragment";case Lr:return"Portal";case ka:return"Profiler";case Bu:return"StrictMode";case Ea:return"Suspense";case Ca:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gh:return(e.displayName||"Context")+".Consumer";case Kh:return(e._context.displayName||"Context")+".Provider";case Ku:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gu:return t=e.displayName||null,t!==null?t:_a(e.type)||"Memo";case wn:t=e._payload,e=e._init;try{return _a(e(t))}catch{}}return null}function ox(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _a(t);case 8:return t===Bu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ix(e){var t=Xh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ji(e){e._valueTracker||(e._valueTracker=ix(e))}function Qh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Xh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function La(e,t){var n=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function cd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Dn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zh(e,t){t=t.checked,t!=null&&Wu(e,"checked",t,!1)}function ja(e,t){Zh(e,t);var n=Dn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pa(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pa(e,t.type,Dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Pa(e,t,n){(t!=="number"||ys(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var To=Array.isArray;function Vr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ta(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(To(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dn(n)}}function Jh(e,t){var n=Dn(t.value),r=Dn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function hd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ma(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pi,ep=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pi=Pi||document.createElement("div"),Pi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sx=["Webkit","ms","Moz","O"];Object.keys(zo).forEach(function(e){sx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zo[t]=zo[e]})});function tp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zo.hasOwnProperty(e)&&zo[e]?(""+t).trim():t+"px"}function np(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=tp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var lx=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ra(e,t){if(t){if(lx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Aa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $a=null;function Yu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ia=null,Hr=null,Ur=null;function pd(e){if(e=Ni(e)){if(typeof Ia!="function")throw Error(H(280));var t=e.stateNode;t&&(t=cl(t),Ia(e.stateNode,e.type,t))}}function rp(e){Hr?Ur?Ur.push(e):Ur=[e]:Hr=e}function op(){if(Hr){var e=Hr,t=Ur;if(Ur=Hr=null,pd(e),t)for(e=0;e<t.length;e++)pd(t[e])}}function ip(e,t){return e(t)}function sp(){}var Dl=!1;function lp(e,t,n){if(Dl)return e(t,n);Dl=!0;try{return ip(e,t,n)}finally{Dl=!1,(Hr!==null||Ur!==null)&&(sp(),op())}}function Zo(e,t){var n=e.stateNode;if(n===null)return null;var r=cl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Oa=!1;if(un)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){Oa=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{Oa=!1}function ax(e,t,n,r,o,i,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Do=!1,xs=null,vs=!1,za=null,ux={onError:function(e){Do=!0,xs=e}};function cx(e,t,n,r,o,i,s,l,a){Do=!1,xs=null,ax.apply(ux,arguments)}function dx(e,t,n,r,o,i,s,l,a){if(cx.apply(this,arguments),Do){if(Do){var u=xs;Do=!1,xs=null}else throw Error(H(198));vs||(vs=!0,za=u)}}function yr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ap(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function md(e){if(yr(e)!==e)throw Error(H(188))}function fx(e){var t=e.alternate;if(!t){if(t=yr(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return md(o),e;if(i===r)return md(o),t;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function up(e){return e=fx(e),e!==null?cp(e):null}function cp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cp(e);if(t!==null)return t;e=e.sibling}return null}var dp=ft.unstable_scheduleCallback,gd=ft.unstable_cancelCallback,hx=ft.unstable_shouldYield,px=ft.unstable_requestPaint,_e=ft.unstable_now,mx=ft.unstable_getCurrentPriorityLevel,Xu=ft.unstable_ImmediatePriority,fp=ft.unstable_UserBlockingPriority,ws=ft.unstable_NormalPriority,gx=ft.unstable_LowPriority,hp=ft.unstable_IdlePriority,sl=null,Gt=null;function yx(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(sl,e,void 0,(e.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:wx,xx=Math.log,vx=Math.LN2;function wx(e){return e>>>=0,e===0?32:31-(xx(e)/vx|0)|0}var Ti=64,Mi=4194304;function Mo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ss(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=Mo(l):(i&=s,i!==0&&(r=Mo(i)))}else s=n&~o,s!==0?r=Mo(s):i!==0&&(r=Mo(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-It(t),o=1<<n,r|=e[n],t&=~o;return r}function Sx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-It(i),l=1<<s,a=o[s];a===-1?(!(l&n)||l&r)&&(o[s]=Sx(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Da(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pp(){var e=Ti;return Ti<<=1,!(Ti&4194240)&&(Ti=64),e}function Fl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Si(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-It(t),e[t]=n}function Nx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-It(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Qu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-It(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var he=0;function mp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gp,Zu,yp,xp,vp,Fa=!1,Ri=[],jn=null,Pn=null,Tn=null,Jo=new Map,qo=new Map,kn=[],kx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yd(e,t){switch(e){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":Jo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(t.pointerId)}}function xo(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Ni(t),t!==null&&Zu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ex(e,t,n,r,o){switch(t){case"focusin":return jn=xo(jn,e,t,n,r,o),!0;case"dragenter":return Pn=xo(Pn,e,t,n,r,o),!0;case"mouseover":return Tn=xo(Tn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Jo.set(i,xo(Jo.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,qo.set(i,xo(qo.get(i)||null,e,t,n,r,o)),!0}return!1}function wp(e){var t=er(e.target);if(t!==null){var n=yr(t);if(n!==null){if(t=n.tag,t===13){if(t=ap(n),t!==null){e.blockedOn=t,vp(e.priority,function(){yp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ns(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Va(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$a=r,n.target.dispatchEvent(r),$a=null}else return t=Ni(n),t!==null&&Zu(t),e.blockedOn=n,!1;t.shift()}return!0}function xd(e,t,n){ns(e)&&n.delete(t)}function Cx(){Fa=!1,jn!==null&&ns(jn)&&(jn=null),Pn!==null&&ns(Pn)&&(Pn=null),Tn!==null&&ns(Tn)&&(Tn=null),Jo.forEach(xd),qo.forEach(xd)}function vo(e,t){e.blockedOn===t&&(e.blockedOn=null,Fa||(Fa=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,Cx)))}function ei(e){function t(o){return vo(o,e)}if(0<Ri.length){vo(Ri[0],e);for(var n=1;n<Ri.length;n++){var r=Ri[n];r.blockedOn===e&&(r.blockedOn=null)}}for(jn!==null&&vo(jn,e),Pn!==null&&vo(Pn,e),Tn!==null&&vo(Tn,e),Jo.forEach(t),qo.forEach(t),n=0;n<kn.length;n++)r=kn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<kn.length&&(n=kn[0],n.blockedOn===null);)wp(n),n.blockedOn===null&&kn.shift()}var Wr=mn.ReactCurrentBatchConfig,bs=!0;function _x(e,t,n,r){var o=he,i=Wr.transition;Wr.transition=null;try{he=1,Ju(e,t,n,r)}finally{he=o,Wr.transition=i}}function Lx(e,t,n,r){var o=he,i=Wr.transition;Wr.transition=null;try{he=4,Ju(e,t,n,r)}finally{he=o,Wr.transition=i}}function Ju(e,t,n,r){if(bs){var o=Va(e,t,n,r);if(o===null)Ql(e,t,r,Ns,n),yd(e,r);else if(Ex(o,e,t,n,r))r.stopPropagation();else if(yd(e,r),t&4&&-1<kx.indexOf(e)){for(;o!==null;){var i=Ni(o);if(i!==null&&gp(i),i=Va(e,t,n,r),i===null&&Ql(e,t,r,Ns,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Ql(e,t,r,null,n)}}var Ns=null;function Va(e,t,n,r){if(Ns=null,e=Yu(r),e=er(e),e!==null)if(t=yr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ap(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ns=e,null}function Sp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mx()){case Xu:return 1;case fp:return 4;case ws:case gx:return 16;case hp:return 536870912;default:return 16}default:return 16}}var _n=null,qu=null,rs=null;function bp(){if(rs)return rs;var e,t=qu,n=t.length,r,o="value"in _n?_n.value:_n.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return rs=o.slice(e,1<r?1-r:void 0)}function os(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function vd(){return!1}function mt(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ai:vd,this.isPropagationStopped=vd,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),t}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ec=mt(co),bi=be({},co,{view:0,detail:0}),jx=mt(bi),Vl,Hl,wo,ll=be({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wo&&(wo&&e.type==="mousemove"?(Vl=e.screenX-wo.screenX,Hl=e.screenY-wo.screenY):Hl=Vl=0,wo=e),Vl)},movementY:function(e){return"movementY"in e?e.movementY:Hl}}),wd=mt(ll),Px=be({},ll,{dataTransfer:0}),Tx=mt(Px),Mx=be({},bi,{relatedTarget:0}),Ul=mt(Mx),Rx=be({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),Ax=mt(Rx),$x=be({},co,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ix=mt($x),Ox=be({},co,{data:0}),Sd=mt(Ox),zx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fx[e])?!!t[e]:!1}function tc(){return Vx}var Hx=be({},bi,{key:function(e){if(e.key){var t=zx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tc,charCode:function(e){return e.type==="keypress"?os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ux=mt(Hx),Wx=be({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bd=mt(Wx),Bx=be({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tc}),Kx=mt(Bx),Gx=be({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yx=mt(Gx),Xx=be({},ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qx=mt(Xx),Zx=[9,13,27,32],nc=un&&"CompositionEvent"in window,Fo=null;un&&"documentMode"in document&&(Fo=document.documentMode);var Jx=un&&"TextEvent"in window&&!Fo,Np=un&&(!nc||Fo&&8<Fo&&11>=Fo),Nd=" ",kd=!1;function kp(e,t){switch(e){case"keyup":return Zx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ep(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pr=!1;function qx(e,t){switch(e){case"compositionend":return Ep(t);case"keypress":return t.which!==32?null:(kd=!0,Nd);case"textInput":return e=t.data,e===Nd&&kd?null:e;default:return null}}function e1(e,t){if(Pr)return e==="compositionend"||!nc&&kp(e,t)?(e=bp(),rs=qu=_n=null,Pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Np&&t.locale!=="ko"?null:t.data;default:return null}}var t1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!t1[e.type]:t==="textarea"}function Cp(e,t,n,r){rp(r),t=ks(t,"onChange"),0<t.length&&(n=new ec("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vo=null,ti=null;function n1(e){Op(e,0)}function al(e){var t=Rr(e);if(Qh(t))return e}function r1(e,t){if(e==="change")return t}var _p=!1;if(un){var Wl;if(un){var Bl="oninput"in document;if(!Bl){var Cd=document.createElement("div");Cd.setAttribute("oninput","return;"),Bl=typeof Cd.oninput=="function"}Wl=Bl}else Wl=!1;_p=Wl&&(!document.documentMode||9<document.documentMode)}function _d(){Vo&&(Vo.detachEvent("onpropertychange",Lp),ti=Vo=null)}function Lp(e){if(e.propertyName==="value"&&al(ti)){var t=[];Cp(t,ti,e,Yu(e)),lp(n1,t)}}function o1(e,t,n){e==="focusin"?(_d(),Vo=t,ti=n,Vo.attachEvent("onpropertychange",Lp)):e==="focusout"&&_d()}function i1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(ti)}function s1(e,t){if(e==="click")return al(t)}function l1(e,t){if(e==="input"||e==="change")return al(t)}function a1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:a1;function ni(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Na.call(t,o)||!zt(e[o],t[o]))return!1}return!0}function Ld(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jd(e,t){var n=Ld(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ld(n)}}function jp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pp(){for(var e=window,t=ys();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ys(e.document)}return t}function rc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function u1(e){var t=Pp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jp(n.ownerDocument.documentElement,n)){if(r!==null&&rc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=jd(n,i);var s=jd(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var c1=un&&"documentMode"in document&&11>=document.documentMode,Tr=null,Ha=null,Ho=null,Ua=!1;function Pd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ua||Tr==null||Tr!==ys(r)||(r=Tr,"selectionStart"in r&&rc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ho&&ni(Ho,r)||(Ho=r,r=ks(Ha,"onSelect"),0<r.length&&(t=new ec("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Tr)))}function $i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mr={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionend:$i("Transition","TransitionEnd")},Kl={},Tp={};un&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function ul(e){if(Kl[e])return Kl[e];if(!Mr[e])return e;var t=Mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Tp)return Kl[e]=t[n];return e}var Mp=ul("animationend"),Rp=ul("animationiteration"),Ap=ul("animationstart"),$p=ul("transitionend"),Ip=new Map,Td="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){Ip.set(e,t),gr(t,[e])}for(var Gl=0;Gl<Td.length;Gl++){var Yl=Td[Gl],d1=Yl.toLowerCase(),f1=Yl[0].toUpperCase()+Yl.slice(1);Un(d1,"on"+f1)}Un(Mp,"onAnimationEnd");Un(Rp,"onAnimationIteration");Un(Ap,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un($p,"onTransitionEnd");Jr("onMouseEnter",["mouseout","mouseover"]);Jr("onMouseLeave",["mouseout","mouseover"]);Jr("onPointerEnter",["pointerout","pointerover"]);Jr("onPointerLeave",["pointerout","pointerover"]);gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gr("onBeforeInput",["compositionend","keypress","textInput","paste"]);gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function Md(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,dx(r,t,void 0,e),e.currentTarget=null}function Op(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&o.isPropagationStopped())break e;Md(o,l,u),i=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&o.isPropagationStopped())break e;Md(o,l,u),i=a}}}if(vs)throw e=za,vs=!1,za=null,e}function ye(e,t){var n=t[Ya];n===void 0&&(n=t[Ya]=new Set);var r=e+"__bubble";n.has(r)||(zp(t,e,2,!1),n.add(r))}function Xl(e,t,n){var r=0;t&&(r|=4),zp(n,e,r,t)}var Ii="_reactListening"+Math.random().toString(36).slice(2);function ri(e){if(!e[Ii]){e[Ii]=!0,Bh.forEach(function(n){n!=="selectionchange"&&(h1.has(n)||Xl(n,!1,e),Xl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ii]||(t[Ii]=!0,Xl("selectionchange",!1,t))}}function zp(e,t,n,r){switch(Sp(t)){case 1:var o=_x;break;case 4:o=Lx;break;default:o=Ju}n=o.bind(null,t,n,e),o=void 0,!Oa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ql(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;s=s.return}for(;l!==null;){if(s=er(l),s===null)return;if(a=s.tag,a===5||a===6){r=i=s;continue e}l=l.parentNode}}r=r.return}lp(function(){var u=i,c=Yu(n),f=[];e:{var h=Ip.get(e);if(h!==void 0){var p=ec,y=e;switch(e){case"keypress":if(os(n)===0)break e;case"keydown":case"keyup":p=Ux;break;case"focusin":y="focus",p=Ul;break;case"focusout":y="blur",p=Ul;break;case"beforeblur":case"afterblur":p=Ul;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Tx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Kx;break;case Mp:case Rp:case Ap:p=Ax;break;case $p:p=Yx;break;case"scroll":p=jx;break;case"wheel":p=Qx;break;case"copy":case"cut":case"paste":p=Ix;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bd}var x=(t&4)!==0,b=!x&&e==="scroll",m=x?h!==null?h+"Capture":null:h;x=[];for(var g=u,w;g!==null;){w=g;var v=w.stateNode;if(w.tag===5&&v!==null&&(w=v,m!==null&&(v=Zo(g,m),v!=null&&x.push(oi(g,v,w)))),b)break;g=g.return}0<x.length&&(h=new p(h,y,null,n,c),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==$a&&(y=n.relatedTarget||n.fromElement)&&(er(y)||y[cn]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?er(y):null,y!==null&&(b=yr(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(x=wd,v="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=bd,v="onPointerLeave",m="onPointerEnter",g="pointer"),b=p==null?h:Rr(p),w=y==null?h:Rr(y),h=new x(v,g+"leave",p,n,c),h.target=b,h.relatedTarget=w,v=null,er(c)===u&&(x=new x(m,g+"enter",y,n,c),x.target=w,x.relatedTarget=b,v=x),b=v,p&&y)t:{for(x=p,m=y,g=0,w=x;w;w=vr(w))g++;for(w=0,v=m;v;v=vr(v))w++;for(;0<g-w;)x=vr(x),g--;for(;0<w-g;)m=vr(m),w--;for(;g--;){if(x===m||m!==null&&x===m.alternate)break t;x=vr(x),m=vr(m)}x=null}else x=null;p!==null&&Rd(f,h,p,x,!1),y!==null&&b!==null&&Rd(f,b,y,x,!0)}}e:{if(h=u?Rr(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=r1;else if(Ed(h))if(_p)E=l1;else{E=i1;var k=o1}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=s1);if(E&&(E=E(e,u))){Cp(f,E,n,c);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Pa(h,"number",h.value)}switch(k=u?Rr(u):window,e){case"focusin":(Ed(k)||k.contentEditable==="true")&&(Tr=k,Ha=u,Ho=null);break;case"focusout":Ho=Ha=Tr=null;break;case"mousedown":Ua=!0;break;case"contextmenu":case"mouseup":case"dragend":Ua=!1,Pd(f,n,c);break;case"selectionchange":if(c1)break;case"keydown":case"keyup":Pd(f,n,c)}var S;if(nc)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Pr?kp(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Np&&n.locale!=="ko"&&(Pr||P!=="onCompositionStart"?P==="onCompositionEnd"&&Pr&&(S=bp()):(_n=c,qu="value"in _n?_n.value:_n.textContent,Pr=!0)),k=ks(u,P),0<k.length&&(P=new Sd(P,e,null,n,c),f.push({event:P,listeners:k}),S?P.data=S:(S=Ep(n),S!==null&&(P.data=S)))),(S=Jx?qx(e,n):e1(e,n))&&(u=ks(u,"onBeforeInput"),0<u.length&&(c=new Sd("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}Op(f,t)})}function oi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ks(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Zo(e,n),i!=null&&r.unshift(oi(e,i,o)),i=Zo(e,t),i!=null&&r.push(oi(e,i,o))),e=e.return}return r}function vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rd(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=Zo(n,i),a!=null&&s.unshift(oi(n,a,l))):o||(a=Zo(n,i),a!=null&&s.push(oi(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var p1=/\r\n?/g,m1=/\u0000|\uFFFD/g;function Ad(e){return(typeof e=="string"?e:""+e).replace(p1,`
`).replace(m1,"")}function Oi(e,t,n){if(t=Ad(t),Ad(e)!==t&&n)throw Error(H(425))}function Es(){}var Wa=null,Ba=null;function Ka(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ga=typeof setTimeout=="function"?setTimeout:void 0,g1=typeof clearTimeout=="function"?clearTimeout:void 0,$d=typeof Promise=="function"?Promise:void 0,y1=typeof queueMicrotask=="function"?queueMicrotask:typeof $d<"u"?function(e){return $d.resolve(null).then(e).catch(x1)}:Ga;function x1(e){setTimeout(function(){throw e})}function Zl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),ei(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ei(t)}function Mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Id(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),Bt="__reactFiber$"+fo,ii="__reactProps$"+fo,cn="__reactContainer$"+fo,Ya="__reactEvents$"+fo,v1="__reactListeners$"+fo,w1="__reactHandles$"+fo;function er(e){var t=e[Bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cn]||n[Bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Id(e);e!==null;){if(n=e[Bt])return n;e=Id(e)}return t}e=n,n=e.parentNode}return null}function Ni(e){return e=e[Bt]||e[cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function cl(e){return e[ii]||null}var Xa=[],Ar=-1;function Wn(e){return{current:e}}function xe(e){0>Ar||(e.current=Xa[Ar],Xa[Ar]=null,Ar--)}function me(e,t){Ar++,Xa[Ar]=e.current,e.current=t}var Fn={},Ke=Wn(Fn),nt=Wn(!1),ur=Fn;function qr(e,t){var n=e.type.contextTypes;if(!n)return Fn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function rt(e){return e=e.childContextTypes,e!=null}function Cs(){xe(nt),xe(Ke)}function Od(e,t,n){if(Ke.current!==Fn)throw Error(H(168));me(Ke,t),me(nt,n)}function Dp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(H(108,ox(e)||"Unknown",o));return be({},n,r)}function _s(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fn,ur=Ke.current,me(Ke,e),me(nt,nt.current),!0}function zd(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=Dp(e,t,ur),r.__reactInternalMemoizedMergedChildContext=e,xe(nt),xe(Ke),me(Ke,e)):xe(nt),me(nt,n)}var nn=null,dl=!1,Jl=!1;function Fp(e){nn===null?nn=[e]:nn.push(e)}function S1(e){dl=!0,Fp(e)}function Bn(){if(!Jl&&nn!==null){Jl=!0;var e=0,t=he;try{var n=nn;for(he=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}nn=null,dl=!1}catch(o){throw nn!==null&&(nn=nn.slice(e+1)),dp(Xu,Bn),o}finally{he=t,Jl=!1}}return null}var $r=[],Ir=0,Ls=null,js=0,wt=[],St=0,cr=null,rn=1,on="";function Zn(e,t){$r[Ir++]=js,$r[Ir++]=Ls,Ls=e,js=t}function Vp(e,t,n){wt[St++]=rn,wt[St++]=on,wt[St++]=cr,cr=e;var r=rn;e=on;var o=32-It(r)-1;r&=~(1<<o),n+=1;var i=32-It(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,rn=1<<32-It(t)+o|n<<o|r,on=i+e}else rn=1<<i|n<<o|r,on=e}function oc(e){e.return!==null&&(Zn(e,1),Vp(e,1,0))}function ic(e){for(;e===Ls;)Ls=$r[--Ir],$r[Ir]=null,js=$r[--Ir],$r[Ir]=null;for(;e===cr;)cr=wt[--St],wt[St]=null,on=wt[--St],wt[St]=null,rn=wt[--St],wt[St]=null}var dt=null,ct=null,ve=!1,At=null;function Hp(e,t){var n=bt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Dd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dt=e,ct=Mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dt=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=cr!==null?{id:rn,overflow:on}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,dt=e,ct=null,!0):!1;default:return!1}}function Qa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Za(e){if(ve){var t=ct;if(t){var n=t;if(!Dd(e,t)){if(Qa(e))throw Error(H(418));t=Mn(n.nextSibling);var r=dt;t&&Dd(e,t)?Hp(r,n):(e.flags=e.flags&-4097|2,ve=!1,dt=e)}}else{if(Qa(e))throw Error(H(418));e.flags=e.flags&-4097|2,ve=!1,dt=e}}}function Fd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dt=e}function zi(e){if(e!==dt)return!1;if(!ve)return Fd(e),ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ka(e.type,e.memoizedProps)),t&&(t=ct)){if(Qa(e))throw Up(),Error(H(418));for(;t;)Hp(e,t),t=Mn(t.nextSibling)}if(Fd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ct=Mn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=dt?Mn(e.stateNode.nextSibling):null;return!0}function Up(){for(var e=ct;e;)e=Mn(e.nextSibling)}function eo(){ct=dt=null,ve=!1}function sc(e){At===null?At=[e]:At.push(e)}var b1=mn.ReactCurrentBatchConfig;function So(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Di(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vd(e){var t=e._init;return t(e._payload)}function Wp(e){function t(m,g){if(e){var w=m.deletions;w===null?(m.deletions=[g],m.flags|=16):w.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function o(m,g){return m=In(m,g),m.index=0,m.sibling=null,m}function i(m,g,w){return m.index=w,e?(w=m.alternate,w!==null?(w=w.index,w<g?(m.flags|=2,g):w):(m.flags|=2,g)):(m.flags|=1048576,g)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,g,w,v){return g===null||g.tag!==6?(g=ia(w,m.mode,v),g.return=m,g):(g=o(g,w),g.return=m,g)}function a(m,g,w,v){var E=w.type;return E===jr?c(m,g,w.props.children,v,w.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===wn&&Vd(E)===g.type)?(v=o(g,w.props),v.ref=So(m,g,w),v.return=m,v):(v=ds(w.type,w.key,w.props,null,m.mode,v),v.ref=So(m,g,w),v.return=m,v)}function u(m,g,w,v){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=sa(w,m.mode,v),g.return=m,g):(g=o(g,w.children||[]),g.return=m,g)}function c(m,g,w,v,E){return g===null||g.tag!==7?(g=sr(w,m.mode,v,E),g.return=m,g):(g=o(g,w),g.return=m,g)}function f(m,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ia(""+g,m.mode,w),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Li:return w=ds(g.type,g.key,g.props,null,m.mode,w),w.ref=So(m,null,g),w.return=m,w;case Lr:return g=sa(g,m.mode,w),g.return=m,g;case wn:var v=g._init;return f(m,v(g._payload),w)}if(To(g)||go(g))return g=sr(g,m.mode,w,null),g.return=m,g;Di(m,g)}return null}function h(m,g,w,v){var E=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:l(m,g,""+w,v);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Li:return w.key===E?a(m,g,w,v):null;case Lr:return w.key===E?u(m,g,w,v):null;case wn:return E=w._init,h(m,g,E(w._payload),v)}if(To(w)||go(w))return E!==null?null:c(m,g,w,v,null);Di(m,w)}return null}function p(m,g,w,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return m=m.get(w)||null,l(g,m,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Li:return m=m.get(v.key===null?w:v.key)||null,a(g,m,v,E);case Lr:return m=m.get(v.key===null?w:v.key)||null,u(g,m,v,E);case wn:var k=v._init;return p(m,g,w,k(v._payload),E)}if(To(v)||go(v))return m=m.get(w)||null,c(g,m,v,E,null);Di(g,v)}return null}function y(m,g,w,v){for(var E=null,k=null,S=g,P=g=0,M=null;S!==null&&P<w.length;P++){S.index>P?(M=S,S=null):M=S.sibling;var R=h(m,S,w[P],v);if(R===null){S===null&&(S=M);break}e&&S&&R.alternate===null&&t(m,S),g=i(R,g,P),k===null?E=R:k.sibling=R,k=R,S=M}if(P===w.length)return n(m,S),ve&&Zn(m,P),E;if(S===null){for(;P<w.length;P++)S=f(m,w[P],v),S!==null&&(g=i(S,g,P),k===null?E=S:k.sibling=S,k=S);return ve&&Zn(m,P),E}for(S=r(m,S);P<w.length;P++)M=p(S,m,P,w[P],v),M!==null&&(e&&M.alternate!==null&&S.delete(M.key===null?P:M.key),g=i(M,g,P),k===null?E=M:k.sibling=M,k=M);return e&&S.forEach(function(z){return t(m,z)}),ve&&Zn(m,P),E}function x(m,g,w,v){var E=go(w);if(typeof E!="function")throw Error(H(150));if(w=E.call(w),w==null)throw Error(H(151));for(var k=E=null,S=g,P=g=0,M=null,R=w.next();S!==null&&!R.done;P++,R=w.next()){S.index>P?(M=S,S=null):M=S.sibling;var z=h(m,S,R.value,v);if(z===null){S===null&&(S=M);break}e&&S&&z.alternate===null&&t(m,S),g=i(z,g,P),k===null?E=z:k.sibling=z,k=z,S=M}if(R.done)return n(m,S),ve&&Zn(m,P),E;if(S===null){for(;!R.done;P++,R=w.next())R=f(m,R.value,v),R!==null&&(g=i(R,g,P),k===null?E=R:k.sibling=R,k=R);return ve&&Zn(m,P),E}for(S=r(m,S);!R.done;P++,R=w.next())R=p(S,m,P,R.value,v),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?P:R.key),g=i(R,g,P),k===null?E=R:k.sibling=R,k=R);return e&&S.forEach(function(V){return t(m,V)}),ve&&Zn(m,P),E}function b(m,g,w,v){if(typeof w=="object"&&w!==null&&w.type===jr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Li:e:{for(var E=w.key,k=g;k!==null;){if(k.key===E){if(E=w.type,E===jr){if(k.tag===7){n(m,k.sibling),g=o(k,w.props.children),g.return=m,m=g;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===wn&&Vd(E)===k.type){n(m,k.sibling),g=o(k,w.props),g.ref=So(m,k,w),g.return=m,m=g;break e}n(m,k);break}else t(m,k);k=k.sibling}w.type===jr?(g=sr(w.props.children,m.mode,v,w.key),g.return=m,m=g):(v=ds(w.type,w.key,w.props,null,m.mode,v),v.ref=So(m,g,w),v.return=m,m=v)}return s(m);case Lr:e:{for(k=w.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(m,g.sibling),g=o(g,w.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=sa(w,m.mode,v),g.return=m,m=g}return s(m);case wn:return k=w._init,b(m,g,k(w._payload),v)}if(To(w))return y(m,g,w,v);if(go(w))return x(m,g,w,v);Di(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(m,g.sibling),g=o(g,w),g.return=m,m=g):(n(m,g),g=ia(w,m.mode,v),g.return=m,m=g),s(m)):n(m,g)}return b}var to=Wp(!0),Bp=Wp(!1),Ps=Wn(null),Ts=null,Or=null,lc=null;function ac(){lc=Or=Ts=null}function uc(e){var t=Ps.current;xe(Ps),e._currentValue=t}function Ja(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Br(e,t){Ts=e,lc=Or=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(et=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(lc!==e)if(e={context:e,memoizedValue:t,next:null},Or===null){if(Ts===null)throw Error(H(308));Or=e,Ts.dependencies={lanes:0,firstContext:e}}else Or=Or.next=e;return t}var tr=null;function cc(e){tr===null?tr=[e]:tr.push(e)}function Kp(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,cc(t)):(n.next=o.next,o.next=n),t.interleaved=n,dn(e,r)}function dn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sn=!1;function dc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ln(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,dn(e,n)}return o=r.interleaved,o===null?(t.next=t,cc(r)):(t.next=o.next,o.next=t),r.interleaved=t,dn(e,n)}function is(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qu(e,n)}}function Hd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ms(e,t,n,r){var o=e.updateQueue;Sn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?i=u:s.next=u,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var f=o.baseState;s=0,c=u=a=null,l=i;do{var h=l.lane,p=l.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,x=l;switch(h=t,p=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=be({},f,h);break e;case 2:Sn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=p,a=f):c=c.next=p,s|=h;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;h=l,l=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(c===null&&(a=f),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);fr|=s,e.lanes=s,e.memoizedState=f}}function Ud(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(H(191,o));o.call(r)}}}var ki={},Yt=Wn(ki),si=Wn(ki),li=Wn(ki);function nr(e){if(e===ki)throw Error(H(174));return e}function fc(e,t){switch(me(li,t),me(si,e),me(Yt,ki),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ma(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ma(t,e)}xe(Yt),me(Yt,t)}function no(){xe(Yt),xe(si),xe(li)}function Yp(e){nr(li.current);var t=nr(Yt.current),n=Ma(t,e.type);t!==n&&(me(si,e),me(Yt,n))}function hc(e){si.current===e&&(xe(Yt),xe(si))}var we=Wn(0);function Rs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ql=[];function pc(){for(var e=0;e<ql.length;e++)ql[e]._workInProgressVersionPrimary=null;ql.length=0}var ss=mn.ReactCurrentDispatcher,ea=mn.ReactCurrentBatchConfig,dr=0,Se=null,Pe=null,Me=null,As=!1,Uo=!1,ai=0,N1=0;function He(){throw Error(H(321))}function mc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zt(e[n],t[n]))return!1;return!0}function gc(e,t,n,r,o,i){if(dr=i,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ss.current=e===null||e.memoizedState===null?_1:L1,e=n(r,o),Uo){i=0;do{if(Uo=!1,ai=0,25<=i)throw Error(H(301));i+=1,Me=Pe=null,t.updateQueue=null,ss.current=j1,e=n(r,o)}while(Uo)}if(ss.current=$s,t=Pe!==null&&Pe.next!==null,dr=0,Me=Pe=Se=null,As=!1,t)throw Error(H(300));return e}function yc(){var e=ai!==0;return ai=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Se.memoizedState=Me=e:Me=Me.next=e,Me}function _t(){if(Pe===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Me===null?Se.memoizedState:Me.next;if(t!==null)Me=t,Pe=e;else{if(e===null)throw Error(H(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Me===null?Se.memoizedState=Me=e:Me=Me.next=e}return Me}function ui(e,t){return typeof t=="function"?t(e):t}function ta(e){var t=_t(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=Pe,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,a=null,u=i;do{var c=u.lane;if((dr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,s=r):a=a.next=f,Se.lanes|=c,fr|=c}u=u.next}while(u!==null&&u!==i);a===null?s=r:a.next=l,zt(r,t.memoizedState)||(et=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Se.lanes|=i,fr|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function na(e){var t=_t(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);zt(i,t.memoizedState)||(et=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Xp(){}function Qp(e,t){var n=Se,r=_t(),o=t(),i=!zt(r.memoizedState,o);if(i&&(r.memoizedState=o,et=!0),r=r.queue,xc(qp.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,ci(9,Jp.bind(null,n,r,o,t),void 0,null),Re===null)throw Error(H(349));dr&30||Zp(n,t,o)}return o}function Zp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jp(e,t,n,r){t.value=n,t.getSnapshot=r,em(t)&&tm(e)}function qp(e,t,n){return n(function(){em(t)&&tm(e)})}function em(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zt(e,n)}catch{return!0}}function tm(e){var t=dn(e,1);t!==null&&Ot(t,e,1,-1)}function Wd(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:e},t.queue=e,e=e.dispatch=C1.bind(null,Se,e),[t.memoizedState,e]}function ci(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function nm(){return _t().memoizedState}function ls(e,t,n,r){var o=Wt();Se.flags|=e,o.memoizedState=ci(1|t,n,void 0,r===void 0?null:r)}function fl(e,t,n,r){var o=_t();r=r===void 0?null:r;var i=void 0;if(Pe!==null){var s=Pe.memoizedState;if(i=s.destroy,r!==null&&mc(r,s.deps)){o.memoizedState=ci(t,n,i,r);return}}Se.flags|=e,o.memoizedState=ci(1|t,n,i,r)}function Bd(e,t){return ls(8390656,8,e,t)}function xc(e,t){return fl(2048,8,e,t)}function rm(e,t){return fl(4,2,e,t)}function om(e,t){return fl(4,4,e,t)}function im(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sm(e,t,n){return n=n!=null?n.concat([e]):null,fl(4,4,im.bind(null,t,e),n)}function vc(){}function lm(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function am(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function um(e,t,n){return dr&21?(zt(n,t)||(n=pp(),Se.lanes|=n,fr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,et=!0),e.memoizedState=n)}function k1(e,t){var n=he;he=n!==0&&4>n?n:4,e(!0);var r=ea.transition;ea.transition={};try{e(!1),t()}finally{he=n,ea.transition=r}}function cm(){return _t().memoizedState}function E1(e,t,n){var r=$n(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dm(e))fm(t,n);else if(n=Kp(e,t,n,r),n!==null){var o=Xe();Ot(n,e,r,o),hm(n,t,r)}}function C1(e,t,n){var r=$n(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dm(e))fm(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,zt(l,s)){var a=t.interleaved;a===null?(o.next=o,cc(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=Kp(e,t,o,r),n!==null&&(o=Xe(),Ot(n,e,r,o),hm(n,t,r))}}function dm(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function fm(e,t){Uo=As=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qu(e,n)}}var $s={readContext:Ct,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},_1={readContext:Ct,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:Bd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ls(4194308,4,im.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ls(4194308,4,e,t)},useInsertionEffect:function(e,t){return ls(4,2,e,t)},useMemo:function(e,t){var n=Wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=E1.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:Wd,useDebugValue:vc,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Wd(!1),t=e[0];return e=k1.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Se,o=Wt();if(ve){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Re===null)throw Error(H(349));dr&30||Zp(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Bd(qp.bind(null,r,i,e),[e]),r.flags|=2048,ci(9,Jp.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Wt(),t=Re.identifierPrefix;if(ve){var n=on,r=rn;n=(r&~(1<<32-It(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ai++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=N1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},L1={readContext:Ct,useCallback:lm,useContext:Ct,useEffect:xc,useImperativeHandle:sm,useInsertionEffect:rm,useLayoutEffect:om,useMemo:am,useReducer:ta,useRef:nm,useState:function(){return ta(ui)},useDebugValue:vc,useDeferredValue:function(e){var t=_t();return um(t,Pe.memoizedState,e)},useTransition:function(){var e=ta(ui)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Xp,useSyncExternalStore:Qp,useId:cm,unstable_isNewReconciler:!1},j1={readContext:Ct,useCallback:lm,useContext:Ct,useEffect:xc,useImperativeHandle:sm,useInsertionEffect:rm,useLayoutEffect:om,useMemo:am,useReducer:na,useRef:nm,useState:function(){return na(ui)},useDebugValue:vc,useDeferredValue:function(e){var t=_t();return Pe===null?t.memoizedState=e:um(t,Pe.memoizedState,e)},useTransition:function(){var e=na(ui)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Xp,useSyncExternalStore:Qp,useId:cm,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hl={isMounted:function(e){return(e=e._reactInternals)?yr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xe(),o=$n(e),i=ln(r,o);i.payload=t,n!=null&&(i.callback=n),t=Rn(e,i,o),t!==null&&(Ot(t,e,o,r),is(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xe(),o=$n(e),i=ln(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Rn(e,i,o),t!==null&&(Ot(t,e,o,r),is(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),r=$n(e),o=ln(n,r);o.tag=2,t!=null&&(o.callback=t),t=Rn(e,o,r),t!==null&&(Ot(t,e,r,n),is(t,e,r))}};function Kd(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!ni(n,r)||!ni(o,i):!0}function pm(e,t,n){var r=!1,o=Fn,i=t.contextType;return typeof i=="object"&&i!==null?i=Ct(i):(o=rt(t)?ur:Ke.current,r=t.contextTypes,i=(r=r!=null)?qr(e,o):Fn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Gd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hl.enqueueReplaceState(t,t.state,null)}function eu(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},dc(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Ct(i):(i=rt(t)?ur:Ke.current,o.context=qr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(qa(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&hl.enqueueReplaceState(o,o.state,null),Ms(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ro(e,t){try{var n="",r=t;do n+=rx(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function ra(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function tu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var P1=typeof WeakMap=="function"?WeakMap:Map;function mm(e,t,n){n=ln(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Os||(Os=!0,du=r),tu(e,t)},n}function gm(e,t,n){n=ln(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){tu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){tu(e,t),typeof r!="function"&&(An===null?An=new Set([this]):An.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Yd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new P1;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=W1.bind(null,e,t,n),t.then(e,e))}function Xd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ln(-1,1),t.tag=2,Rn(n,t,1))),n.lanes|=1),e)}var T1=mn.ReactCurrentOwner,et=!1;function Ye(e,t,n,r){t.child=e===null?Bp(t,null,n,r):to(t,e.child,n,r)}function Zd(e,t,n,r,o){n=n.render;var i=t.ref;return Br(t,o),r=gc(e,t,n,r,i,o),n=yc(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,fn(e,t,o)):(ve&&n&&oc(t),t.flags|=1,Ye(e,t,r,o),t.child)}function Jd(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!_c(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ym(e,t,i,r,o)):(e=ds(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:ni,n(s,r)&&e.ref===t.ref)return fn(e,t,o)}return t.flags|=1,e=In(i,r),e.ref=t.ref,e.return=t,t.child=e}function ym(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(ni(i,r)&&e.ref===t.ref)if(et=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(et=!0);else return t.lanes=e.lanes,fn(e,t,o)}return nu(e,t,n,r,o)}function xm(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Dr,at),at|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(Dr,at),at|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,me(Dr,at),at|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,me(Dr,at),at|=r;return Ye(e,t,o,n),t.child}function vm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function nu(e,t,n,r,o){var i=rt(n)?ur:Ke.current;return i=qr(t,i),Br(t,o),n=gc(e,t,n,r,i,o),r=yc(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,fn(e,t,o)):(ve&&r&&oc(t),t.flags|=1,Ye(e,t,n,o),t.child)}function qd(e,t,n,r,o){if(rt(n)){var i=!0;_s(t)}else i=!1;if(Br(t,o),t.stateNode===null)as(e,t),pm(t,n,r),eu(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ct(u):(u=rt(n)?ur:Ke.current,u=qr(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Gd(t,s,r,u),Sn=!1;var h=t.memoizedState;s.state=h,Ms(t,r,s,o),a=t.memoizedState,l!==r||h!==a||nt.current||Sn?(typeof c=="function"&&(qa(t,n,c,r),a=t.memoizedState),(l=Sn||Kd(t,n,l,r,h,a,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Gp(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Tt(t.type,l),s.props=u,f=t.pendingProps,h=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ct(a):(a=rt(n)?ur:Ke.current,a=qr(t,a));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||h!==a)&&Gd(t,s,r,a),Sn=!1,h=t.memoizedState,s.state=h,Ms(t,r,s,o);var y=t.memoizedState;l!==f||h!==y||nt.current||Sn?(typeof p=="function"&&(qa(t,n,p,r),y=t.memoizedState),(u=Sn||Kd(t,n,u,r,h,y,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ru(e,t,n,r,i,o)}function ru(e,t,n,r,o,i){vm(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&zd(t,n,!1),fn(e,t,i);r=t.stateNode,T1.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=to(t,e.child,null,i),t.child=to(t,null,l,i)):Ye(e,t,l,i),t.memoizedState=r.state,o&&zd(t,n,!0),t.child}function wm(e){var t=e.stateNode;t.pendingContext?Od(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Od(e,t.context,!1),fc(e,t.containerInfo)}function ef(e,t,n,r,o){return eo(),sc(o),t.flags|=256,Ye(e,t,n,r),t.child}var ou={dehydrated:null,treeContext:null,retryLane:0};function iu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sm(e,t,n){var r=t.pendingProps,o=we.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),me(we,o&1),e===null)return Za(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=gl(s,r,0,null),e=sr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=iu(n),t.memoizedState=ou,e):wc(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return M1(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=In(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=In(l,i):(i=sr(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?iu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=ou,r}return i=e.child,e=i.sibling,r=In(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function wc(e,t){return t=gl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fi(e,t,n,r){return r!==null&&sc(r),to(t,e.child,null,n),e=wc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function M1(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=ra(Error(H(422))),Fi(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=gl({mode:"visible",children:r.children},o,0,null),i=sr(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&to(t,e.child,null,s),t.child.memoizedState=iu(s),t.memoizedState=ou,i);if(!(t.mode&1))return Fi(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(H(419)),r=ra(i,r,void 0),Fi(e,t,s,r)}if(l=(s&e.childLanes)!==0,et||l){if(r=Re,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,dn(e,o),Ot(r,e,o,-1))}return Cc(),r=ra(Error(H(421))),Fi(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=B1.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,ct=Mn(o.nextSibling),dt=t,ve=!0,At=null,e!==null&&(wt[St++]=rn,wt[St++]=on,wt[St++]=cr,rn=e.id,on=e.overflow,cr=t),t=wc(t,r.children),t.flags|=4096,t)}function tf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ja(e.return,t,n)}function oa(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function bm(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ye(e,t,r.children,n),r=we.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tf(e,n,t);else if(e.tag===19)tf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(me(we,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Rs(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),oa(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Rs(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}oa(t,!0,n,null,i);break;case"together":oa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function as(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=In(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=In(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function R1(e,t,n){switch(t.tag){case 3:wm(t),eo();break;case 5:Yp(t);break;case 1:rt(t.type)&&_s(t);break;case 4:fc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;me(Ps,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(me(we,we.current&1),t.flags|=128,null):n&t.child.childLanes?Sm(e,t,n):(me(we,we.current&1),e=fn(e,t,n),e!==null?e.sibling:null);me(we,we.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return bm(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),me(we,we.current),r)break;return null;case 22:case 23:return t.lanes=0,xm(e,t,n)}return fn(e,t,n)}var Nm,su,km,Em;Nm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};su=function(){};km=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,nr(Yt.current);var i=null;switch(n){case"input":o=La(e,o),r=La(e,r),i=[];break;case"select":o=be({},o,{value:void 0}),r=be({},r,{value:void 0}),i=[];break;case"textarea":o=Ta(e,o),r=Ta(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Es)}Ra(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xo.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ye("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Em=function(e,t,n,r){n!==r&&(t.flags|=4)};function bo(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function A1(e,t,n){var r=t.pendingProps;switch(ic(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return rt(t.type)&&Cs(),Ue(t),null;case 3:return r=t.stateNode,no(),xe(nt),xe(Ke),pc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,At!==null&&(pu(At),At=null))),su(e,t),Ue(t),null;case 5:hc(t);var o=nr(li.current);if(n=t.type,e!==null&&t.stateNode!=null)km(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Ue(t),null}if(e=nr(Yt.current),zi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Bt]=t,r[ii]=i,e=(t.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(o=0;o<Ro.length;o++)ye(Ro[o],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":cd(r,i),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ye("invalid",r);break;case"textarea":fd(r,i),ye("invalid",r)}Ra(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Oi(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Oi(r.textContent,l,e),o=["children",""+l]):Xo.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ye("scroll",r)}switch(n){case"input":ji(r),dd(r,i,!0);break;case"textarea":ji(r),hd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Es)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Bt]=t,e[ii]=r,Nm(e,t,!1,!1),t.stateNode=e;e:{switch(s=Aa(n,r),n){case"dialog":ye("cancel",e),ye("close",e),o=r;break;case"iframe":case"object":case"embed":ye("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ro.length;o++)ye(Ro[o],e);o=r;break;case"source":ye("error",e),o=r;break;case"img":case"image":case"link":ye("error",e),ye("load",e),o=r;break;case"details":ye("toggle",e),o=r;break;case"input":cd(e,r),o=La(e,r),ye("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=be({},r,{value:void 0}),ye("invalid",e);break;case"textarea":fd(e,r),o=Ta(e,r),ye("invalid",e);break;default:o=r}Ra(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?np(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&ep(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Qo(e,a):typeof a=="number"&&Qo(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xo.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ye("scroll",e):a!=null&&Wu(e,i,a,s))}switch(n){case"input":ji(e),dd(e,r,!1);break;case"textarea":ji(e),hd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Dn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Vr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Vr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Es)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ue(t),null;case 6:if(e&&t.stateNode!=null)Em(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=nr(li.current),nr(Yt.current),zi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Bt]=t,(i=r.nodeValue!==n)&&(e=dt,e!==null))switch(e.tag){case 3:Oi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bt]=t,t.stateNode=r}return Ue(t),null;case 13:if(xe(we),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ve&&ct!==null&&t.mode&1&&!(t.flags&128))Up(),eo(),t.flags|=98560,i=!1;else if(i=zi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(H(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Bt]=t}else eo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ue(t),i=!1}else At!==null&&(pu(At),At=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?Te===0&&(Te=3):Cc())),t.updateQueue!==null&&(t.flags|=4),Ue(t),null);case 4:return no(),su(e,t),e===null&&ri(t.stateNode.containerInfo),Ue(t),null;case 10:return uc(t.type._context),Ue(t),null;case 17:return rt(t.type)&&Cs(),Ue(t),null;case 19:if(xe(we),i=t.memoizedState,i===null)return Ue(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)bo(i,!1);else{if(Te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Rs(e),s!==null){for(t.flags|=128,bo(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return me(we,we.current&1|2),t.child}e=e.sibling}i.tail!==null&&_e()>oo&&(t.flags|=128,r=!0,bo(i,!1),t.lanes=4194304)}else{if(!r)if(e=Rs(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),bo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ve)return Ue(t),null}else 2*_e()-i.renderingStartTime>oo&&n!==1073741824&&(t.flags|=128,r=!0,bo(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=_e(),t.sibling=null,n=we.current,me(we,r?n&1|2:n&1),t):(Ue(t),null);case 22:case 23:return Ec(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?at&1073741824&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function $1(e,t){switch(ic(t),t.tag){case 1:return rt(t.type)&&Cs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return no(),xe(nt),xe(Ke),pc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hc(t),null;case 13:if(xe(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));eo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(we),null;case 4:return no(),null;case 10:return uc(t.type._context),null;case 22:case 23:return Ec(),null;case 24:return null;default:return null}}var Vi=!1,Be=!1,I1=typeof WeakSet=="function"?WeakSet:Set,G=null;function zr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(e,t,r)}else n.current=null}function lu(e,t,n){try{n()}catch(r){ke(e,t,r)}}var nf=!1;function O1(e,t){if(Wa=bs,e=Pp(),rc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var p;f!==n||o!==0&&f.nodeType!==3||(l=s+o),f!==i||r!==0&&f.nodeType!==3||(a=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===o&&(l=s),h===i&&++c===r&&(a=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ba={focusedElem:e,selectionRange:n},bs=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,b=y.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:Tt(t.type,x),b);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(v){ke(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return y=nf,nf=!1,y}function Wo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&lu(t,n,i)}o=o.next}while(o!==r)}}function pl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Cm(e){var t=e.alternate;t!==null&&(e.alternate=null,Cm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bt],delete t[ii],delete t[Ya],delete t[v1],delete t[w1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _m(e){return e.tag===5||e.tag===3||e.tag===4}function rf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_m(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Es));else if(r!==4&&(e=e.child,e!==null))for(uu(e,t,n),e=e.sibling;e!==null;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(cu(e,t,n),e=e.sibling;e!==null;)cu(e,t,n),e=e.sibling}var Oe=null,Mt=!1;function xn(e,t,n){for(n=n.child;n!==null;)Lm(e,t,n),n=n.sibling}function Lm(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(sl,n)}catch{}switch(n.tag){case 5:Be||zr(n,t);case 6:var r=Oe,o=Mt;Oe=null,xn(e,t,n),Oe=r,Mt=o,Oe!==null&&(Mt?(e=Oe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Oe.removeChild(n.stateNode));break;case 18:Oe!==null&&(Mt?(e=Oe,n=n.stateNode,e.nodeType===8?Zl(e.parentNode,n):e.nodeType===1&&Zl(e,n),ei(e)):Zl(Oe,n.stateNode));break;case 4:r=Oe,o=Mt,Oe=n.stateNode.containerInfo,Mt=!0,xn(e,t,n),Oe=r,Mt=o;break;case 0:case 11:case 14:case 15:if(!Be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&lu(n,t,s),o=o.next}while(o!==r)}xn(e,t,n);break;case 1:if(!Be&&(zr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ke(n,t,l)}xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:n.mode&1?(Be=(r=Be)||n.memoizedState!==null,xn(e,t,n),Be=r):xn(e,t,n);break;default:xn(e,t,n)}}function of(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new I1),t.forEach(function(r){var o=K1.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Pt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Oe=l.stateNode,Mt=!1;break e;case 3:Oe=l.stateNode.containerInfo,Mt=!0;break e;case 4:Oe=l.stateNode.containerInfo,Mt=!0;break e}l=l.return}if(Oe===null)throw Error(H(160));Lm(i,s,o),Oe=null,Mt=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){ke(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jm(t,e),t=t.sibling}function jm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(t,e),Ut(e),r&4){try{Wo(3,e,e.return),pl(3,e)}catch(x){ke(e,e.return,x)}try{Wo(5,e,e.return)}catch(x){ke(e,e.return,x)}}break;case 1:Pt(t,e),Ut(e),r&512&&n!==null&&zr(n,n.return);break;case 5:if(Pt(t,e),Ut(e),r&512&&n!==null&&zr(n,n.return),e.flags&32){var o=e.stateNode;try{Qo(o,"")}catch(x){ke(e,e.return,x)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Zh(o,i),Aa(l,s);var u=Aa(l,i);for(s=0;s<a.length;s+=2){var c=a[s],f=a[s+1];c==="style"?np(o,f):c==="dangerouslySetInnerHTML"?ep(o,f):c==="children"?Qo(o,f):Wu(o,c,f,u)}switch(l){case"input":ja(o,i);break;case"textarea":Jh(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Vr(o,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Vr(o,!!i.multiple,i.defaultValue,!0):Vr(o,!!i.multiple,i.multiple?[]:"",!1))}o[ii]=i}catch(x){ke(e,e.return,x)}}break;case 6:if(Pt(t,e),Ut(e),r&4){if(e.stateNode===null)throw Error(H(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(x){ke(e,e.return,x)}}break;case 3:if(Pt(t,e),Ut(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ei(t.containerInfo)}catch(x){ke(e,e.return,x)}break;case 4:Pt(t,e),Ut(e);break;case 13:Pt(t,e),Ut(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Nc=_e())),r&4&&of(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Be=(u=Be)||c,Pt(t,e),Be=u):Pt(t,e),Ut(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(G=e,c=e.child;c!==null;){for(f=G=c;G!==null;){switch(h=G,p=h.child,h.tag){case 0:case 11:case 14:case 15:Wo(4,h,h.return);break;case 1:zr(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){ke(r,n,x)}}break;case 5:zr(h,h.return);break;case 22:if(h.memoizedState!==null){lf(f);continue}}p!==null?(p.return=h,G=p):lf(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=tp("display",s))}catch(x){ke(e,e.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){ke(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pt(t,e),Ut(e),r&4&&of(e);break;case 21:break;default:Pt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_m(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Qo(o,""),r.flags&=-33);var i=rf(e);cu(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=rf(e);uu(e,l,s);break;default:throw Error(H(161))}}catch(a){ke(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function z1(e,t,n){G=e,Pm(e)}function Pm(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var o=G,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Vi;if(!s){var l=o.alternate,a=l!==null&&l.memoizedState!==null||Be;l=Vi;var u=Be;if(Vi=s,(Be=a)&&!u)for(G=o;G!==null;)s=G,a=s.child,s.tag===22&&s.memoizedState!==null?af(o):a!==null?(a.return=s,G=a):af(o);for(;i!==null;)G=i,Pm(i),i=i.sibling;G=o,Vi=l,Be=u}sf(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,G=i):sf(e)}}function sf(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Be||pl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Be)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Tt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ud(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ud(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ei(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Be||t.flags&512&&au(t)}catch(h){ke(t,t.return,h)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function lf(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function af(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pl(4,t)}catch(a){ke(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){ke(t,o,a)}}var i=t.return;try{au(t)}catch(a){ke(t,i,a)}break;case 5:var s=t.return;try{au(t)}catch(a){ke(t,s,a)}}}catch(a){ke(t,t.return,a)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var D1=Math.ceil,Is=mn.ReactCurrentDispatcher,Sc=mn.ReactCurrentOwner,kt=mn.ReactCurrentBatchConfig,le=0,Re=null,Le=null,ze=0,at=0,Dr=Wn(0),Te=0,di=null,fr=0,ml=0,bc=0,Bo=null,qe=null,Nc=0,oo=1/0,tn=null,Os=!1,du=null,An=null,Hi=!1,Ln=null,zs=0,Ko=0,fu=null,us=-1,cs=0;function Xe(){return le&6?_e():us!==-1?us:us=_e()}function $n(e){return e.mode&1?le&2&&ze!==0?ze&-ze:b1.transition!==null?(cs===0&&(cs=pp()),cs):(e=he,e!==0||(e=window.event,e=e===void 0?16:Sp(e.type)),e):1}function Ot(e,t,n,r){if(50<Ko)throw Ko=0,fu=null,Error(H(185));Si(e,n,r),(!(le&2)||e!==Re)&&(e===Re&&(!(le&2)&&(ml|=n),Te===4&&En(e,ze)),ot(e,r),n===1&&le===0&&!(t.mode&1)&&(oo=_e()+500,dl&&Bn()))}function ot(e,t){var n=e.callbackNode;bx(e,t);var r=Ss(e,e===Re?ze:0);if(r===0)n!==null&&gd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&gd(n),t===1)e.tag===0?S1(uf.bind(null,e)):Fp(uf.bind(null,e)),y1(function(){!(le&6)&&Bn()}),n=null;else{switch(mp(r)){case 1:n=Xu;break;case 4:n=fp;break;case 16:n=ws;break;case 536870912:n=hp;break;default:n=ws}n=zm(n,Tm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Tm(e,t){if(us=-1,cs=0,le&6)throw Error(H(327));var n=e.callbackNode;if(Kr()&&e.callbackNode!==n)return null;var r=Ss(e,e===Re?ze:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ds(e,r);else{t=r;var o=le;le|=2;var i=Rm();(Re!==e||ze!==t)&&(tn=null,oo=_e()+500,ir(e,t));do try{H1();break}catch(l){Mm(e,l)}while(!0);ac(),Is.current=i,le=o,Le!==null?t=0:(Re=null,ze=0,t=Te)}if(t!==0){if(t===2&&(o=Da(e),o!==0&&(r=o,t=hu(e,o))),t===1)throw n=di,ir(e,0),En(e,r),ot(e,_e()),n;if(t===6)En(e,r);else{if(o=e.current.alternate,!(r&30)&&!F1(o)&&(t=Ds(e,r),t===2&&(i=Da(e),i!==0&&(r=i,t=hu(e,i))),t===1))throw n=di,ir(e,0),En(e,r),ot(e,_e()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:Jn(e,qe,tn);break;case 3:if(En(e,r),(r&130023424)===r&&(t=Nc+500-_e(),10<t)){if(Ss(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Xe(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ga(Jn.bind(null,e,qe,tn),t);break}Jn(e,qe,tn);break;case 4:if(En(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-It(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*D1(r/1960))-r,10<r){e.timeoutHandle=Ga(Jn.bind(null,e,qe,tn),r);break}Jn(e,qe,tn);break;case 5:Jn(e,qe,tn);break;default:throw Error(H(329))}}}return ot(e,_e()),e.callbackNode===n?Tm.bind(null,e):null}function hu(e,t){var n=Bo;return e.current.memoizedState.isDehydrated&&(ir(e,t).flags|=256),e=Ds(e,t),e!==2&&(t=qe,qe=n,t!==null&&pu(t)),e}function pu(e){qe===null?qe=e:qe.push.apply(qe,e)}function F1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!zt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function En(e,t){for(t&=~bc,t&=~ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-It(t),r=1<<n;e[n]=-1,t&=~r}}function uf(e){if(le&6)throw Error(H(327));Kr();var t=Ss(e,0);if(!(t&1))return ot(e,_e()),null;var n=Ds(e,t);if(e.tag!==0&&n===2){var r=Da(e);r!==0&&(t=r,n=hu(e,r))}if(n===1)throw n=di,ir(e,0),En(e,t),ot(e,_e()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jn(e,qe,tn),ot(e,_e()),null}function kc(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(oo=_e()+500,dl&&Bn())}}function hr(e){Ln!==null&&Ln.tag===0&&!(le&6)&&Kr();var t=le;le|=1;var n=kt.transition,r=he;try{if(kt.transition=null,he=1,e)return e()}finally{he=r,kt.transition=n,le=t,!(le&6)&&Bn()}}function Ec(){at=Dr.current,xe(Dr)}function ir(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,g1(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(ic(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cs();break;case 3:no(),xe(nt),xe(Ke),pc();break;case 5:hc(r);break;case 4:no();break;case 13:xe(we);break;case 19:xe(we);break;case 10:uc(r.type._context);break;case 22:case 23:Ec()}n=n.return}if(Re=e,Le=e=In(e.current,null),ze=at=t,Te=0,di=null,bc=ml=fr=0,qe=Bo=null,tr!==null){for(t=0;t<tr.length;t++)if(n=tr[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}tr=null}return e}function Mm(e,t){do{var n=Le;try{if(ac(),ss.current=$s,As){for(var r=Se.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}As=!1}if(dr=0,Me=Pe=Se=null,Uo=!1,ai=0,Sc.current=null,n===null||n.return===null){Te=1,di=t,Le=null;break}e:{var i=e,s=n.return,l=n,a=t;if(t=ze,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Xd(s);if(p!==null){p.flags&=-257,Qd(p,s,l,i,t),p.mode&1&&Yd(i,u,t),t=p,a=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(a),t.updateQueue=x}else y.add(a);break e}else{if(!(t&1)){Yd(i,u,t),Cc();break e}a=Error(H(426))}}else if(ve&&l.mode&1){var b=Xd(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Qd(b,s,l,i,t),sc(ro(a,l));break e}}i=a=ro(a,l),Te!==4&&(Te=2),Bo===null?Bo=[i]:Bo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=mm(i,a,t);Hd(i,m);break e;case 1:l=a;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(An===null||!An.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=gm(i,l,t);Hd(i,v);break e}}i=i.return}while(i!==null)}$m(n)}catch(E){t=E,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function Rm(){var e=Is.current;return Is.current=$s,e===null?$s:e}function Cc(){(Te===0||Te===3||Te===2)&&(Te=4),Re===null||!(fr&268435455)&&!(ml&268435455)||En(Re,ze)}function Ds(e,t){var n=le;le|=2;var r=Rm();(Re!==e||ze!==t)&&(tn=null,ir(e,t));do try{V1();break}catch(o){Mm(e,o)}while(!0);if(ac(),le=n,Is.current=r,Le!==null)throw Error(H(261));return Re=null,ze=0,Te}function V1(){for(;Le!==null;)Am(Le)}function H1(){for(;Le!==null&&!hx();)Am(Le)}function Am(e){var t=Om(e.alternate,e,at);e.memoizedProps=e.pendingProps,t===null?$m(e):Le=t,Sc.current=null}function $m(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$1(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,Le=null;return}}else if(n=A1(n,t,at),n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);Te===0&&(Te=5)}function Jn(e,t,n){var r=he,o=kt.transition;try{kt.transition=null,he=1,U1(e,t,n,r)}finally{kt.transition=o,he=r}return null}function U1(e,t,n,r){do Kr();while(Ln!==null);if(le&6)throw Error(H(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Nx(e,i),e===Re&&(Le=Re=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hi||(Hi=!0,zm(ws,function(){return Kr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=kt.transition,kt.transition=null;var s=he;he=1;var l=le;le|=4,Sc.current=null,O1(e,n),jm(n,e),u1(Ba),bs=!!Wa,Ba=Wa=null,e.current=n,z1(n),px(),le=l,he=s,kt.transition=i}else e.current=n;if(Hi&&(Hi=!1,Ln=e,zs=o),i=e.pendingLanes,i===0&&(An=null),yx(n.stateNode),ot(e,_e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Os)throw Os=!1,e=du,du=null,e;return zs&1&&e.tag!==0&&Kr(),i=e.pendingLanes,i&1?e===fu?Ko++:(Ko=0,fu=e):Ko=0,Bn(),null}function Kr(){if(Ln!==null){var e=mp(zs),t=kt.transition,n=he;try{if(kt.transition=null,he=16>e?16:e,Ln===null)var r=!1;else{if(e=Ln,Ln=null,zs=0,le&6)throw Error(H(331));var o=le;for(le|=4,G=e.current;G!==null;){var i=G,s=i.child;if(G.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(G=u;G!==null;){var c=G;switch(c.tag){case 0:case 11:case 15:Wo(8,c,i)}var f=c.child;if(f!==null)f.return=c,G=f;else for(;G!==null;){c=G;var h=c.sibling,p=c.return;if(Cm(c),c===u){G=null;break}if(h!==null){h.return=p,G=h;break}G=p}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}G=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,G=s;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wo(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,G=m;break e}G=i.return}}var g=e.current;for(G=g;G!==null;){s=G;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,G=w;else e:for(s=g;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:pl(9,l)}}catch(E){ke(l,l.return,E)}if(l===s){G=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,G=v;break e}G=l.return}}if(le=o,Bn(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(sl,e)}catch{}r=!0}return r}finally{he=n,kt.transition=t}}return!1}function cf(e,t,n){t=ro(n,t),t=mm(e,t,1),e=Rn(e,t,1),t=Xe(),e!==null&&(Si(e,1,t),ot(e,t))}function ke(e,t,n){if(e.tag===3)cf(e,e,n);else for(;t!==null;){if(t.tag===3){cf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(An===null||!An.has(r))){e=ro(n,e),e=gm(t,e,1),t=Rn(t,e,1),e=Xe(),t!==null&&(Si(t,1,e),ot(t,e));break}}t=t.return}}function W1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&n,Re===e&&(ze&n)===n&&(Te===4||Te===3&&(ze&130023424)===ze&&500>_e()-Nc?ir(e,0):bc|=n),ot(e,t)}function Im(e,t){t===0&&(e.mode&1?(t=Mi,Mi<<=1,!(Mi&130023424)&&(Mi=4194304)):t=1);var n=Xe();e=dn(e,t),e!==null&&(Si(e,t,n),ot(e,n))}function B1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Im(e,n)}function K1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),Im(e,n)}var Om;Om=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)et=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return et=!1,R1(e,t,n);et=!!(e.flags&131072)}else et=!1,ve&&t.flags&1048576&&Vp(t,js,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;as(e,t),e=t.pendingProps;var o=qr(t,Ke.current);Br(t,n),o=gc(null,t,r,e,o,n);var i=yc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(r)?(i=!0,_s(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,dc(t),o.updater=hl,t.stateNode=o,o._reactInternals=t,eu(t,r,e,n),t=ru(null,t,r,!0,i,n)):(t.tag=0,ve&&i&&oc(t),Ye(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(as(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Y1(r),e=Tt(r,e),o){case 0:t=nu(null,t,r,e,n);break e;case 1:t=qd(null,t,r,e,n);break e;case 11:t=Zd(null,t,r,e,n);break e;case 14:t=Jd(null,t,r,Tt(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Tt(r,o),nu(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Tt(r,o),qd(e,t,r,o,n);case 3:e:{if(wm(t),e===null)throw Error(H(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Gp(e,t),Ms(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=ro(Error(H(423)),t),t=ef(e,t,r,n,o);break e}else if(r!==o){o=ro(Error(H(424)),t),t=ef(e,t,r,n,o);break e}else for(ct=Mn(t.stateNode.containerInfo.firstChild),dt=t,ve=!0,At=null,n=Bp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(eo(),r===o){t=fn(e,t,n);break e}Ye(e,t,r,n)}t=t.child}return t;case 5:return Yp(t),e===null&&Za(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Ka(r,o)?s=null:i!==null&&Ka(r,i)&&(t.flags|=32),vm(e,t),Ye(e,t,s,n),t.child;case 6:return e===null&&Za(t),null;case 13:return Sm(e,t,n);case 4:return fc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=to(t,null,r,n):Ye(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Tt(r,o),Zd(e,t,r,o,n);case 7:return Ye(e,t,t.pendingProps,n),t.child;case 8:return Ye(e,t,t.pendingProps.children,n),t.child;case 12:return Ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,me(Ps,r._currentValue),r._currentValue=s,i!==null)if(zt(i.value,s)){if(i.children===o.children&&!nt.current){t=fn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=ln(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ja(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(H(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ja(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ye(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Br(t,n),o=Ct(o),r=r(o),t.flags|=1,Ye(e,t,r,n),t.child;case 14:return r=t.type,o=Tt(r,t.pendingProps),o=Tt(r.type,o),Jd(e,t,r,o,n);case 15:return ym(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Tt(r,o),as(e,t),t.tag=1,rt(r)?(e=!0,_s(t)):e=!1,Br(t,n),pm(t,r,o),eu(t,r,o,n),ru(null,t,r,!0,e,n);case 19:return bm(e,t,n);case 22:return xm(e,t,n)}throw Error(H(156,t.tag))};function zm(e,t){return dp(e,t)}function G1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,n,r){return new G1(e,t,n,r)}function _c(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Y1(e){if(typeof e=="function")return _c(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ku)return 11;if(e===Gu)return 14}return 2}function In(e,t){var n=e.alternate;return n===null?(n=bt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ds(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")_c(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case jr:return sr(n.children,o,i,t);case Bu:s=8,o|=8;break;case ka:return e=bt(12,n,t,o|2),e.elementType=ka,e.lanes=i,e;case Ea:return e=bt(13,n,t,o),e.elementType=Ea,e.lanes=i,e;case Ca:return e=bt(19,n,t,o),e.elementType=Ca,e.lanes=i,e;case Yh:return gl(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kh:s=10;break e;case Gh:s=9;break e;case Ku:s=11;break e;case Gu:s=14;break e;case wn:s=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=bt(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function sr(e,t,n,r){return e=bt(7,e,r,t),e.lanes=n,e}function gl(e,t,n,r){return e=bt(22,e,r,t),e.elementType=Yh,e.lanes=n,e.stateNode={isHidden:!1},e}function ia(e,t,n){return e=bt(6,e,null,t),e.lanes=n,e}function sa(e,t,n){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function X1(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Lc(e,t,n,r,o,i,s,l,a){return e=new X1(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=bt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dc(i),e}function Q1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Dm(e){if(!e)return Fn;e=e._reactInternals;e:{if(yr(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(rt(n))return Dp(e,n,t)}return t}function Fm(e,t,n,r,o,i,s,l,a){return e=Lc(n,r,!0,e,o,i,s,l,a),e.context=Dm(null),n=e.current,r=Xe(),o=$n(n),i=ln(r,o),i.callback=t??null,Rn(n,i,o),e.current.lanes=o,Si(e,o,r),ot(e,r),e}function yl(e,t,n,r){var o=t.current,i=Xe(),s=$n(o);return n=Dm(n),t.context===null?t.context=n:t.pendingContext=n,t=ln(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Rn(o,t,s),e!==null&&(Ot(e,o,s,i),is(e,o,s)),s}function Fs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function df(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jc(e,t){df(e,t),(e=e.alternate)&&df(e,t)}function Z1(){return null}var Vm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pc(e){this._internalRoot=e}xl.prototype.render=Pc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));yl(e,t,null,null)};xl.prototype.unmount=Pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hr(function(){yl(null,e,null,null)}),t[cn]=null}};function xl(e){this._internalRoot=e}xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=xp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kn.length&&t!==0&&t<kn[n].priority;n++);kn.splice(n,0,e),n===0&&wp(e)}};function Tc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ff(){}function J1(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=Fs(s);i.call(u)}}var s=Fm(t,r,e,0,null,!1,!1,"",ff);return e._reactRootContainer=s,e[cn]=s.current,ri(e.nodeType===8?e.parentNode:e),hr(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=Fs(a);l.call(u)}}var a=Lc(e,0,!1,null,null,!1,!1,"",ff);return e._reactRootContainer=a,e[cn]=a.current,ri(e.nodeType===8?e.parentNode:e),hr(function(){yl(t,a,n,r)}),a}function wl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var a=Fs(s);l.call(a)}}yl(t,s,e,o)}else s=J1(n,t,e,o,r);return Fs(s)}gp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mo(t.pendingLanes);n!==0&&(Qu(t,n|1),ot(t,_e()),!(le&6)&&(oo=_e()+500,Bn()))}break;case 13:hr(function(){var r=dn(e,1);if(r!==null){var o=Xe();Ot(r,e,1,o)}}),jc(e,1)}};Zu=function(e){if(e.tag===13){var t=dn(e,134217728);if(t!==null){var n=Xe();Ot(t,e,134217728,n)}jc(e,134217728)}};yp=function(e){if(e.tag===13){var t=$n(e),n=dn(e,t);if(n!==null){var r=Xe();Ot(n,e,t,r)}jc(e,t)}};xp=function(){return he};vp=function(e,t){var n=he;try{return he=e,t()}finally{he=n}};Ia=function(e,t,n){switch(t){case"input":if(ja(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=cl(r);if(!o)throw Error(H(90));Qh(r),ja(r,o)}}}break;case"textarea":Jh(e,n);break;case"select":t=n.value,t!=null&&Vr(e,!!n.multiple,t,!1)}};ip=kc;sp=hr;var q1={usingClientEntryPoint:!1,Events:[Ni,Rr,cl,rp,op,kc]},No={findFiberByHostInstance:er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ev={bundleType:No.bundleType,version:No.version,rendererPackageName:No.rendererPackageName,rendererConfig:No.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=up(e),e===null?null:e.stateNode},findFiberByHostInstance:No.findFiberByHostInstance||Z1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ui.isDisabled&&Ui.supportsFiber)try{sl=Ui.inject(ev),Gt=Ui}catch{}}pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q1;pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tc(t))throw Error(H(200));return Q1(e,t,null,n)};pt.createRoot=function(e,t){if(!Tc(e))throw Error(H(299));var n=!1,r="",o=Vm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Lc(e,1,!1,null,null,n,!1,r,o),e[cn]=t.current,ri(e.nodeType===8?e.parentNode:e),new Pc(t)};pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=up(t),e=e===null?null:e.stateNode,e};pt.flushSync=function(e){return hr(e)};pt.hydrate=function(e,t,n){if(!vl(t))throw Error(H(200));return wl(null,e,t,!0,n)};pt.hydrateRoot=function(e,t,n){if(!Tc(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Vm;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Fm(t,null,e,1,n??null,o,!1,i,s),e[cn]=t.current,ri(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new xl(t)};pt.render=function(e,t,n){if(!vl(t))throw Error(H(200));return wl(null,e,t,!1,n)};pt.unmountComponentAtNode=function(e){if(!vl(e))throw Error(H(40));return e._reactRootContainer?(hr(function(){wl(null,null,e,!1,function(){e._reactRootContainer=null,e[cn]=null})}),!0):!1};pt.unstable_batchedUpdates=kc;pt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vl(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return wl(e,t,n,!1,r)};pt.version="18.3.1-next-f1338f8080-20240426";function Hm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hm)}catch(e){console.error(e)}}Hm(),Hh.exports=pt;var tv=Hh.exports,hf=tv;ba.createRoot=hf.createRoot,ba.hydrateRoot=hf.hydrateRoot;function $e(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=$e(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Um={exports:{}},Wm={},Bm={exports:{}},Km={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var io=_;function nv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rv=typeof Object.is=="function"?Object.is:nv,ov=io.useState,iv=io.useEffect,sv=io.useLayoutEffect,lv=io.useDebugValue;function av(e,t){var n=t(),r=ov({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return sv(function(){o.value=n,o.getSnapshot=t,la(o)&&i({inst:o})},[e,n,t]),iv(function(){return la(o)&&i({inst:o}),e(function(){la(o)&&i({inst:o})})},[e]),lv(n),n}function la(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rv(e,n)}catch{return!0}}function uv(e,t){return t()}var cv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uv:av;Km.useSyncExternalStore=io.useSyncExternalStore!==void 0?io.useSyncExternalStore:cv;Bm.exports=Km;var dv=Bm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sl=_,fv=dv;function hv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pv=typeof Object.is=="function"?Object.is:hv,mv=fv.useSyncExternalStore,gv=Sl.useRef,yv=Sl.useEffect,xv=Sl.useMemo,vv=Sl.useDebugValue;Wm.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=gv(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=xv(function(){function a(p){if(!u){if(u=!0,c=p,p=r(p),o!==void 0&&s.hasValue){var y=s.value;if(o(y,p))return f=y}return f=p}if(y=f,pv(c,p))return y;var x=r(p);return o!==void 0&&o(y,x)?(c=p,y):(c=p,f=x)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return a(t())},h===null?void 0:function(){return a(h())}]},[t,n,r,o]);var l=mv(e,i[0],i[1]);return yv(function(){s.hasValue=!0,s.value=l},[l]),vv(l),l};Um.exports=Wm;var wv=Um.exports;const Gm=Ph(wv),Sv={},pf=e=>{let t;const n=new Set,r=(c,f)=>{const h=typeof c=="function"?c(t):c;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,p))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(Sv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,a);return a},Ym=e=>e?pf(e):pf,{useDebugValue:bv}=$,{useSyncExternalStoreWithSelector:Nv}=Gm,kv=e=>e;function Xm(e,t=kv,n){const r=Nv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return bv(r),r}const mf=(e,t)=>{const n=Ym(e),r=(o,i=t)=>Xm(n,o,i);return Object.assign(r,n),r},Ev=(e,t)=>e?mf(e,t):mf;function Ae(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Cv={value:()=>{}};function bl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new fs(n)}function fs(e){this._=e}function _v(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}fs.prototype=bl.prototype={constructor:fs,on:function(e,t){var n=this._,r=_v(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=Lv(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=gf(n[o],e.name,t);else if(t==null)for(o in n)n[o]=gf(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new fs(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function Lv(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function gf(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Cv,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var mu="http://www.w3.org/1999/xhtml";const yf={svg:"http://www.w3.org/2000/svg",xhtml:mu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Nl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),yf.hasOwnProperty(t)?{space:yf[t],local:e}:e}function jv(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===mu&&t.documentElement.namespaceURI===mu?t.createElement(e):t.createElementNS(n,e)}}function Pv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Qm(e){var t=Nl(e);return(t.local?Pv:jv)(t)}function Tv(){}function Mc(e){return e==null?Tv:function(){return this.querySelector(e)}}function Mv(e){typeof e!="function"&&(e=Mc(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=new Array(s),a,u,c=0;c<s;++c)(a=i[c])&&(u=e.call(a,a.__data__,c,i))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new ht(r,this._parents)}function Rv(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Av(){return[]}function Zm(e){return e==null?Av:function(){return this.querySelectorAll(e)}}function $v(e){return function(){return Rv(e.apply(this,arguments))}}function Iv(e){typeof e=="function"?e=$v(e):e=Zm(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),o.push(a));return new ht(r,o)}function Jm(e){return function(){return this.matches(e)}}function qm(e){return function(t){return t.matches(e)}}var Ov=Array.prototype.find;function zv(e){return function(){return Ov.call(this.children,e)}}function Dv(){return this.firstElementChild}function Fv(e){return this.select(e==null?Dv:zv(typeof e=="function"?e:qm(e)))}var Vv=Array.prototype.filter;function Hv(){return Array.from(this.children)}function Uv(e){return function(){return Vv.call(this.children,e)}}function Wv(e){return this.selectAll(e==null?Hv:Uv(typeof e=="function"?e:qm(e)))}function Bv(e){typeof e!="function"&&(e=Jm(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new ht(r,this._parents)}function eg(e){return new Array(e.length)}function Kv(){return new ht(this._enter||this._groups.map(eg),this._parents)}function Vs(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Vs.prototype={constructor:Vs,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Gv(e){return function(){return e}}function Yv(e,t,n,r,o,i){for(var s=0,l,a=t.length,u=i.length;s<u;++s)(l=t[s])?(l.__data__=i[s],r[s]=l):n[s]=new Vs(e,i[s]);for(;s<a;++s)(l=t[s])&&(o[s]=l)}function Xv(e,t,n,r,o,i,s){var l,a,u=new Map,c=t.length,f=i.length,h=new Array(c),p;for(l=0;l<c;++l)(a=t[l])&&(h[l]=p=s.call(a,a.__data__,l,t)+"",u.has(p)?o[l]=a:u.set(p,a));for(l=0;l<f;++l)p=s.call(e,i[l],l,i)+"",(a=u.get(p))?(r[l]=a,a.__data__=i[l],u.delete(p)):n[l]=new Vs(e,i[l]);for(l=0;l<c;++l)(a=t[l])&&u.get(h[l])===a&&(o[l]=a)}function Qv(e){return e.__data__}function Zv(e,t){if(!arguments.length)return Array.from(this,Qv);var n=t?Xv:Yv,r=this._parents,o=this._groups;typeof e!="function"&&(e=Gv(e));for(var i=o.length,s=new Array(i),l=new Array(i),a=new Array(i),u=0;u<i;++u){var c=r[u],f=o[u],h=f.length,p=Jv(e.call(c,c&&c.__data__,u,r)),y=p.length,x=l[u]=new Array(y),b=s[u]=new Array(y),m=a[u]=new Array(h);n(c,f,x,b,m,p,t);for(var g=0,w=0,v,E;g<y;++g)if(v=x[g]){for(g>=w&&(w=g+1);!(E=b[w])&&++w<y;);v._next=E||null}}return s=new ht(s,r),s._enter=l,s._exit=a,s}function Jv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qv(){return new ht(this._exit||this._groups.map(eg),this._parents)}function ew(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function tw(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),l=new Array(o),a=0;a<s;++a)for(var u=n[a],c=r[a],f=u.length,h=l[a]=new Array(f),p,y=0;y<f;++y)(p=u[y]||c[y])&&(h[y]=p);for(;a<o;++a)l[a]=n[a];return new ht(l,this._parents)}function nw(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function rw(e){e||(e=ow);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],l=s.length,a=o[i]=new Array(l),u,c=0;c<l;++c)(u=s[c])&&(a[c]=u);a.sort(t)}return new ht(o,this._parents).order()}function ow(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function iw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function sw(){return Array.from(this)}function lw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function aw(){let e=0;for(const t of this)++e;return e}function uw(){return!this.node()}function cw(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,l;i<s;++i)(l=o[i])&&e.call(l,l.__data__,i,o);return this}function dw(e){return function(){this.removeAttribute(e)}}function fw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hw(e,t){return function(){this.setAttribute(e,t)}}function pw(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function mw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function gw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function yw(e,t){var n=Nl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?fw:dw:typeof t=="function"?n.local?gw:mw:n.local?pw:hw)(n,t))}function tg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function xw(e){return function(){this.style.removeProperty(e)}}function vw(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ww(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Sw(e,t,n){return arguments.length>1?this.each((t==null?xw:typeof t=="function"?ww:vw)(e,t,n??"")):so(this.node(),e)}function so(e,t){return e.style.getPropertyValue(t)||tg(e).getComputedStyle(e,null).getPropertyValue(t)}function bw(e){return function(){delete this[e]}}function Nw(e,t){return function(){this[e]=t}}function kw(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Ew(e,t){return arguments.length>1?this.each((t==null?bw:typeof t=="function"?kw:Nw)(e,t)):this.node()[e]}function ng(e){return e.trim().split(/^|\s+/)}function Rc(e){return e.classList||new rg(e)}function rg(e){this._node=e,this._names=ng(e.getAttribute("class")||"")}rg.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function og(e,t){for(var n=Rc(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function ig(e,t){for(var n=Rc(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Cw(e){return function(){og(this,e)}}function _w(e){return function(){ig(this,e)}}function Lw(e,t){return function(){(t.apply(this,arguments)?og:ig)(this,e)}}function jw(e,t){var n=ng(e+"");if(arguments.length<2){for(var r=Rc(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Lw:t?Cw:_w)(n,t))}function Pw(){this.textContent=""}function Tw(e){return function(){this.textContent=e}}function Mw(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Rw(e){return arguments.length?this.each(e==null?Pw:(typeof e=="function"?Mw:Tw)(e)):this.node().textContent}function Aw(){this.innerHTML=""}function $w(e){return function(){this.innerHTML=e}}function Iw(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ow(e){return arguments.length?this.each(e==null?Aw:(typeof e=="function"?Iw:$w)(e)):this.node().innerHTML}function zw(){this.nextSibling&&this.parentNode.appendChild(this)}function Dw(){return this.each(zw)}function Fw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Vw(){return this.each(Fw)}function Hw(e){var t=typeof e=="function"?e:Qm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Uw(){return null}function Ww(e,t){var n=typeof e=="function"?e:Qm(e),r=t==null?Uw:typeof t=="function"?t:Mc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Bw(){var e=this.parentNode;e&&e.removeChild(this)}function Kw(){return this.each(Bw)}function Gw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Yw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Xw(e){return this.select(e?Yw:Gw)}function Qw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Zw(e){return function(t){e.call(this,t,this.__data__)}}function Jw(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function qw(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function e2(e,t,n){return function(){var r=this.__on,o,i=Zw(t);if(r){for(var s=0,l=r.length;s<l;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function t2(e,t,n){var r=Jw(e+""),o,i=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(o=0,c=l[a];o<i;++o)if((s=r[o]).type===c.type&&s.name===c.name)return c.value}return}for(l=t?e2:qw,o=0;o<i;++o)this.each(l(r[o],t,n));return this}function sg(e,t,n){var r=tg(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function n2(e,t){return function(){return sg(this,e,t)}}function r2(e,t){return function(){return sg(this,e,t.apply(this,arguments))}}function o2(e,t){return this.each((typeof t=="function"?r2:n2)(e,t))}function*i2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var lg=[null];function ht(e,t){this._groups=e,this._parents=t}function Ei(){return new ht([[document.documentElement]],lg)}function s2(){return this}ht.prototype=Ei.prototype={constructor:ht,select:Mv,selectAll:Iv,selectChild:Fv,selectChildren:Wv,filter:Bv,data:Zv,enter:Kv,exit:qv,join:ew,merge:tw,selection:s2,order:nw,sort:rw,call:iw,nodes:sw,node:lw,size:aw,empty:uw,each:cw,attr:yw,style:Sw,property:Ew,classed:jw,text:Rw,html:Ow,raise:Dw,lower:Vw,append:Hw,insert:Ww,remove:Kw,clone:Xw,datum:Qw,on:t2,dispatch:o2,[Symbol.iterator]:i2};function ut(e){return typeof e=="string"?new ht([[document.querySelector(e)]],[document.documentElement]):new ht([[e]],lg)}function l2(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Rt(e,t){if(e=l2(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const a2={passive:!1},fi={capture:!0,passive:!1};function aa(e){e.stopImmediatePropagation()}function Gr(e){e.preventDefault(),e.stopImmediatePropagation()}function ag(e){var t=e.document.documentElement,n=ut(e).on("dragstart.drag",Gr,fi);"onselectstart"in t?n.on("selectstart.drag",Gr,fi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ug(e,t){var n=e.document.documentElement,r=ut(e).on("dragstart.drag",null);t&&(r.on("click.drag",Gr,fi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Wi=e=>()=>e;function gu(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}gu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function u2(e){return!e.ctrlKey&&!e.button}function c2(){return this.parentNode}function d2(e,t){return t??{x:e.x,y:e.y}}function f2(){return navigator.maxTouchPoints||"ontouchstart"in this}function cg(){var e=u2,t=c2,n=d2,r=f2,o={},i=bl("start","drag","end"),s=0,l,a,u,c,f=0;function h(v){v.on("mousedown.drag",p).filter(r).on("touchstart.drag",b).on("touchmove.drag",m,a2).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(v,E){if(!(c||!e.call(this,v,E))){var k=w(this,t.call(this,v,E),v,E,"mouse");k&&(ut(v.view).on("mousemove.drag",y,fi).on("mouseup.drag",x,fi),ag(v.view),aa(v),u=!1,l=v.clientX,a=v.clientY,k("start",v))}}function y(v){if(Gr(v),!u){var E=v.clientX-l,k=v.clientY-a;u=E*E+k*k>f}o.mouse("drag",v)}function x(v){ut(v.view).on("mousemove.drag mouseup.drag",null),ug(v.view,u),Gr(v),o.mouse("end",v)}function b(v,E){if(e.call(this,v,E)){var k=v.changedTouches,S=t.call(this,v,E),P=k.length,M,R;for(M=0;M<P;++M)(R=w(this,S,v,E,k[M].identifier,k[M]))&&(aa(v),R("start",v,k[M]))}}function m(v){var E=v.changedTouches,k=E.length,S,P;for(S=0;S<k;++S)(P=o[E[S].identifier])&&(Gr(v),P("drag",v,E[S]))}function g(v){var E=v.changedTouches,k=E.length,S,P;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),S=0;S<k;++S)(P=o[E[S].identifier])&&(aa(v),P("end",v,E[S]))}function w(v,E,k,S,P,M){var R=i.copy(),z=Rt(M||k,E),V,F,N;if((N=n.call(v,new gu("beforestart",{sourceEvent:k,target:h,identifier:P,active:s,x:z[0],y:z[1],dx:0,dy:0,dispatch:R}),S))!=null)return V=N.x-z[0]||0,F=N.y-z[1]||0,function L(j,O,T){var C=z,A;switch(j){case"start":o[P]=L,A=s++;break;case"end":delete o[P],--s;case"drag":z=Rt(T||O,E),A=s;break}R.call(j,v,new gu(j,{sourceEvent:O,subject:N,target:h,identifier:P,active:A,x:z[0]+V,y:z[1]+F,dx:z[0]-C[0],dy:z[1]-C[1],dispatch:R}),S)}}return h.filter=function(v){return arguments.length?(e=typeof v=="function"?v:Wi(!!v),h):e},h.container=function(v){return arguments.length?(t=typeof v=="function"?v:Wi(v),h):t},h.subject=function(v){return arguments.length?(n=typeof v=="function"?v:Wi(v),h):n},h.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:Wi(!!v),h):r},h.on=function(){var v=i.on.apply(i,arguments);return v===i?h:v},h.clickDistance=function(v){return arguments.length?(f=(v=+v)*v,h):Math.sqrt(f)},h}function Ac(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function dg(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ci(){}var hi=.7,Hs=1/hi,Yr="\\s*([+-]?\\d+)\\s*",pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h2=/^#([0-9a-f]{3,8})$/,p2=new RegExp(`^rgb\\(${Yr},${Yr},${Yr}\\)$`),m2=new RegExp(`^rgb\\(${Xt},${Xt},${Xt}\\)$`),g2=new RegExp(`^rgba\\(${Yr},${Yr},${Yr},${pi}\\)$`),y2=new RegExp(`^rgba\\(${Xt},${Xt},${Xt},${pi}\\)$`),x2=new RegExp(`^hsl\\(${pi},${Xt},${Xt}\\)$`),v2=new RegExp(`^hsla\\(${pi},${Xt},${Xt},${pi}\\)$`),xf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ac(Ci,mi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vf,formatHex:vf,formatHex8:w2,formatHsl:S2,formatRgb:wf,toString:wf});function vf(){return this.rgb().formatHex()}function w2(){return this.rgb().formatHex8()}function S2(){return fg(this).formatHsl()}function wf(){return this.rgb().formatRgb()}function mi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=h2.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Sf(t):n===3?new tt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Bi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Bi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=p2.exec(e))?new tt(t[1],t[2],t[3],1):(t=m2.exec(e))?new tt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=g2.exec(e))?Bi(t[1],t[2],t[3],t[4]):(t=y2.exec(e))?Bi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=x2.exec(e))?kf(t[1],t[2]/100,t[3]/100,1):(t=v2.exec(e))?kf(t[1],t[2]/100,t[3]/100,t[4]):xf.hasOwnProperty(e)?Sf(xf[e]):e==="transparent"?new tt(NaN,NaN,NaN,0):null}function Sf(e){return new tt(e>>16&255,e>>8&255,e&255,1)}function Bi(e,t,n,r){return r<=0&&(e=t=n=NaN),new tt(e,t,n,r)}function b2(e){return e instanceof Ci||(e=mi(e)),e?(e=e.rgb(),new tt(e.r,e.g,e.b,e.opacity)):new tt}function yu(e,t,n,r){return arguments.length===1?b2(e):new tt(e,t,n,r??1)}function tt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ac(tt,yu,dg(Ci,{brighter(e){return e=e==null?Hs:Math.pow(Hs,e),new tt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hi:Math.pow(hi,e),new tt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tt(lr(this.r),lr(this.g),lr(this.b),Us(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bf,formatHex:bf,formatHex8:N2,formatRgb:Nf,toString:Nf}));function bf(){return`#${rr(this.r)}${rr(this.g)}${rr(this.b)}`}function N2(){return`#${rr(this.r)}${rr(this.g)}${rr(this.b)}${rr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nf(){const e=Us(this.opacity);return`${e===1?"rgb(":"rgba("}${lr(this.r)}, ${lr(this.g)}, ${lr(this.b)}${e===1?")":`, ${e})`}`}function Us(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function lr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function rr(e){return e=lr(e),(e<16?"0":"")+e.toString(16)}function kf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new $t(e,t,n,r)}function fg(e){if(e instanceof $t)return new $t(e.h,e.s,e.l,e.opacity);if(e instanceof Ci||(e=mi(e)),!e)return new $t;if(e instanceof $t)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,l=i-o,a=(i+o)/2;return l?(t===i?s=(n-r)/l+(n<r)*6:n===i?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?i+o:2-i-o,s*=60):l=a>0&&a<1?0:s,new $t(s,l,a,e.opacity)}function k2(e,t,n,r){return arguments.length===1?fg(e):new $t(e,t,n,r??1)}function $t(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ac($t,k2,dg(Ci,{brighter(e){return e=e==null?Hs:Math.pow(Hs,e),new $t(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hi:Math.pow(hi,e),new $t(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new tt(ua(e>=240?e-240:e+120,o,r),ua(e,o,r),ua(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new $t(Ef(this.h),Ki(this.s),Ki(this.l),Us(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Us(this.opacity);return`${e===1?"hsl(":"hsla("}${Ef(this.h)}, ${Ki(this.s)*100}%, ${Ki(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ef(e){return e=(e||0)%360,e<0?e+360:e}function Ki(e){return Math.max(0,Math.min(1,e||0))}function ua(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const hg=e=>()=>e;function E2(e,t){return function(n){return e+n*t}}function C2(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function _2(e){return(e=+e)==1?pg:function(t,n){return n-t?C2(t,n,e):hg(isNaN(t)?n:t)}}function pg(e,t){var n=t-e;return n?E2(e,n):hg(isNaN(e)?t:e)}const Cf=function e(t){var n=_2(t);function r(o,i){var s=n((o=yu(o)).r,(i=yu(i)).r),l=n(o.g,i.g),a=n(o.b,i.b),u=pg(o.opacity,i.opacity);return function(c){return o.r=s(c),o.g=l(c),o.b=a(c),o.opacity=u(c),o+""}}return r.gamma=e,r}(1);function bn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var xu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ca=new RegExp(xu.source,"g");function L2(e){return function(){return e}}function j2(e){return function(t){return e(t)+""}}function P2(e,t){var n=xu.lastIndex=ca.lastIndex=0,r,o,i,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=xu.exec(e))&&(o=ca.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[s]?l[s]+=i:l[++s]=i),(r=r[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:bn(r,o)})),n=ca.lastIndex;return n<t.length&&(i=t.slice(n),l[s]?l[s]+=i:l[++s]=i),l.length<2?a[0]?j2(a[0].x):L2(t):(t=a.length,function(u){for(var c=0,f;c<t;++c)l[(f=a[c]).i]=f.x(u);return l.join("")})}var _f=180/Math.PI,vu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mg(e,t,n,r,o,i){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*_f,skewX:Math.atan(a)*_f,scaleX:s,scaleY:l}}var Gi;function T2(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?vu:mg(t.a,t.b,t.c,t.d,t.e,t.f)}function M2(e){return e==null||(Gi||(Gi=document.createElementNS("http://www.w3.org/2000/svg","g")),Gi.setAttribute("transform",e),!(e=Gi.transform.baseVal.consolidate()))?vu:(e=e.matrix,mg(e.a,e.b,e.c,e.d,e.e,e.f))}function gg(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,c,f,h,p,y){if(u!==f||c!==h){var x=p.push("translate(",null,t,null,n);y.push({i:x-4,x:bn(u,f)},{i:x-2,x:bn(c,h)})}else(f||h)&&p.push("translate("+f+t+h+n)}function s(u,c,f,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:f.push(o(f)+"rotate(",null,r)-2,x:bn(u,c)})):c&&f.push(o(f)+"rotate("+c+r)}function l(u,c,f,h){u!==c?h.push({i:f.push(o(f)+"skewX(",null,r)-2,x:bn(u,c)}):c&&f.push(o(f)+"skewX("+c+r)}function a(u,c,f,h,p,y){if(u!==f||c!==h){var x=p.push(o(p)+"scale(",null,",",null,")");y.push({i:x-4,x:bn(u,f)},{i:x-2,x:bn(c,h)})}else(f!==1||h!==1)&&p.push(o(p)+"scale("+f+","+h+")")}return function(u,c){var f=[],h=[];return u=e(u),c=e(c),i(u.translateX,u.translateY,c.translateX,c.translateY,f,h),s(u.rotate,c.rotate,f,h),l(u.skewX,c.skewX,f,h),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,h),u=c=null,function(p){for(var y=-1,x=h.length,b;++y<x;)f[(b=h[y]).i]=b.x(p);return f.join("")}}}var R2=gg(T2,"px, ","px)","deg)"),A2=gg(M2,", ",")",")"),$2=1e-12;function Lf(e){return((e=Math.exp(e))+1/e)/2}function I2(e){return((e=Math.exp(e))-1/e)/2}function O2(e){return((e=Math.exp(2*e))-1)/(e+1)}const z2=function e(t,n,r){function o(i,s){var l=i[0],a=i[1],u=i[2],c=s[0],f=s[1],h=s[2],p=c-l,y=f-a,x=p*p+y*y,b,m;if(x<$2)m=Math.log(h/u)/t,b=function(S){return[l+S*p,a+S*y,u*Math.exp(t*S*m)]};else{var g=Math.sqrt(x),w=(h*h-u*u+r*x)/(2*u*n*g),v=(h*h-u*u-r*x)/(2*h*n*g),E=Math.log(Math.sqrt(w*w+1)-w),k=Math.log(Math.sqrt(v*v+1)-v);m=(k-E)/t,b=function(S){var P=S*m,M=Lf(E),R=u/(n*g)*(M*O2(t*P+E)-I2(E));return[l+R*p,a+R*y,u*M/Lf(t*P+E)]}}return b.duration=m*1e3*t/Math.SQRT2,b}return o.rho=function(i){var s=Math.max(.001,+i),l=s*s,a=l*l;return e(s,l,a)},o}(Math.SQRT2,2,4);var lo=0,Ao=0,ko=0,yg=1e3,Ws,$o,Bs=0,pr=0,kl=0,gi=typeof performance=="object"&&performance.now?performance:Date,xg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function $c(){return pr||(xg(D2),pr=gi.now()+kl)}function D2(){pr=0}function Ks(){this._call=this._time=this._next=null}Ks.prototype=vg.prototype={constructor:Ks,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?$c():+n)+(t==null?0:+t),!this._next&&$o!==this&&($o?$o._next=this:Ws=this,$o=this),this._call=e,this._time=n,wu()},stop:function(){this._call&&(this._call=null,this._time=1/0,wu())}};function vg(e,t,n){var r=new Ks;return r.restart(e,t,n),r}function F2(){$c(),++lo;for(var e=Ws,t;e;)(t=pr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--lo}function jf(){pr=(Bs=gi.now())+kl,lo=Ao=0;try{F2()}finally{lo=0,H2(),pr=0}}function V2(){var e=gi.now(),t=e-Bs;t>yg&&(kl-=t,Bs=e)}function H2(){for(var e,t=Ws,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ws=n);$o=e,wu(r)}function wu(e){if(!lo){Ao&&(Ao=clearTimeout(Ao));var t=e-pr;t>24?(e<1/0&&(Ao=setTimeout(jf,e-gi.now()-kl)),ko&&(ko=clearInterval(ko))):(ko||(Bs=gi.now(),ko=setInterval(V2,yg)),lo=1,xg(jf))}}function Pf(e,t,n){var r=new Ks;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var U2=bl("start","end","cancel","interrupt"),W2=[],wg=0,Tf=1,Su=2,hs=3,Mf=4,bu=5,ps=6;function El(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;B2(e,n,{name:t,index:r,group:o,on:U2,tween:W2,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:wg})}function Ic(e,t){var n=Dt(e,t);if(n.state>wg)throw new Error("too late; already scheduled");return n}function Qt(e,t){var n=Dt(e,t);if(n.state>hs)throw new Error("too late; already running");return n}function Dt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function B2(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=vg(i,0,n.time);function i(u){n.state=Tf,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,f,h,p;if(n.state!==Tf)return a();for(c in r)if(p=r[c],p.name===n.name){if(p.state===hs)return Pf(s);p.state===Mf?(p.state=ps,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[c]):+c<t&&(p.state=ps,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[c])}if(Pf(function(){n.state===hs&&(n.state=Mf,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Su,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Su){for(n.state=hs,o=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++f]=p);o.length=f+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=bu,1),f=-1,h=o.length;++f<h;)o[f].call(e,c);n.state===bu&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=ps,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function ms(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>Su&&r.state<bu,r.state=ps,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function K2(e){return this.each(function(){ms(this,e)})}function G2(e,t){var n,r;return function(){var o=Qt(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function Y2(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Qt(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}i.tween=o}}function X2(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Dt(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?G2:Y2)(n,e,t))}function Oc(e,t,n){var r=e._id;return e.each(function(){var o=Qt(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Dt(o,r).value[t]}}function Sg(e,t){var n;return(typeof t=="number"?bn:t instanceof mi?Cf:(n=mi(t))?(t=n,Cf):P2)(e,t)}function Q2(e){return function(){this.removeAttribute(e)}}function Z2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function J2(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function q2(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function eS(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function tS(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function nS(e,t){var n=Nl(e),r=n==="transform"?A2:Sg;return this.attrTween(e,typeof t=="function"?(n.local?tS:eS)(n,r,Oc(this,"attr."+e,t)):t==null?(n.local?Z2:Q2)(n):(n.local?q2:J2)(n,r,t))}function rS(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function oS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function iS(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&oS(e,i)),n}return o._value=t,o}function sS(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&rS(e,i)),n}return o._value=t,o}function lS(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Nl(e);return this.tween(n,(r.local?iS:sS)(r,t))}function aS(e,t){return function(){Ic(this,e).delay=+t.apply(this,arguments)}}function uS(e,t){return t=+t,function(){Ic(this,e).delay=t}}function cS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?aS:uS)(t,e)):Dt(this.node(),t).delay}function dS(e,t){return function(){Qt(this,e).duration=+t.apply(this,arguments)}}function fS(e,t){return t=+t,function(){Qt(this,e).duration=t}}function hS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?dS:fS)(t,e)):Dt(this.node(),t).duration}function pS(e,t){if(typeof t!="function")throw new Error;return function(){Qt(this,e).ease=t}}function mS(e){var t=this._id;return arguments.length?this.each(pS(t,e)):Dt(this.node(),t).ease}function gS(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Qt(this,e).ease=n}}function yS(e){if(typeof e!="function")throw new Error;return this.each(gS(this._id,e))}function xS(e){typeof e!="function"&&(e=Jm(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new hn(r,this._parents,this._name,this._id)}function vS(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),l=0;l<i;++l)for(var a=t[l],u=n[l],c=a.length,f=s[l]=new Array(c),h,p=0;p<c;++p)(h=a[p]||u[p])&&(f[p]=h);for(;l<r;++l)s[l]=t[l];return new hn(s,this._parents,this._name,this._id)}function wS(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function SS(e,t,n){var r,o,i=wS(t)?Ic:Qt;return function(){var s=i(this,e),l=s.on;l!==r&&(o=(r=l).copy()).on(t,n),s.on=o}}function bS(e,t){var n=this._id;return arguments.length<2?Dt(this.node(),n).on.on(e):this.each(SS(n,e,t))}function NS(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function kS(){return this.on("end.remove",NS(this._id))}function ES(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Mc(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var l=r[s],a=l.length,u=i[s]=new Array(a),c,f,h=0;h<a;++h)(c=l[h])&&(f=e.call(c,c.__data__,h,l))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f,El(u[h],t,n,h,u,Dt(c,n)));return new hn(i,this._parents,t,n)}function CS(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Zm(e));for(var r=this._groups,o=r.length,i=[],s=[],l=0;l<o;++l)for(var a=r[l],u=a.length,c,f=0;f<u;++f)if(c=a[f]){for(var h=e.call(c,c.__data__,f,a),p,y=Dt(c,n),x=0,b=h.length;x<b;++x)(p=h[x])&&El(p,t,n,x,h,y);i.push(h),s.push(c)}return new hn(i,s,t,n)}var _S=Ei.prototype.constructor;function LS(){return new _S(this._groups,this._parents)}function jS(e,t){var n,r,o;return function(){var i=so(this,e),s=(this.style.removeProperty(e),so(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function bg(e){return function(){this.style.removeProperty(e)}}function PS(e,t,n){var r,o=n+"",i;return function(){var s=so(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function TS(e,t,n){var r,o,i;return function(){var s=so(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),so(this,e))),s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l))}}function MS(e,t){var n,r,o,i="style."+t,s="end."+i,l;return function(){var a=Qt(this,e),u=a.on,c=a.value[i]==null?l||(l=bg(t)):void 0;(u!==n||o!==c)&&(r=(n=u).copy()).on(s,o=c),a.on=r}}function RS(e,t,n){var r=(e+="")=="transform"?R2:Sg;return t==null?this.styleTween(e,jS(e,r)).on("end.style."+e,bg(e)):typeof t=="function"?this.styleTween(e,TS(e,r,Oc(this,"style."+e,t))).each(MS(this._id,e)):this.styleTween(e,PS(e,r,t),n).on("end.style."+e,null)}function AS(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function $S(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&AS(e,s,n)),r}return i._value=t,i}function IS(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,$S(e,t,n??""))}function OS(e){return function(){this.textContent=e}}function zS(e){return function(){var t=e(this);this.textContent=t??""}}function DS(e){return this.tween("text",typeof e=="function"?zS(Oc(this,"text",e)):OS(e==null?"":e+""))}function FS(e){return function(t){this.textContent=e.call(this,t)}}function VS(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&FS(o)),t}return r._value=e,r}function HS(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,VS(e))}function US(){for(var e=this._name,t=this._id,n=Ng(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var c=Dt(a,t);El(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new hn(r,this._parents,e,n)}function WS(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var l={value:s},a={value:function(){--o===0&&i()}};n.each(function(){var u=Qt(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&i()})}var BS=0;function hn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Ng(){return++BS}var en=Ei.prototype;hn.prototype={constructor:hn,select:ES,selectAll:CS,selectChild:en.selectChild,selectChildren:en.selectChildren,filter:xS,merge:vS,selection:LS,transition:US,call:en.call,nodes:en.nodes,node:en.node,size:en.size,empty:en.empty,each:en.each,on:bS,attr:nS,attrTween:lS,style:RS,styleTween:IS,text:DS,textTween:HS,remove:kS,tween:X2,delay:cS,duration:hS,ease:mS,easeVarying:yS,end:WS,[Symbol.iterator]:en[Symbol.iterator]};function KS(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var GS={time:null,delay:0,duration:250,ease:KS};function YS(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function XS(e){var t,n;e instanceof hn?(t=e._id,e=e._name):(t=Ng(),(n=GS).time=$c(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&El(a,e,t,u,s,n||YS(a,t));return new hn(r,this._parents,e,t)}Ei.prototype.interrupt=K2;Ei.prototype.transition=XS;const Yi=e=>()=>e;function QS(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function sn(e,t,n){this.k=e,this.x=t,this.y=n}sn.prototype={constructor:sn,scale:function(e){return e===1?this:new sn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new sn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var an=new sn(1,0,0);sn.prototype;function da(e){e.stopImmediatePropagation()}function Eo(e){e.preventDefault(),e.stopImmediatePropagation()}function ZS(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function JS(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Rf(){return this.__zoom||an}function qS(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function eb(){return navigator.maxTouchPoints||"ontouchstart"in this}function tb(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function kg(){var e=ZS,t=JS,n=tb,r=qS,o=eb,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=z2,u=bl("start","zoom","end"),c,f,h,p=500,y=150,x=0,b=10;function m(N){N.property("__zoom",Rf).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",R).filter(o).on("touchstart.zoom",z).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(N,L,j,O){var T=N.selection?N.selection():N;T.property("__zoom",Rf),N!==T?E(N,L,j,O):T.interrupt().each(function(){k(this,arguments).event(O).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},m.scaleBy=function(N,L,j,O){m.scaleTo(N,function(){var T=this.__zoom.k,C=typeof L=="function"?L.apply(this,arguments):L;return T*C},j,O)},m.scaleTo=function(N,L,j,O){m.transform(N,function(){var T=t.apply(this,arguments),C=this.__zoom,A=j==null?v(T):typeof j=="function"?j.apply(this,arguments):j,I=C.invert(A),D=typeof L=="function"?L.apply(this,arguments):L;return n(w(g(C,D),A,I),T,s)},j,O)},m.translateBy=function(N,L,j,O){m.transform(N,function(){return n(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof j=="function"?j.apply(this,arguments):j),t.apply(this,arguments),s)},null,O)},m.translateTo=function(N,L,j,O,T){m.transform(N,function(){var C=t.apply(this,arguments),A=this.__zoom,I=O==null?v(C):typeof O=="function"?O.apply(this,arguments):O;return n(an.translate(I[0],I[1]).scale(A.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof j=="function"?-j.apply(this,arguments):-j),C,s)},O,T)};function g(N,L){return L=Math.max(i[0],Math.min(i[1],L)),L===N.k?N:new sn(L,N.x,N.y)}function w(N,L,j){var O=L[0]-j[0]*N.k,T=L[1]-j[1]*N.k;return O===N.x&&T===N.y?N:new sn(N.k,O,T)}function v(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function E(N,L,j,O){N.on("start.zoom",function(){k(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(O).end()}).tween("zoom",function(){var T=this,C=arguments,A=k(T,C).event(O),I=t.apply(T,C),D=j==null?v(I):typeof j=="function"?j.apply(T,C):j,B=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),U=T.__zoom,Y=typeof L=="function"?L.apply(T,C):L,X=a(U.invert(D).concat(B/U.k),Y.invert(D).concat(B/Y.k));return function(Q){if(Q===1)Q=Y;else{var ie=X(Q),te=B/ie[2];Q=new sn(te,D[0]-ie[0]*te,D[1]-ie[1]*te)}A.zoom(null,Q)}})}function k(N,L,j){return!j&&N.__zooming||new S(N,L)}function S(N,L){this.that=N,this.args=L,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,L),this.taps=0}S.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,L){return this.mouse&&N!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var L=ut(this.that).datum();u.call(N,this.that,new QS(N,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),L)}};function P(N,...L){if(!e.apply(this,arguments))return;var j=k(this,L).event(N),O=this.__zoom,T=Math.max(i[0],Math.min(i[1],O.k*Math.pow(2,r.apply(this,arguments)))),C=Rt(N);if(j.wheel)(j.mouse[0][0]!==C[0]||j.mouse[0][1]!==C[1])&&(j.mouse[1]=O.invert(j.mouse[0]=C)),clearTimeout(j.wheel);else{if(O.k===T)return;j.mouse=[C,O.invert(C)],ms(this),j.start()}Eo(N),j.wheel=setTimeout(A,y),j.zoom("mouse",n(w(g(O,T),j.mouse[0],j.mouse[1]),j.extent,s));function A(){j.wheel=null,j.end()}}function M(N,...L){if(h||!e.apply(this,arguments))return;var j=N.currentTarget,O=k(this,L,!0).event(N),T=ut(N.view).on("mousemove.zoom",D,!0).on("mouseup.zoom",B,!0),C=Rt(N,j),A=N.clientX,I=N.clientY;ag(N.view),da(N),O.mouse=[C,this.__zoom.invert(C)],ms(this),O.start();function D(U){if(Eo(U),!O.moved){var Y=U.clientX-A,X=U.clientY-I;O.moved=Y*Y+X*X>x}O.event(U).zoom("mouse",n(w(O.that.__zoom,O.mouse[0]=Rt(U,j),O.mouse[1]),O.extent,s))}function B(U){T.on("mousemove.zoom mouseup.zoom",null),ug(U.view,O.moved),Eo(U),O.event(U).end()}}function R(N,...L){if(e.apply(this,arguments)){var j=this.__zoom,O=Rt(N.changedTouches?N.changedTouches[0]:N,this),T=j.invert(O),C=j.k*(N.shiftKey?.5:2),A=n(w(g(j,C),O,T),t.apply(this,L),s);Eo(N),l>0?ut(this).transition().duration(l).call(E,A,O,N):ut(this).call(m.transform,A,O,N)}}function z(N,...L){if(e.apply(this,arguments)){var j=N.touches,O=j.length,T=k(this,L,N.changedTouches.length===O).event(N),C,A,I,D;for(da(N),A=0;A<O;++A)I=j[A],D=Rt(I,this),D=[D,this.__zoom.invert(D),I.identifier],T.touch0?!T.touch1&&T.touch0[2]!==D[2]&&(T.touch1=D,T.taps=0):(T.touch0=D,C=!0,T.taps=1+!!c);c&&(c=clearTimeout(c)),C&&(T.taps<2&&(f=D[0],c=setTimeout(function(){c=null},p)),ms(this),T.start())}}function V(N,...L){if(this.__zooming){var j=k(this,L).event(N),O=N.changedTouches,T=O.length,C,A,I,D;for(Eo(N),C=0;C<T;++C)A=O[C],I=Rt(A,this),j.touch0&&j.touch0[2]===A.identifier?j.touch0[0]=I:j.touch1&&j.touch1[2]===A.identifier&&(j.touch1[0]=I);if(A=j.that.__zoom,j.touch1){var B=j.touch0[0],U=j.touch0[1],Y=j.touch1[0],X=j.touch1[1],Q=(Q=Y[0]-B[0])*Q+(Q=Y[1]-B[1])*Q,ie=(ie=X[0]-U[0])*ie+(ie=X[1]-U[1])*ie;A=g(A,Math.sqrt(Q/ie)),I=[(B[0]+Y[0])/2,(B[1]+Y[1])/2],D=[(U[0]+X[0])/2,(U[1]+X[1])/2]}else if(j.touch0)I=j.touch0[0],D=j.touch0[1];else return;j.zoom("touch",n(w(A,I,D),j.extent,s))}}function F(N,...L){if(this.__zooming){var j=k(this,L).event(N),O=N.changedTouches,T=O.length,C,A;for(da(N),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),C=0;C<T;++C)A=O[C],j.touch0&&j.touch0[2]===A.identifier?delete j.touch0:j.touch1&&j.touch1[2]===A.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(A=Rt(A,this),Math.hypot(f[0]-A[0],f[1]-A[1])<b)){var I=ut(this).on("dblclick.zoom");I&&I.apply(this,arguments)}}}return m.wheelDelta=function(N){return arguments.length?(r=typeof N=="function"?N:Yi(+N),m):r},m.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Yi(!!N),m):e},m.touchable=function(N){return arguments.length?(o=typeof N=="function"?N:Yi(!!N),m):o},m.extent=function(N){return arguments.length?(t=typeof N=="function"?N:Yi([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),m):t},m.scaleExtent=function(N){return arguments.length?(i[0]=+N[0],i[1]=+N[1],m):[i[0],i[1]]},m.translateExtent=function(N){return arguments.length?(s[0][0]=+N[0][0],s[1][0]=+N[1][0],s[0][1]=+N[0][1],s[1][1]=+N[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(N){return arguments.length?(n=N,m):n},m.duration=function(N){return arguments.length?(l=+N,m):l},m.interpolate=function(N){return arguments.length?(a=N,m):a},m.on=function(){var N=u.on.apply(u,arguments);return N===u?m:N},m.clickDistance=function(N){return arguments.length?(x=(N=+N)*N,m):Math.sqrt(x)},m.tapDistance=function(N){return arguments.length?(b=+N,m):b},m}const Cl=_.createContext(null),nb=Cl.Provider,pn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Eg=pn.error001();function ge(e,t){const n=_.useContext(Cl);if(n===null)throw new Error(Eg);return Xm(n,e,t)}const je=()=>{const e=_.useContext(Cl);if(e===null)throw new Error(Eg);return _.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},rb=e=>e.userSelectionActive?"none":"all";function zc({position:e,children:t,className:n,style:r,...o}){const i=ge(rb),s=`${e}`.split("-");return $.createElement("div",{className:$e(["react-flow__panel",n,...s]),style:{...r,pointerEvents:i},...o},t)}function ob({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:$.createElement(zc,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},$.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const ib=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:i={},labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...c})=>{const f=_.useRef(null),[h,p]=_.useState({x:0,y:0,width:0,height:0}),y=$e(["react-flow__edge-textwrapper",u]);return _.useEffect(()=>{if(f.current){const x=f.current.getBBox();p({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),typeof n>"u"||!n?null:$.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:y,visibility:h.width?"visible":"hidden",...c},o&&$.createElement("rect",{width:h.width+2*s[0],x:-s[0],y:-s[1],height:h.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),$.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:r},n),a)};var sb=_.memo(ib);const Dc=e=>({width:e.offsetWidth,height:e.offsetHeight}),Vn=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Fc=(e={x:0,y:0},t)=>({x:Vn(e.x,t[0][0],t[1][0]),y:Vn(e.y,t[0][1],t[1][1])}),Af=(e,t,n)=>e<t?Vn(Math.abs(e-t),1,50)/50:e>n?-Vn(Math.abs(e-n),1,50)/50:0,Cg=(e,t)=>{const n=Af(e.x,35,t.width-35)*20,r=Af(e.y,35,t.height-35)*20;return[n,r]},_g=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Lg=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),yi=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),jg=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),$f=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),lb=(e,t)=>jg(Lg(yi(e),yi(t))),Nu=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},ab=e=>Nt(e.width)&&Nt(e.height)&&Nt(e.x)&&Nt(e.y),Nt=e=>!isNaN(e)&&isFinite(e),Ee=Symbol.for("internals"),Pg=["Enter"," ","Escape"],ub=(e,t)=>{},cb=e=>"nativeEvent"in e;function ku(e){var o,i;const t=cb(e)?e.nativeEvent:e,n=((i=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Tg=e=>"clientX"in e,On=(e,t)=>{var i,s;const n=Tg(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Gs=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},xr=({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:h,interactionWidth:p=20})=>$.createElement($.Fragment,null,$.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),p&&$.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),o&&Nt(n)&&Nt(r)?$.createElement(sb,{x:n,y:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u}):null);xr.displayName="BaseEdge";function Co(e,t,n){return n===void 0?n:r=>{const o=t().edges.find(i=>i.id===e);o&&n(r,{...o})}}function Mg({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[i,l,o,s]}function Rg({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:l}){const a=e*.125+o*.375+s*.375+n*.125,u=t*.125+i*.375+l*.375+r*.125,c=Math.abs(a-e),f=Math.abs(u-t);return[a,u,c,f]}var mr;(function(e){e.Strict="strict",e.Loose="loose"})(mr||(mr={}));var or;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(or||(or={}));var ao;(function(e){e.Partial="partial",e.Full="full"})(ao||(ao={}));var Cn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Cn||(Cn={}));var Hn;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Hn||(Hn={}));var W;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(W||(W={}));function If({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===W.Left||e===W.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function Ag({sourceX:e,sourceY:t,sourcePosition:n=W.Bottom,targetX:r,targetY:o,targetPosition:i=W.Top}){const[s,l]=If({pos:n,x1:e,y1:t,x2:r,y2:o}),[a,u]=If({pos:i,x1:r,y1:o,x2:e,y2:t}),[c,f,h,p]=Rg({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${s},${l} ${a},${u} ${r},${o}`,c,f,h,p]}const Vc=_.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=W.Bottom,targetPosition:i=W.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,interactionWidth:x})=>{const[b,m,g]=Ag({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i});return $.createElement(xr,{path:b,labelX:m,labelY:g,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,interactionWidth:x})});Vc.displayName="SimpleBezierEdge";const Of={[W.Left]:{x:-1,y:0},[W.Right]:{x:1,y:0},[W.Top]:{x:0,y:-1},[W.Bottom]:{x:0,y:1}},db=({source:e,sourcePosition:t=W.Bottom,target:n})=>t===W.Left||t===W.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},zf=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function fb({source:e,sourcePosition:t=W.Bottom,target:n,targetPosition:r=W.Top,center:o,offset:i}){const s=Of[t],l=Of[r],a={x:e.x+s.x*i,y:e.y+s.y*i},u={x:n.x+l.x*i,y:n.y+l.y*i},c=db({source:a,sourcePosition:t,target:u}),f=c.x!==0?"x":"y",h=c[f];let p=[],y,x;const b={x:0,y:0},m={x:0,y:0},[g,w,v,E]=Mg({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*l[f]===-1){y=o.x??g,x=o.y??w;const S=[{x:y,y:a.y},{x:y,y:u.y}],P=[{x:a.x,y:x},{x:u.x,y:x}];s[f]===h?p=f==="x"?S:P:p=f==="x"?P:S}else{const S=[{x:a.x,y:u.y}],P=[{x:u.x,y:a.y}];if(f==="x"?p=s.x===h?P:S:p=s.y===h?S:P,t===r){const F=Math.abs(e[f]-n[f]);if(F<=i){const N=Math.min(i-1,i-F);s[f]===h?b[f]=(a[f]>e[f]?-1:1)*N:m[f]=(u[f]>n[f]?-1:1)*N}}if(t!==r){const F=f==="x"?"y":"x",N=s[f]===l[F],L=a[F]>u[F],j=a[F]<u[F];(s[f]===1&&(!N&&L||N&&j)||s[f]!==1&&(!N&&j||N&&L))&&(p=f==="x"?S:P)}const M={x:a.x+b.x,y:a.y+b.y},R={x:u.x+m.x,y:u.y+m.y},z=Math.max(Math.abs(M.x-p[0].x),Math.abs(R.x-p[0].x)),V=Math.max(Math.abs(M.y-p[0].y),Math.abs(R.y-p[0].y));z>=V?(y=(M.x+R.x)/2,x=p[0].y):(y=p[0].x,x=(M.y+R.y)/2)}return[[e,{x:a.x+b.x,y:a.y+b.y},...p,{x:u.x+m.x,y:u.y+m.y},n],y,x,v,E]}function hb(e,t,n,r){const o=Math.min(zf(e,t)/2,zf(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${i+o*u},${s}Q ${i},${s} ${i},${s+o*c}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${i},${s+o*a}Q ${i},${s} ${i+o*l},${s}`}function Eu({sourceX:e,sourceY:t,sourcePosition:n=W.Bottom,targetX:r,targetY:o,targetPosition:i=W.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[c,f,h,p,y]=fb({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:l,y:a},offset:u});return[c.reduce((b,m,g)=>{let w="";return g>0&&g<c.length-1?w=hb(c[g-1],m,c[g+1],s):w=`${g===0?"M":"L"}${m.x} ${m.y}`,b+=w,b},""),f,h,p,y]}const _l=_.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,sourcePosition:f=W.Bottom,targetPosition:h=W.Top,markerEnd:p,markerStart:y,pathOptions:x,interactionWidth:b})=>{const[m,g,w]=Eu({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:h,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset});return $.createElement(xr,{path:m,labelX:g,labelY:w,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:p,markerStart:y,interactionWidth:b})});_l.displayName="SmoothStepEdge";const Hc=_.memo(e=>{var t;return $.createElement(_l,{...e,pathOptions:_.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Hc.displayName="StepEdge";function $g({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,l]=Mg({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,l]}const Uc=_.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:h,interactionWidth:p})=>{const[y,x,b]=$g({sourceX:e,sourceY:t,targetX:n,targetY:r});return $.createElement(xr,{path:y,labelX:x,labelY:b,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:h,interactionWidth:p})});Uc.displayName="StraightEdge";function Xi(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Df({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case W.Left:return[t-Xi(t-r,i),n];case W.Right:return[t+Xi(r-t,i),n];case W.Top:return[t,n-Xi(n-o,i)];case W.Bottom:return[t,n+Xi(o-n,i)]}}function Wc({sourceX:e,sourceY:t,sourcePosition:n=W.Bottom,targetX:r,targetY:o,targetPosition:i=W.Top,curvature:s=.25}){const[l,a]=Df({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[u,c]=Df({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[f,h,p,y]=Rg({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${l},${a} ${u},${c} ${r},${o}`,f,h,p,y]}const Ys=_.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=W.Bottom,targetPosition:i=W.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,pathOptions:x,interactionWidth:b})=>{const[m,g,w]=Wc({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i,curvature:x==null?void 0:x.curvature});return $.createElement(xr,{path:m,labelX:g,labelY:w,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,interactionWidth:b})});Ys.displayName="BezierEdge";const Bc=_.createContext(null),pb=Bc.Provider;Bc.Consumer;const Ig=()=>_.useContext(Bc),mb=e=>"id"in e&&"source"in e&&"target"in e,gb=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Cu=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,yb=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),xb=(e,t)=>{if(!e.source||!e.target)return t;let n;return mb(e)?n={...e}:n={...e,id:gb(e)},yb(n,t)?t:t.concat(n)},_u=({x:e,y:t},[n,r,o],i,[s,l])=>{const a={x:(e-n)/o,y:(t-r)/o};return i?{x:s*Math.round(a.x/s),y:l*Math.round(a.y/l)}:a},Og=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),ar=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},Ll=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const{x:i,y:s}=ar(o,t).positionAbsolute;return Lg(r,yi({x:i,y:s,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return jg(n)},zg=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1,l=[0,0])=>{const a={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},u=[];return e.forEach(c=>{const{width:f,height:h,selectable:p=!0,hidden:y=!1}=c;if(s&&!p||y)return!1;const{positionAbsolute:x}=ar(c,l),b={x:x.x,y:x.y,width:f||0,height:h||0},m=Nu(a,b),g=typeof f>"u"||typeof h>"u"||f===null||h===null,w=i&&m>0,v=(f||0)*(h||0);(g||w||m>=v||c.dragging)&&u.push(c)}),u},Dg=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},Fg=(e,t,n,r,o,i=.1)=>{const s=t/(e.width*(1+i)),l=n/(e.height*(1+i)),a=Math.min(s,l),u=Vn(a,r,o),c=e.x+e.width/2,f=e.y+e.height/2,h=t/2-c*u,p=n/2-f*u;return{x:h,y:p,zoom:u}},qn=(e,t=0)=>e.transition().duration(t);function Ff(e,t,n,r){return(t[n]||[]).reduce((o,i)=>{var s,l;return`${e.id}-${i.id}-${n}`!==r&&o.push({id:i.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+i.x+i.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+i.y+i.height/2}),o},[])}function vb(e,t,n,r,o,i){const{x:s,y:l}=On(e),u=t.elementsFromPoint(s,l).find(y=>y.classList.contains("react-flow__handle"));if(u){const y=u.getAttribute("data-nodeid");if(y){const x=Kc(void 0,u),b=u.getAttribute("data-handleid"),m=i({nodeId:y,id:b,type:x});if(m){const g=o.find(w=>w.nodeId===y&&w.type===x&&w.id===b);return{handle:{id:b,type:x,nodeId:y,x:(g==null?void 0:g.x)||n.x,y:(g==null?void 0:g.y)||n.y},validHandleResult:m}}}}let c=[],f=1/0;if(o.forEach(y=>{const x=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(x<=r){const b=i(y);x<=f&&(x<f?c=[{handle:y,validHandleResult:b}]:x===f&&c.push({handle:y,validHandleResult:b}),f=x)}}),!c.length)return{handle:null,validHandleResult:Vg()};if(c.length===1)return c[0];const h=c.some(({validHandleResult:y})=>y.isValid),p=c.some(({handle:y})=>y.type==="target");return c.find(({handle:y,validHandleResult:x})=>p?y.type==="target":h?x.isValid:!0)||c[0]}const wb={source:null,target:null,sourceHandle:null,targetHandle:null},Vg=()=>({handleDomNode:null,isValid:!1,connection:wb,endHandle:null});function Hg(e,t,n,r,o,i,s){const l=o==="target",a=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...Vg(),handleDomNode:a};if(a){const c=Kc(void 0,a),f=a.getAttribute("data-nodeid"),h=a.getAttribute("data-handleid"),p=a.classList.contains("connectable"),y=a.classList.contains("connectableend"),x={source:l?f:n,sourceHandle:l?h:r,target:l?n:f,targetHandle:l?r:h};u.connection=x,p&&y&&(t===mr.Strict?l&&c==="source"||!l&&c==="target":f!==n||h!==r)&&(u.endHandle={nodeId:f,handleId:h,type:c},u.isValid=i(x))}return u}function Sb({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((o,i)=>{if(i[Ee]){const{handleBounds:s}=i[Ee];let l=[],a=[];s&&(l=Ff(i,s,"source",`${t}-${n}-${r}`),a=Ff(i,s,"target",`${t}-${n}-${r}`)),o.push(...l,...a)}return o},[])}function Kc(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function fa(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function bb(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Ug({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:i,setState:s,isValidConnection:l,edgeUpdaterType:a,onReconnectEnd:u}){const c=_g(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:p,connectionRadius:y,onConnectStart:x,panBy:b,getNodes:m,cancelConnection:g}=i();let w=0,v;const{x:E,y:k}=On(e),S=c==null?void 0:c.elementFromPoint(E,k),P=Kc(a,S),M=h==null?void 0:h.getBoundingClientRect();if(!M||!P)return;let R,z=On(e,M),V=!1,F=null,N=!1,L=null;const j=Sb({nodes:m(),nodeId:n,handleId:t,handleType:P}),O=()=>{if(!p)return;const[A,I]=Cg(z,M);b({x:A,y:I}),w=requestAnimationFrame(O)};s({connectionPosition:z,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:P,connectionStartHandle:{nodeId:n,handleId:t,type:P},connectionEndHandle:null}),x==null||x(e,{nodeId:n,handleId:t,handleType:P});function T(A){const{transform:I}=i();z=On(A,M);const{handle:D,validHandleResult:B}=vb(A,c,_u(z,I,!1,[1,1]),y,j,U=>Hg(U,f,n,t,o?"target":"source",l,c));if(v=D,V||(O(),V=!0),L=B.handleDomNode,F=B.connection,N=B.isValid,s({connectionPosition:v&&N?Og({x:v.x,y:v.y},I):z,connectionStatus:bb(!!v,N),connectionEndHandle:B.endHandle}),!v&&!N&&!L)return fa(R);F.source!==F.target&&L&&(fa(R),R=L,L.classList.add("connecting","react-flow__handle-connecting"),L.classList.toggle("valid",N),L.classList.toggle("react-flow__handle-valid",N))}function C(A){var I,D;(v||L)&&F&&N&&(r==null||r(F)),(D=(I=i()).onConnectEnd)==null||D.call(I,A),a&&(u==null||u(A)),fa(R),g(),cancelAnimationFrame(w),V=!1,N=!1,F=null,L=null,c.removeEventListener("mousemove",T),c.removeEventListener("mouseup",C),c.removeEventListener("touchmove",T),c.removeEventListener("touchend",C)}c.addEventListener("mousemove",T),c.addEventListener("mouseup",C),c.addEventListener("touchmove",T),c.addEventListener("touchend",C)}const Vf=()=>!0,Nb=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),kb=(e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:i,connectionClickStartHandle:s}=r;return{connecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},Wg=_.forwardRef(({type:e="source",position:t=W.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:l,children:a,className:u,onMouseDown:c,onTouchStart:f,...h},p)=>{var M,R;const y=s||null,x=e==="target",b=je(),m=Ig(),{connectOnClick:g,noPanClassName:w}=ge(Nb,Ae),{connecting:v,clickConnecting:E}=ge(kb(m,y,e),Ae);m||(R=(M=b.getState()).onError)==null||R.call(M,"010",pn.error010());const k=z=>{const{defaultEdgeOptions:V,onConnect:F,hasDefaultEdges:N}=b.getState(),L={...V,...z};if(N){const{edges:j,setEdges:O}=b.getState();O(xb(L,j))}F==null||F(L),l==null||l(L)},S=z=>{if(!m)return;const V=Tg(z);o&&(V&&z.button===0||!V)&&Ug({event:z,handleId:y,nodeId:m,onConnect:k,isTarget:x,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||Vf}),V?c==null||c(z):f==null||f(z)},P=z=>{const{onClickConnectStart:V,onClickConnectEnd:F,connectionClickStartHandle:N,connectionMode:L,isValidConnection:j}=b.getState();if(!m||!N&&!o)return;if(!N){V==null||V(z,{nodeId:m,handleId:y,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:m,type:e,handleId:y}});return}const O=_g(z.target),T=n||j||Vf,{connection:C,isValid:A}=Hg({nodeId:m,id:y,type:e},L,N.nodeId,N.handleId||null,N.type,T,O);A&&k(C),F==null||F(z),b.setState({connectionClickStartHandle:null})};return $.createElement("div",{"data-handleid":y,"data-nodeid":m,"data-handlepos":t,"data-id":`${m}-${y}-${e}`,className:$e(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,u,{source:!x,target:x,connectable:r,connectablestart:o,connectableend:i,connecting:E,connectionindicator:r&&(o&&!v||i&&v)}]),onMouseDown:S,onTouchStart:S,onClick:g?P:void 0,ref:p,...h},a)});Wg.displayName="Handle";var fe=_.memo(Wg);const Bg=({data:e,isConnectable:t,targetPosition:n=W.Top,sourcePosition:r=W.Bottom})=>$.createElement($.Fragment,null,$.createElement(fe,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,$.createElement(fe,{type:"source",position:r,isConnectable:t}));Bg.displayName="DefaultNode";var Lu=_.memo(Bg);const Kg=({data:e,isConnectable:t,sourcePosition:n=W.Bottom})=>$.createElement($.Fragment,null,e==null?void 0:e.label,$.createElement(fe,{type:"source",position:n,isConnectable:t}));Kg.displayName="InputNode";var Gg=_.memo(Kg);const Yg=({data:e,isConnectable:t,targetPosition:n=W.Top})=>$.createElement($.Fragment,null,$.createElement(fe,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);Yg.displayName="OutputNode";var Xg=_.memo(Yg);const Gc=()=>null;Gc.displayName="GroupNode";const Eb=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Qi=e=>e.id;function Cb(e,t){return Ae(e.selectedNodes.map(Qi),t.selectedNodes.map(Qi))&&Ae(e.selectedEdges.map(Qi),t.selectedEdges.map(Qi))}const Qg=_.memo(({onSelectionChange:e})=>{const t=je(),{selectedNodes:n,selectedEdges:r}=ge(Eb,Cb);return _.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChange.forEach(i=>i(o))},[n,r,e]),null});Qg.displayName="SelectionListener";const _b=e=>!!e.onSelectionChange;function Lb({onSelectionChange:e}){const t=ge(_b);return e||t?$.createElement(Qg,{onSelectionChange:e}):null}const jb=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function wr(e,t){_.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function re(e,t,n){_.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const Pb=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:i,onConnectEnd:s,onClickConnectStart:l,onClickConnectEnd:a,nodesDraggable:u,nodesConnectable:c,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:p,elevateNodesOnSelect:y,minZoom:x,maxZoom:b,nodeExtent:m,onNodesChange:g,onEdgesChange:w,elementsSelectable:v,connectionMode:E,snapGrid:k,snapToGrid:S,translateExtent:P,connectOnClick:M,defaultEdgeOptions:R,fitView:z,fitViewOptions:V,onNodesDelete:F,onEdgesDelete:N,onNodeDrag:L,onNodeDragStart:j,onNodeDragStop:O,onSelectionDrag:T,onSelectionDragStart:C,onSelectionDragStop:A,noPanClassName:I,nodeOrigin:D,rfId:B,autoPanOnConnect:U,autoPanOnNodeDrag:Y,onError:X,connectionRadius:Q,isValidConnection:ie,nodeDragThreshold:te})=>{const{setNodes:ne,setEdges:J,setDefaultNodesAndEdges:se,setMinZoom:Ce,setMaxZoom:Ne,setTranslateExtent:pe,setNodeExtent:Fe,reset:ae}=ge(jb,Ae),K=je();return _.useEffect(()=>{const de=r==null?void 0:r.map(xt=>({...xt,...R}));return se(n,de),()=>{ae()}},[]),re("defaultEdgeOptions",R,K.setState),re("connectionMode",E,K.setState),re("onConnect",o,K.setState),re("onConnectStart",i,K.setState),re("onConnectEnd",s,K.setState),re("onClickConnectStart",l,K.setState),re("onClickConnectEnd",a,K.setState),re("nodesDraggable",u,K.setState),re("nodesConnectable",c,K.setState),re("nodesFocusable",f,K.setState),re("edgesFocusable",h,K.setState),re("edgesUpdatable",p,K.setState),re("elementsSelectable",v,K.setState),re("elevateNodesOnSelect",y,K.setState),re("snapToGrid",S,K.setState),re("snapGrid",k,K.setState),re("onNodesChange",g,K.setState),re("onEdgesChange",w,K.setState),re("connectOnClick",M,K.setState),re("fitViewOnInit",z,K.setState),re("fitViewOnInitOptions",V,K.setState),re("onNodesDelete",F,K.setState),re("onEdgesDelete",N,K.setState),re("onNodeDrag",L,K.setState),re("onNodeDragStart",j,K.setState),re("onNodeDragStop",O,K.setState),re("onSelectionDrag",T,K.setState),re("onSelectionDragStart",C,K.setState),re("onSelectionDragStop",A,K.setState),re("noPanClassName",I,K.setState),re("nodeOrigin",D,K.setState),re("rfId",B,K.setState),re("autoPanOnConnect",U,K.setState),re("autoPanOnNodeDrag",Y,K.setState),re("onError",X,K.setState),re("connectionRadius",Q,K.setState),re("isValidConnection",ie,K.setState),re("nodeDragThreshold",te,K.setState),wr(e,ne),wr(t,J),wr(x,Ce),wr(b,Ne),wr(P,pe),wr(m,Fe),null},Hf={display:"none"},Tb={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Zg="react-flow__node-desc",Jg="react-flow__edge-desc",Mb="react-flow__aria-live",Rb=e=>e.ariaLiveMessage;function Ab({rfId:e}){const t=ge(Rb);return $.createElement("div",{id:`${Mb}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Tb},t)}function $b({rfId:e,disableKeyboardA11y:t}){return $.createElement($.Fragment,null,$.createElement("div",{id:`${Zg}-${e}`,style:Hf},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),$.createElement("div",{id:`${Jg}-${e}`,style:Hf},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&$.createElement(Ab,{rfId:e}))}var xi=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=_.useState(!1),o=_.useRef(!1),i=_.useRef(new Set([])),[s,l]=_.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),c=u.reduce((f,h)=>f.concat(...h),[]);return[u,c]}return[[],[]]},[e]);return _.useEffect(()=>{const a=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||a;if(e!==null){const c=p=>{if(o.current=p.ctrlKey||p.metaKey||p.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&ku(p))return!1;const x=Wf(p.code,l);i.current.add(p[x]),Uf(s,i.current,!1)&&(p.preventDefault(),r(!0))},f=p=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&ku(p))return!1;const x=Wf(p.code,l);Uf(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(p[x]),p.key==="Meta"&&i.current.clear(),o.current=!1},h=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h)}}},[e,r]),n};function Uf(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function Wf(e,t){return t.includes(e)?"code":"key"}function qg(e,t,n,r){var l,a;const o=e.parentNode||e.parentId;if(!o)return n;const i=t.get(o),s=ar(i,r);return qg(i,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((l=i[Ee])==null?void 0:l.z)??0)>(n.z??0)?((a=i[Ee])==null?void 0:a.z)??0:n.z??0},r)}function e0(e,t,n){e.forEach(r=>{var i;const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n!=null&&n[r.id]){const{x:s,y:l,z:a}=qg(r,e,{...r.position,z:((i=r[Ee])==null?void 0:i.z)??0},t);r.positionAbsolute={x:s,y:l},r[Ee].z=a,n!=null&&n[r.id]&&(r[Ee].isParent=!0)}})}function ha(e,t,n,r){const o=new Map,i={},s=r?1e3:0;return e.forEach(l=>{var p;const a=(Nt(l.zIndex)?l.zIndex:0)+(l.selected?s:0),u=t.get(l.id),c={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},f=l.parentNode||l.parentId;f&&(i[f]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(c,Ee,{enumerable:!1,value:{handleBounds:h||(p=u==null?void 0:u[Ee])==null?void 0:p.handleBounds,z:a}}),o.set(l.id,c)}),e0(o,n,i),o}function t0(e,t={}){const{getNodes:n,width:r,height:o,minZoom:i,maxZoom:s,d3Zoom:l,d3Selection:a,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:f}=e(),h=t.initial&&!u&&c;if(l&&a&&(h||!t.initial)){const y=n().filter(b=>{var g;const m=t.includeHiddenNodes?b.width&&b.height:!b.hidden;return(g=t.nodes)!=null&&g.length?m&&t.nodes.some(w=>w.id===b.id):m}),x=y.every(b=>b.width&&b.height);if(y.length>0&&x){const b=Ll(y,f),{x:m,y:g,zoom:w}=Fg(b,r,o,t.minZoom??i,t.maxZoom??s,t.padding??.1),v=an.translate(m,g).scale(w);return typeof t.duration=="number"&&t.duration>0?l.transform(qn(a,t.duration),v):l.transform(a,v),!0}}return!1}function Ib(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Ee]:r[Ee],selected:n.selected})}),new Map(t)}function Ob(e,t){return t.map(n=>{const r=e.find(o=>o.id===n.id);return r&&(n.selected=r.selected),n})}function Zi({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:i,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:a,hasDefaultEdges:u}=n();e!=null&&e.length&&(a&&r({nodeInternals:Ib(e,o)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:Ob(t,i)}),l==null||l(t))}const Sr=()=>{},zb={zoomIn:Sr,zoomOut:Sr,zoomTo:Sr,getZoom:()=>1,setViewport:Sr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Sr,fitBounds:Sr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Db=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Fb=()=>{const e=je(),{d3Zoom:t,d3Selection:n}=ge(Db,Ae);return _.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(qn(n,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(qn(n,o==null?void 0:o.duration),1/1.2),zoomTo:(o,i)=>t.scaleTo(qn(n,i==null?void 0:i.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,i)=>{const[s,l,a]=e.getState().transform,u=an.translate(o.x??s,o.y??l).scale(o.zoom??a);t.transform(qn(n,i==null?void 0:i.duration),u)},getViewport:()=>{const[o,i,s]=e.getState().transform;return{x:o,y:i,zoom:s}},fitView:o=>t0(e.getState,o),setCenter:(o,i,s)=>{const{width:l,height:a,maxZoom:u}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,f=l/2-o*c,h=a/2-i*c,p=an.translate(f,h).scale(c);t.transform(qn(n,s==null?void 0:s.duration),p)},fitBounds:(o,i)=>{const{width:s,height:l,minZoom:a,maxZoom:u}=e.getState(),{x:c,y:f,zoom:h}=Fg(o,s,l,a,u,(i==null?void 0:i.padding)??.1),p=an.translate(c,f).scale(h);t.transform(qn(n,i==null?void 0:i.duration),p)},project:o=>{const{transform:i,snapToGrid:s,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),_u(o,i,s,l)},screenToFlowPosition:o=>{const{transform:i,snapToGrid:s,snapGrid:l,domNode:a}=e.getState();if(!a)return o;const{x:u,y:c}=a.getBoundingClientRect(),f={x:o.x-u,y:o.y-c};return _u(f,i,s,l)},flowToScreenPosition:o=>{const{transform:i,domNode:s}=e.getState();if(!s)return o;const{x:l,y:a}=s.getBoundingClientRect(),u=Og(o,i);return{x:u.x+l,y:u.y+a}},viewportInitialized:!0}:zb,[t,n])};function jl(){const e=Fb(),t=je(),n=_.useCallback(()=>t.getState().getNodes().map(x=>({...x})),[]),r=_.useCallback(x=>t.getState().nodeInternals.get(x),[]),o=_.useCallback(()=>{const{edges:x=[]}=t.getState();return x.map(b=>({...b}))},[]),i=_.useCallback(x=>{const{edges:b=[]}=t.getState();return b.find(m=>m.id===x)},[]),s=_.useCallback(x=>{const{getNodes:b,setNodes:m,hasDefaultNodes:g,onNodesChange:w}=t.getState(),v=b(),E=typeof x=="function"?x(v):x;if(g)m(E);else if(w){const k=E.length===0?v.map(S=>({type:"remove",id:S.id})):E.map(S=>({item:S,type:"reset"}));w(k)}},[]),l=_.useCallback(x=>{const{edges:b=[],setEdges:m,hasDefaultEdges:g,onEdgesChange:w}=t.getState(),v=typeof x=="function"?x(b):x;if(g)m(v);else if(w){const E=v.length===0?b.map(k=>({type:"remove",id:k.id})):v.map(k=>({item:k,type:"reset"}));w(E)}},[]),a=_.useCallback(x=>{const b=Array.isArray(x)?x:[x],{getNodes:m,setNodes:g,hasDefaultNodes:w,onNodesChange:v}=t.getState();if(w){const k=[...m(),...b];g(k)}else if(v){const E=b.map(k=>({item:k,type:"add"}));v(E)}},[]),u=_.useCallback(x=>{const b=Array.isArray(x)?x:[x],{edges:m=[],setEdges:g,hasDefaultEdges:w,onEdgesChange:v}=t.getState();if(w)g([...m,...b]);else if(v){const E=b.map(k=>({item:k,type:"add"}));v(E)}},[]),c=_.useCallback(()=>{const{getNodes:x,edges:b=[],transform:m}=t.getState(),[g,w,v]=m;return{nodes:x().map(E=>({...E})),edges:b.map(E=>({...E})),viewport:{x:g,y:w,zoom:v}}},[]),f=_.useCallback(({nodes:x,edges:b})=>{const{nodeInternals:m,getNodes:g,edges:w,hasDefaultNodes:v,hasDefaultEdges:E,onNodesDelete:k,onEdgesDelete:S,onNodesChange:P,onEdgesChange:M}=t.getState(),R=(x||[]).map(L=>L.id),z=(b||[]).map(L=>L.id),V=g().reduce((L,j)=>{const O=j.parentNode||j.parentId,T=!R.includes(j.id)&&O&&L.find(A=>A.id===O);return(typeof j.deletable=="boolean"?j.deletable:!0)&&(R.includes(j.id)||T)&&L.push(j),L},[]),F=w.filter(L=>typeof L.deletable=="boolean"?L.deletable:!0),N=F.filter(L=>z.includes(L.id));if(V||N){const L=Dg(V,F),j=[...N,...L],O=j.reduce((T,C)=>(T.includes(C.id)||T.push(C.id),T),[]);if((E||v)&&(E&&t.setState({edges:w.filter(T=>!O.includes(T.id))}),v&&(V.forEach(T=>{m.delete(T.id)}),t.setState({nodeInternals:new Map(m)}))),O.length>0&&(S==null||S(j),M&&M(O.map(T=>({id:T,type:"remove"})))),V.length>0&&(k==null||k(V),P)){const T=V.map(C=>({id:C.id,type:"remove"}));P(T)}}},[]),h=_.useCallback(x=>{const b=ab(x),m=b?null:t.getState().nodeInternals.get(x.id);return!b&&!m?[null,null,b]:[b?x:$f(m),m,b]},[]),p=_.useCallback((x,b=!0,m)=>{const[g,w,v]=h(x);return g?(m||t.getState().getNodes()).filter(E=>{if(!v&&(E.id===w.id||!E.positionAbsolute))return!1;const k=$f(E),S=Nu(k,g);return b&&S>0||S>=g.width*g.height}):[]},[]),y=_.useCallback((x,b,m=!0)=>{const[g]=h(x);if(!g)return!1;const w=Nu(g,b);return m&&w>0||w>=g.width*g.height},[]);return _.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:o,getEdge:i,setNodes:s,setEdges:l,addNodes:a,addEdges:u,toObject:c,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:y}),[e,n,r,o,i,s,l,a,u,c,f,p,y])}const Vb={actInsideInputWithModifier:!1};var Hb=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=je(),{deleteElements:r}=jl(),o=xi(e,Vb),i=xi(t);_.useEffect(()=>{if(o){const{edges:s,getNodes:l}=n.getState(),a=l().filter(c=>c.selected),u=s.filter(c=>c.selected);r({nodes:a,edges:u}),n.setState({nodesSelectionActive:!1})}},[o]),_.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function Ub(e){const t=je();_.useEffect(()=>{let n;const r=()=>{var i,s;if(!e.current)return;const o=Dc(e.current);(o.height===0||o.width===0)&&((s=(i=t.getState()).onError)==null||s.call(i,"004",pn.error004())),t.setState({width:o.width||500,height:o.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Yc={position:"absolute",width:"100%",height:"100%",top:0,left:0},Wb=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ji=e=>({x:e.x,y:e.y,zoom:e.k}),br=(e,t)=>e.target.closest(`.${t}`),Bf=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Kf=e=>{const t=e.ctrlKey&&Gs()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},Bb=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Kb=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:o=!0,zoomOnPinch:i=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:a=or.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:f=!0,defaultViewport:h,translateExtent:p,minZoom:y,maxZoom:x,zoomActivationKeyCode:b,preventScrolling:m=!0,children:g,noWheelClassName:w,noPanClassName:v})=>{const E=_.useRef(),k=je(),S=_.useRef(!1),P=_.useRef(!1),M=_.useRef(null),R=_.useRef({x:0,y:0,zoom:0}),{d3Zoom:z,d3Selection:V,d3ZoomHandler:F,userSelectionActive:N}=ge(Bb,Ae),L=xi(b),j=_.useRef(0),O=_.useRef(!1),T=_.useRef();return Ub(M),_.useEffect(()=>{if(M.current){const C=M.current.getBoundingClientRect(),A=kg().scaleExtent([y,x]).translateExtent(p),I=ut(M.current).call(A),D=an.translate(h.x,h.y).scale(Vn(h.zoom,y,x)),B=[[0,0],[C.width,C.height]],U=A.constrain()(D,B,p);A.transform(I,U),A.wheelDelta(Kf),k.setState({d3Zoom:A,d3Selection:I,d3ZoomHandler:I.on("wheel.zoom"),transform:[U.x,U.y,U.k],domNode:M.current.closest(".react-flow")})}},[]),_.useEffect(()=>{V&&z&&(s&&!L&&!N?V.on("wheel.zoom",C=>{if(br(C,w))return!1;C.preventDefault(),C.stopImmediatePropagation();const A=V.property("__zoom").k||1;if(C.ctrlKey&&i){const ie=Rt(C),te=Kf(C),ne=A*Math.pow(2,te);z.scaleTo(V,ne,ie,C);return}const I=C.deltaMode===1?20:1;let D=a===or.Vertical?0:C.deltaX*I,B=a===or.Horizontal?0:C.deltaY*I;!Gs()&&C.shiftKey&&a!==or.Vertical&&(D=C.deltaY*I,B=0),z.translateBy(V,-(D/A)*l,-(B/A)*l,{internal:!0});const U=Ji(V.property("__zoom")),{onViewportChangeStart:Y,onViewportChange:X,onViewportChangeEnd:Q}=k.getState();clearTimeout(T.current),O.current||(O.current=!0,t==null||t(C,U),Y==null||Y(U)),O.current&&(e==null||e(C,U),X==null||X(U),T.current=setTimeout(()=>{n==null||n(C,U),Q==null||Q(U),O.current=!1},150))},{passive:!1}):typeof F<"u"&&V.on("wheel.zoom",function(C,A){if(!m&&C.type==="wheel"&&!C.ctrlKey||br(C,w))return null;C.preventDefault(),F.call(this,C,A)},{passive:!1}))},[N,s,a,V,z,F,L,i,m,w,t,e,n]),_.useEffect(()=>{z&&z.on("start",C=>{var D,B;if(!C.sourceEvent||C.sourceEvent.internal)return null;j.current=(D=C.sourceEvent)==null?void 0:D.button;const{onViewportChangeStart:A}=k.getState(),I=Ji(C.transform);S.current=!0,R.current=I,((B=C.sourceEvent)==null?void 0:B.type)==="mousedown"&&k.setState({paneDragging:!0}),A==null||A(I),t==null||t(C.sourceEvent,I)})},[z,t]),_.useEffect(()=>{z&&(N&&!S.current?z.on("zoom",null):N||z.on("zoom",C=>{var I;const{onViewportChange:A}=k.getState();if(k.setState({transform:[C.transform.x,C.transform.y,C.transform.k]}),P.current=!!(r&&Bf(f,j.current??0)),(e||A)&&!((I=C.sourceEvent)!=null&&I.internal)){const D=Ji(C.transform);A==null||A(D),e==null||e(C.sourceEvent,D)}}))},[N,z,e,f,r]),_.useEffect(()=>{z&&z.on("end",C=>{if(!C.sourceEvent||C.sourceEvent.internal)return null;const{onViewportChangeEnd:A}=k.getState();if(S.current=!1,k.setState({paneDragging:!1}),r&&Bf(f,j.current??0)&&!P.current&&r(C.sourceEvent),P.current=!1,(n||A)&&Wb(R.current,C.transform)){const I=Ji(C.transform);R.current=I,clearTimeout(E.current),E.current=setTimeout(()=>{A==null||A(I),n==null||n(C.sourceEvent,I)},s?150:0)}})},[z,s,f,n,r]),_.useEffect(()=>{z&&z.filter(C=>{const A=L||o,I=i&&C.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&C.button===1&&C.type==="mousedown"&&(br(C,"react-flow__node")||br(C,"react-flow__edge")))return!0;if(!f&&!A&&!s&&!u&&!i||N||!u&&C.type==="dblclick"||br(C,w)&&C.type==="wheel"||br(C,v)&&(C.type!=="wheel"||s&&C.type==="wheel"&&!L)||!i&&C.ctrlKey&&C.type==="wheel"||!A&&!s&&!I&&C.type==="wheel"||!f&&(C.type==="mousedown"||C.type==="touchstart")||Array.isArray(f)&&!f.includes(C.button)&&C.type==="mousedown")return!1;const D=Array.isArray(f)&&f.includes(C.button)||!C.button||C.button<=1;return(!C.ctrlKey||C.type==="wheel")&&D})},[N,z,o,i,s,u,f,c,L]),$.createElement("div",{className:"react-flow__renderer",ref:M,style:Yc},g)},Gb=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Yb(){const{userSelectionActive:e,userSelectionRect:t}=ge(Gb,Ae);return e&&t?$.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Gf(e,t){const n=t.parentNode||t.parentId,r=e.find(o=>o.id===n);if(r){const o=t.position.x+t.width-r.width,i=t.position.y+t.height-r.height;if(o>0||i>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,o>0&&(r.style.width+=o),i>0&&(r.style.height+=i),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function n0(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,o)=>{const i=e.filter(l=>l.id===o.id);if(i.length===0)return r.push(o),r;const s={...o};for(const l of i)if(l)switch(l.type){case"select":{s.selected=l.selected;break}case"position":{typeof l.position<"u"&&(s.position=l.position),typeof l.positionAbsolute<"u"&&(s.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(s.dragging=l.dragging),s.expandParent&&Gf(r,s);break}case"dimensions":{typeof l.dimensions<"u"&&(s.width=l.dimensions.width,s.height=l.dimensions.height),typeof l.updateStyle<"u"&&(s.style={...s.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(s.resizing=l.resizing),s.expandParent&&Gf(r,s);break}case"remove":return r}return r.push(s),r},n)}function r0(e,t){return n0(e,t)}function Xb(e,t){return n0(e,t)}const Nn=(e,t)=>({id:e,type:"select",selected:t});function Fr(e,t){return e.reduce((n,r)=>{const o=t.includes(r.id);return!r.selected&&o?(r.selected=!0,n.push(Nn(r.id,!0))):r.selected&&!o&&(r.selected=!1,n.push(Nn(r.id,!1))),n},[])}const pa=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Qb=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),o0=_.memo(({isSelecting:e,selectionMode:t=ao.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:o,onPaneClick:i,onPaneContextMenu:s,onPaneScroll:l,onPaneMouseEnter:a,onPaneMouseMove:u,onPaneMouseLeave:c,children:f})=>{const h=_.useRef(null),p=je(),y=_.useRef(0),x=_.useRef(0),b=_.useRef(),{userSelectionActive:m,elementsSelectable:g,dragging:w}=ge(Qb,Ae),v=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,x.current=0},E=F=>{i==null||i(F),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},k=F=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){F.preventDefault();return}s==null||s(F)},S=l?F=>l(F):void 0,P=F=>{const{resetSelectedElements:N,domNode:L}=p.getState();if(b.current=L==null?void 0:L.getBoundingClientRect(),!g||!e||F.button!==0||F.target!==h.current||!b.current)return;const{x:j,y:O}=On(F,b.current);N(),p.setState({userSelectionRect:{width:0,height:0,startX:j,startY:O,x:j,y:O}}),r==null||r(F)},M=F=>{const{userSelectionRect:N,nodeInternals:L,edges:j,transform:O,onNodesChange:T,onEdgesChange:C,nodeOrigin:A,getNodes:I}=p.getState();if(!e||!b.current||!N)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const D=On(F,b.current),B=N.startX??0,U=N.startY??0,Y={...N,x:D.x<B?D.x:B,y:D.y<U?D.y:U,width:Math.abs(D.x-B),height:Math.abs(D.y-U)},X=I(),Q=zg(L,Y,O,t===ao.Partial,!0,A),ie=Dg(Q,j).map(ne=>ne.id),te=Q.map(ne=>ne.id);if(y.current!==te.length){y.current=te.length;const ne=Fr(X,te);ne.length&&(T==null||T(ne))}if(x.current!==ie.length){x.current=ie.length;const ne=Fr(j,ie);ne.length&&(C==null||C(ne))}p.setState({userSelectionRect:Y})},R=F=>{if(F.button!==0)return;const{userSelectionRect:N}=p.getState();!m&&N&&F.target===h.current&&(E==null||E(F)),p.setState({nodesSelectionActive:y.current>0}),v(),o==null||o(F)},z=F=>{m&&(p.setState({nodesSelectionActive:y.current>0}),o==null||o(F)),v()},V=g&&(e||m);return $.createElement("div",{className:$e(["react-flow__pane",{dragging:w,selection:e}]),onClick:V?void 0:pa(E,h),onContextMenu:pa(k,h),onWheel:pa(S,h),onMouseEnter:V?void 0:a,onMouseDown:V?P:void 0,onMouseMove:V?M:u,onMouseUp:V?R:void 0,onMouseLeave:V?z:c,ref:h,style:Yc},f,$.createElement(Yb,null))});o0.displayName="Pane";function i0(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:i0(r,t):!1}function Yf(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function Zb(e,t,n,r){return Array.from(e.values()).filter(o=>(o.selected||o.id===r)&&(!o.parentNode||o.parentId||!i0(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var i,s;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=o.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((s=o.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}})}function Jb(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function s0(e,t,n,r,o=[0,0],i){const s=Jb(e,e.extent||r);let l=s;const a=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(a&&e.width&&e.height){const f=n.get(a),{x:h,y:p}=ar(f,o).positionAbsolute;l=f&&Nt(h)&&Nt(p)&&Nt(f.width)&&Nt(f.height)?[[h+e.width*o[0],p+e.height*o[1]],[h+f.width-e.width+e.width*o[0],p+f.height-e.height+e.height*o[1]]]:l}else i==null||i("005",pn.error005()),l=s;else if(e.extent&&a&&e.extent!=="parent"){const f=n.get(a),{x:h,y:p}=ar(f,o).positionAbsolute;l=[[e.extent[0][0]+h,e.extent[0][1]+p],[e.extent[1][0]+h,e.extent[1][1]+p]]}let u={x:0,y:0};if(a){const f=n.get(a);u=ar(f,o).positionAbsolute}const c=l&&l!=="parent"?Fc(t,l):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function ma({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?r.find(o=>o.id===e):r[0],r]}const Xf=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const i=Array.from(o),s=t.getBoundingClientRect(),l={x:s.width*r[0],y:s.height*r[1]};return i.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-s.left-l.x)/n,y:(u.top-s.top-l.y)/n,...Dc(a)}})};function _o(e,t,n){return n===void 0?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function ju({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeInternals:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",pn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):o([e])}function l0(){const e=je();return _.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:o,snapToGrid:i}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,a={x:(s-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:i?o[0]*Math.round(a.x/o[0]):a.x,ySnapped:i?o[1]*Math.round(a.y/o[1]):a.y,...a}},[])}function ga(e){return(t,n,r)=>e==null?void 0:e(t,r)}function a0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,selectNodesOnDrag:s}){const l=je(),[a,u]=_.useState(!1),c=_.useRef([]),f=_.useRef({x:null,y:null}),h=_.useRef(0),p=_.useRef(null),y=_.useRef({x:0,y:0}),x=_.useRef(null),b=_.useRef(!1),m=_.useRef(!1),g=_.useRef(!1),w=l0();return _.useEffect(()=>{if(e!=null&&e.current){const v=ut(e.current),E=({x:P,y:M})=>{const{nodeInternals:R,onNodeDrag:z,onSelectionDrag:V,updateNodePositions:F,nodeExtent:N,snapGrid:L,snapToGrid:j,nodeOrigin:O,onError:T}=l.getState();f.current={x:P,y:M};let C=!1,A={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&N){const D=Ll(c.current,O);A=yi(D)}if(c.current=c.current.map(D=>{const B={x:P-D.distance.x,y:M-D.distance.y};j&&(B.x=L[0]*Math.round(B.x/L[0]),B.y=L[1]*Math.round(B.y/L[1]));const U=[[N[0][0],N[0][1]],[N[1][0],N[1][1]]];c.current.length>1&&N&&!D.extent&&(U[0][0]=D.positionAbsolute.x-A.x+N[0][0],U[1][0]=D.positionAbsolute.x+(D.width??0)-A.x2+N[1][0],U[0][1]=D.positionAbsolute.y-A.y+N[0][1],U[1][1]=D.positionAbsolute.y+(D.height??0)-A.y2+N[1][1]);const Y=s0(D,B,R,U,O,T);return C=C||D.position.x!==Y.position.x||D.position.y!==Y.position.y,D.position=Y.position,D.positionAbsolute=Y.positionAbsolute,D}),!C)return;F(c.current,!0,!0),u(!0);const I=o?z:ga(V);if(I&&x.current){const[D,B]=ma({nodeId:o,dragItems:c.current,nodeInternals:R});I(x.current,D,B)}},k=()=>{if(!p.current)return;const[P,M]=Cg(y.current,p.current);if(P!==0||M!==0){const{transform:R,panBy:z}=l.getState();f.current.x=(f.current.x??0)-P/R[2],f.current.y=(f.current.y??0)-M/R[2],z({x:P,y:M})&&E(f.current)}h.current=requestAnimationFrame(k)},S=P=>{var O;const{nodeInternals:M,multiSelectionActive:R,nodesDraggable:z,unselectNodesAndEdges:V,onNodeDragStart:F,onSelectionDragStart:N}=l.getState();m.current=!0;const L=o?F:ga(N);(!s||!i)&&!R&&o&&((O=M.get(o))!=null&&O.selected||V()),o&&i&&s&&ju({id:o,store:l,nodeRef:e});const j=w(P);if(f.current=j,c.current=Zb(M,z,j,o),L&&c.current){const[T,C]=ma({nodeId:o,dragItems:c.current,nodeInternals:M});L(P.sourceEvent,T,C)}};if(t)v.on(".drag",null);else{const P=cg().on("start",M=>{const{domNode:R,nodeDragThreshold:z}=l.getState();z===0&&S(M),g.current=!1;const V=w(M);f.current=V,p.current=(R==null?void 0:R.getBoundingClientRect())||null,y.current=On(M.sourceEvent,p.current)}).on("drag",M=>{var F,N;const R=w(M),{autoPanOnNodeDrag:z,nodeDragThreshold:V}=l.getState();if(M.sourceEvent.type==="touchmove"&&M.sourceEvent.touches.length>1&&(g.current=!0),!g.current){if(!b.current&&m.current&&z&&(b.current=!0,k()),!m.current){const L=R.xSnapped-(((F=f==null?void 0:f.current)==null?void 0:F.x)??0),j=R.ySnapped-(((N=f==null?void 0:f.current)==null?void 0:N.y)??0);Math.sqrt(L*L+j*j)>V&&S(M)}(f.current.x!==R.xSnapped||f.current.y!==R.ySnapped)&&c.current&&m.current&&(x.current=M.sourceEvent,y.current=On(M.sourceEvent,p.current),E(R))}}).on("end",M=>{if(!(!m.current||g.current)&&(u(!1),b.current=!1,m.current=!1,cancelAnimationFrame(h.current),c.current)){const{updateNodePositions:R,nodeInternals:z,onNodeDragStop:V,onSelectionDragStop:F}=l.getState(),N=o?V:ga(F);if(R(c.current,!1,!1),N){const[L,j]=ma({nodeId:o,dragItems:c.current,nodeInternals:z});N(M.sourceEvent,L,j)}}}).filter(M=>{const R=M.target;return!M.button&&(!n||!Yf(R,`.${n}`,e))&&(!r||Yf(R,r,e))});return v.call(P),()=>{v.on(".drag",null)}}}},[e,t,n,r,i,l,o,s,w]),a}function u0(){const e=je();return _.useCallback(n=>{const{nodeInternals:r,nodeExtent:o,updateNodePositions:i,getNodes:s,snapToGrid:l,snapGrid:a,onError:u,nodesDraggable:c}=e.getState(),f=s().filter(g=>g.selected&&(g.draggable||c&&typeof g.draggable>"u")),h=l?a[0]:5,p=l?a[1]:5,y=n.isShiftPressed?4:1,x=n.x*h*y,b=n.y*p*y,m=f.map(g=>{if(g.positionAbsolute){const w={x:g.positionAbsolute.x+x,y:g.positionAbsolute.y+b};l&&(w.x=a[0]*Math.round(w.x/a[0]),w.y=a[1]*Math.round(w.y/a[1]));const{positionAbsolute:v,position:E}=s0(g,w,r,o,void 0,u);g.position=E,g.positionAbsolute=v}return g});i(m,!0,!1)},[])}const Xr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Lo=e=>{const t=({id:n,type:r,data:o,xPos:i,yPos:s,xPosOrigin:l,yPosOrigin:a,selected:u,onClick:c,onMouseEnter:f,onMouseMove:h,onMouseLeave:p,onContextMenu:y,onDoubleClick:x,style:b,className:m,isDraggable:g,isSelectable:w,isConnectable:v,isFocusable:E,selectNodesOnDrag:k,sourcePosition:S,targetPosition:P,hidden:M,resizeObserver:R,dragHandle:z,zIndex:V,isParent:F,noDragClassName:N,noPanClassName:L,initialized:j,disableKeyboardA11y:O,ariaLabel:T,rfId:C,hasHandleBounds:A})=>{const I=je(),D=_.useRef(null),B=_.useRef(null),U=_.useRef(S),Y=_.useRef(P),X=_.useRef(r),Q=w||g||c||f||h||p,ie=u0(),te=_o(n,I.getState,f),ne=_o(n,I.getState,h),J=_o(n,I.getState,p),se=_o(n,I.getState,y),Ce=_o(n,I.getState,x),Ne=ae=>{const{nodeDragThreshold:K}=I.getState();if(w&&(!k||!g||K>0)&&ju({id:n,store:I,nodeRef:D}),c){const de=I.getState().nodeInternals.get(n);de&&c(ae,{...de})}},pe=ae=>{if(!ku(ae)&&!O)if(Pg.includes(ae.key)&&w){const K=ae.key==="Escape";ju({id:n,store:I,unselect:K,nodeRef:D})}else g&&u&&Object.prototype.hasOwnProperty.call(Xr,ae.key)&&(I.setState({ariaLiveMessage:`Moved selected node ${ae.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~s}`}),ie({x:Xr[ae.key].x,y:Xr[ae.key].y,isShiftPressed:ae.shiftKey}))};_.useEffect(()=>()=>{B.current&&(R==null||R.unobserve(B.current),B.current=null)},[]),_.useEffect(()=>{if(D.current&&!M){const ae=D.current;(!j||!A||B.current!==ae)&&(B.current&&(R==null||R.unobserve(B.current)),R==null||R.observe(ae),B.current=ae)}},[M,j,A]),_.useEffect(()=>{const ae=X.current!==r,K=U.current!==S,de=Y.current!==P;D.current&&(ae||K||de)&&(ae&&(X.current=r),K&&(U.current=S),de&&(Y.current=P),I.getState().updateNodeDimensions([{id:n,nodeElement:D.current,forceUpdate:!0}]))},[n,r,S,P]);const Fe=a0({nodeRef:D,disabled:M||!g,noDragClassName:N,handleSelector:z,nodeId:n,isSelectable:w,selectNodesOnDrag:k});return M?null:$.createElement("div",{className:$e(["react-flow__node",`react-flow__node-${r}`,{[L]:g},m,{selected:u,selectable:w,parent:F,dragging:Fe}]),ref:D,style:{zIndex:V,transform:`translate(${l}px,${a}px)`,pointerEvents:Q?"all":"none",visibility:j?"visible":"hidden",...b},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:te,onMouseMove:ne,onMouseLeave:J,onContextMenu:se,onClick:Ne,onDoubleClick:Ce,onKeyDown:E?pe:void 0,tabIndex:E?0:void 0,role:E?"button":void 0,"aria-describedby":O?void 0:`${Zg}-${C}`,"aria-label":T},$.createElement(pb,{value:n},$.createElement(e,{id:n,data:o,type:r,xPos:i,yPos:s,selected:u,isConnectable:v,sourcePosition:S,targetPosition:P,dragging:Fe,dragHandle:z,zIndex:V})))};return t.displayName="NodeWrapper",_.memo(t)};const qb=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Ll(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function eN({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=je(),{width:o,height:i,x:s,y:l,transformString:a,userSelectionActive:u}=ge(qb,Ae),c=u0(),f=_.useRef(null);if(_.useEffect(()=>{var y;n||(y=f.current)==null||y.focus({preventScroll:!0})},[n]),a0({nodeRef:f}),u||!o||!i)return null;const h=e?y=>{const x=r.getState().getNodes().filter(b=>b.selected);e(y,x)}:void 0,p=y=>{Object.prototype.hasOwnProperty.call(Xr,y.key)&&c({x:Xr[y.key].x,y:Xr[y.key].y,isShiftPressed:y.shiftKey})};return $.createElement("div",{className:$e(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a}},$.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:o,height:i,top:l,left:s}}))}var tN=_.memo(eN);const nN=e=>e.nodesSelectionActive,c0=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,deleteKeyCode:l,onMove:a,onMoveStart:u,onMoveEnd:c,selectionKeyCode:f,selectionOnDrag:h,selectionMode:p,onSelectionStart:y,onSelectionEnd:x,multiSelectionKeyCode:b,panActivationKeyCode:m,zoomActivationKeyCode:g,elementsSelectable:w,zoomOnScroll:v,zoomOnPinch:E,panOnScroll:k,panOnScrollSpeed:S,panOnScrollMode:P,zoomOnDoubleClick:M,panOnDrag:R,defaultViewport:z,translateExtent:V,minZoom:F,maxZoom:N,preventScrolling:L,onSelectionContextMenu:j,noWheelClassName:O,noPanClassName:T,disableKeyboardA11y:C})=>{const A=ge(nN),I=xi(f),D=xi(m),B=D||R,U=D||k,Y=I||h&&B!==!0;return Hb({deleteKeyCode:l,multiSelectionKeyCode:b}),$.createElement(Kb,{onMove:a,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:i,elementsSelectable:w,zoomOnScroll:v,zoomOnPinch:E,panOnScroll:U,panOnScrollSpeed:S,panOnScrollMode:P,zoomOnDoubleClick:M,panOnDrag:!I&&B,defaultViewport:z,translateExtent:V,minZoom:F,maxZoom:N,zoomActivationKeyCode:g,preventScrolling:L,noWheelClassName:O,noPanClassName:T},$.createElement(o0,{onSelectionStart:y,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:B,isSelecting:!!Y,selectionMode:p},e,A&&$.createElement(tN,{onSelectionContextMenu:j,noPanClassName:T,disableKeyboardA11y:C})))};c0.displayName="FlowRenderer";var rN=_.memo(c0);function oN(e){return ge(_.useCallback(n=>e?zg(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function iN(e){const t={input:Lo(e.input||Gg),default:Lo(e.default||Lu),output:Lo(e.output||Xg),group:Lo(e.group||Gc)},n={},r=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,i)=>(o[i]=Lo(e[i]||Lu),o),n);return{...t,...r}}const sN=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},lN=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),d0=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:i,onError:s}=ge(lN,Ae),l=oN(e.onlyRenderVisibleElements),a=_.useRef(),u=_.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(f=>{const h=f.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));i(h)});return a.current=c,c},[]);return _.useEffect(()=>()=>{var c;(c=a==null?void 0:a.current)==null||c.disconnect()},[]),$.createElement("div",{className:"react-flow__nodes",style:Yc},l.map(c=>{var E,k,S;let f=c.type||"default";e.nodeTypes[f]||(s==null||s("003",pn.error003(f)),f="default");const h=e.nodeTypes[f]||e.nodeTypes.default,p=!!(c.draggable||t&&typeof c.draggable>"u"),y=!!(c.selectable||o&&typeof c.selectable>"u"),x=!!(c.connectable||n&&typeof c.connectable>"u"),b=!!(c.focusable||r&&typeof c.focusable>"u"),m=e.nodeExtent?Fc(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,g=(m==null?void 0:m.x)??0,w=(m==null?void 0:m.y)??0,v=sN({x:g,y:w,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return $.createElement(h,{key:c.id,id:c.id,className:c.className,style:c.style,type:f,data:c.data,sourcePosition:c.sourcePosition||W.Bottom,targetPosition:c.targetPosition||W.Top,hidden:c.hidden,xPos:g,yPos:w,xPosOrigin:v.x,yPosOrigin:v.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:p,isSelectable:y,isConnectable:x,isFocusable:b,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((E=c[Ee])==null?void 0:E.z)??0,isParent:!!((k=c[Ee])!=null&&k.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((S=c[Ee])!=null&&S.handleBounds)})}))};d0.displayName="NodeRenderer";var aN=_.memo(d0);const uN=(e,t,n)=>n===W.Left?e-t:n===W.Right?e+t:e,cN=(e,t,n)=>n===W.Top?e-t:n===W.Bottom?e+t:e,Qf="react-flow__edgeupdater",Zf=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:l})=>$.createElement("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:$e([Qf,`${Qf}-${l}`]),cx:uN(t,r,e),cy:cN(n,r,e),r,stroke:"transparent",fill:"transparent"}),dN=()=>!0;var Nr=e=>{const t=({id:n,className:r,type:o,data:i,onClick:s,onEdgeDoubleClick:l,selected:a,animated:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:x,style:b,source:m,target:g,sourceX:w,sourceY:v,targetX:E,targetY:k,sourcePosition:S,targetPosition:P,elementsSelectable:M,hidden:R,sourceHandleId:z,targetHandleId:V,onContextMenu:F,onMouseEnter:N,onMouseMove:L,onMouseLeave:j,reconnectRadius:O,onReconnect:T,onReconnectStart:C,onReconnectEnd:A,markerEnd:I,markerStart:D,rfId:B,ariaLabel:U,isFocusable:Y,isReconnectable:X,pathOptions:Q,interactionWidth:ie,disableKeyboardA11y:te})=>{const ne=_.useRef(null),[J,se]=_.useState(!1),[Ce,Ne]=_.useState(!1),pe=je(),Fe=_.useMemo(()=>`url('#${Cu(D,B)}')`,[D,B]),ae=_.useMemo(()=>`url('#${Cu(I,B)}')`,[I,B]);if(R)return null;const K=Ve=>{var Ht;const{edges:jt,addSelectedEdges:Gn,unselectNodesAndEdges:Yn,multiSelectionActive:Xn}=pe.getState(),qt=jt.find(po=>po.id===n);qt&&(M&&(pe.setState({nodesSelectionActive:!1}),qt.selected&&Xn?(Yn({nodes:[],edges:[qt]}),(Ht=ne.current)==null||Ht.blur()):Gn([n])),s&&s(Ve,qt))},de=Co(n,pe.getState,l),xt=Co(n,pe.getState,F),gn=Co(n,pe.getState,N),yn=Co(n,pe.getState,L),Jt=Co(n,pe.getState,j),Ft=(Ve,jt)=>{if(Ve.button!==0)return;const{edges:Gn,isValidConnection:Yn}=pe.getState(),Xn=jt?g:m,qt=(jt?V:z)||null,Ht=jt?"target":"source",po=Yn||dN,Ml=jt,mo=Gn.find(Qn=>Qn.id===n);Ne(!0),C==null||C(Ve,mo,Ht);const Rl=Qn=>{Ne(!1),A==null||A(Qn,mo,Ht)};Ug({event:Ve,handleId:qt,nodeId:Xn,onConnect:Qn=>T==null?void 0:T(mo,Qn),isTarget:Ml,getState:pe.getState,setState:pe.setState,isValidConnection:po,edgeUpdaterType:Ht,onReconnectEnd:Rl})},Je=Ve=>Ft(Ve,!0),st=Ve=>Ft(Ve,!1),vt=()=>se(!0),Lt=()=>se(!1),Vt=!M&&!s,ho=Ve=>{var jt;if(!te&&Pg.includes(Ve.key)&&M){const{unselectNodesAndEdges:Gn,addSelectedEdges:Yn,edges:Xn}=pe.getState();Ve.key==="Escape"?((jt=ne.current)==null||jt.blur(),Gn({edges:[Xn.find(Ht=>Ht.id===n)]})):Yn([n])}};return $.createElement("g",{className:$e(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:a,animated:u,inactive:Vt,updating:J}]),onClick:K,onDoubleClick:de,onContextMenu:xt,onMouseEnter:gn,onMouseMove:yn,onMouseLeave:Jt,onKeyDown:Y?ho:void 0,tabIndex:Y?0:void 0,role:Y?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":U===null?void 0:U||`Edge from ${m} to ${g}`,"aria-describedby":Y?`${Jg}-${B}`:void 0,ref:ne},!Ce&&$.createElement(e,{id:n,source:m,target:g,selected:a,animated:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:x,data:i,style:b,sourceX:w,sourceY:v,targetX:E,targetY:k,sourcePosition:S,targetPosition:P,sourceHandleId:z,targetHandleId:V,markerStart:Fe,markerEnd:ae,pathOptions:Q,interactionWidth:ie}),X&&$.createElement($.Fragment,null,(X==="source"||X===!0)&&$.createElement(Zf,{position:S,centerX:w,centerY:v,radius:O,onMouseDown:Je,onMouseEnter:vt,onMouseOut:Lt,type:"source"}),(X==="target"||X===!0)&&$.createElement(Zf,{position:P,centerX:E,centerY:k,radius:O,onMouseDown:st,onMouseEnter:vt,onMouseOut:Lt,type:"target"})))};return t.displayName="EdgeWrapper",_.memo(t)};function fN(e){const t={default:Nr(e.default||Ys),straight:Nr(e.bezier||Uc),step:Nr(e.step||Hc),smoothstep:Nr(e.step||_l),simplebezier:Nr(e.simplebezier||Vc)},n={},r=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,i)=>(o[i]=Nr(e[i]||Ys),o),n);return{...t,...r}}function Jf(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case W.Top:return{x:r+i/2,y:o};case W.Right:return{x:r+i,y:o+s/2};case W.Bottom:return{x:r+i/2,y:o+s};case W.Left:return{x:r,y:o+s/2}}}function qf(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const hN=(e,t,n,r,o,i)=>{const s=Jf(n,e,t),l=Jf(i,r,o);return{sourceX:s.x,sourceY:s.y,targetX:l.x,targetY:l.y}};function pN({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:i,width:s,height:l,transform:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=yi({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:s/a[2],height:l/a[2]}),f=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),h=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(f*h)>0}function eh(e){var r,o,i,s,l;const t=((r=e==null?void 0:e[Ee])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const mN=[{level:0,isMaxLevel:!0,edges:[]}];function gN(e,t,n=!1){let r=-1;const o=e.reduce((s,l)=>{var c,f;const a=Nt(l.zIndex);let u=a?l.zIndex:0;if(n){const h=t.get(l.target),p=t.get(l.source),y=l.selected||(h==null?void 0:h.selected)||(p==null?void 0:p.selected),x=Math.max(((c=p==null?void 0:p[Ee])==null?void 0:c.z)||0,((f=h==null?void 0:h[Ee])==null?void 0:f.z)||0,1e3);u=(a?l.zIndex:0)+(y?x:0)}return s[u]?s[u].push(l):s[u]=[l],r=u>r?u:r,s},{}),i=Object.entries(o).map(([s,l])=>{const a=+s;return{edges:l,level:a,isMaxLevel:a===r}});return i.length===0?mN:i}function yN(e,t,n){const r=ge(_.useCallback(o=>e?o.edges.filter(i=>{const s=t.get(i.source),l=t.get(i.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&pN({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:l.width,targetHeight:l.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return gN(r,t,n)}const xN=({color:e="none",strokeWidth:t=1})=>$.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),vN=({color:e="none",strokeWidth:t=1})=>$.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),th={[Hn.Arrow]:xN,[Hn.ArrowClosed]:vN};function wN(e){const t=je();return _.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(th,e)?th[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",pn.error009(e)),null)},[e])}const SN=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=wN(t);return a?$.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0"},$.createElement(a,{color:n,strokeWidth:s})):null},bN=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((o,i)=>([i.markerStart,i.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const l=Cu(s,t);r.includes(l)||(o.push({id:l,color:s.color||e,...s}),r.push(l))}}),o),[]).sort((o,i)=>o.id.localeCompare(i.id))},f0=({defaultColor:e,rfId:t})=>{const n=ge(_.useCallback(bN({defaultColor:e,rfId:t}),[e,t]),(r,o)=>!(r.length!==o.length||r.some((i,s)=>i.id!==o[s].id)));return $.createElement("defs",null,n.map(r=>$.createElement(SN,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};f0.displayName="MarkerDefinitions";var NN=_.memo(f0);const kN=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),h0=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:o,noPanClassName:i,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:x,children:b,disableKeyboardA11y:m})=>{const{edgesFocusable:g,edgesUpdatable:w,elementsSelectable:v,width:E,height:k,connectionMode:S,nodeInternals:P,onError:M}=ge(kN,Ae),R=yN(t,P,n);return E?$.createElement($.Fragment,null,R.map(({level:z,edges:V,isMaxLevel:F})=>$.createElement("svg",{key:z,style:{zIndex:z},width:E,height:k,className:"react-flow__edges react-flow__container"},F&&$.createElement(NN,{defaultColor:e,rfId:r}),$.createElement("g",null,V.map(N=>{const[L,j,O]=eh(P.get(N.source)),[T,C,A]=eh(P.get(N.target));if(!O||!A)return null;let I=N.type||"default";o[I]||(M==null||M("011",pn.error011(I)),I="default");const D=o[I]||o.default,B=S===mr.Strict?C.target:(C.target??[]).concat(C.source??[]),U=qf(j.source,N.sourceHandle),Y=qf(B,N.targetHandle),X=(U==null?void 0:U.position)||W.Bottom,Q=(Y==null?void 0:Y.position)||W.Top,ie=!!(N.focusable||g&&typeof N.focusable>"u"),te=N.reconnectable||N.updatable,ne=typeof h<"u"&&(te||w&&typeof te>"u");if(!U||!Y)return M==null||M("008",pn.error008(U,N)),null;const{sourceX:J,sourceY:se,targetX:Ce,targetY:Ne}=hN(L,U,X,T,Y,Q);return $.createElement(D,{key:N.id,id:N.id,className:$e([N.className,i]),type:I,data:N.data,selected:!!N.selected,animated:!!N.animated,hidden:!!N.hidden,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,style:N.style,source:N.source,target:N.target,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerEnd:N.markerEnd,markerStart:N.markerStart,sourceX:J,sourceY:se,targetX:Ce,targetY:Ne,sourcePosition:X,targetPosition:Q,elementsSelectable:v,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:c,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:x,rfId:r,ariaLabel:N.ariaLabel,isFocusable:ie,isReconnectable:ne,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth,disableKeyboardA11y:m})})))),b):null};h0.displayName="EdgeRenderer";var EN=_.memo(h0);const CN=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function _N({children:e}){const t=ge(CN);return $.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function LN(e){const t=jl(),n=_.useRef(!1);_.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const jN={[W.Left]:W.Right,[W.Right]:W.Left,[W.Top]:W.Bottom,[W.Bottom]:W.Top},p0=({nodeId:e,handleType:t,style:n,type:r=Cn.Bezier,CustomComponent:o,connectionStatus:i})=>{var k,S,P;const{fromNode:s,handleId:l,toX:a,toY:u,connectionMode:c}=ge(_.useCallback(M=>({fromNode:M.nodeInternals.get(e),handleId:M.connectionHandleId,toX:(M.connectionPosition.x-M.transform[0])/M.transform[2],toY:(M.connectionPosition.y-M.transform[1])/M.transform[2],connectionMode:M.connectionMode}),[e]),Ae),f=(k=s==null?void 0:s[Ee])==null?void 0:k.handleBounds;let h=f==null?void 0:f[t];if(c===mr.Loose&&(h=h||(f==null?void 0:f[t==="source"?"target":"source"])),!s||!h)return null;const p=l?h.find(M=>M.id===l):h[0],y=p?p.x+p.width/2:(s.width??0)/2,x=p?p.y+p.height/2:s.height??0,b=(((S=s.positionAbsolute)==null?void 0:S.x)??0)+y,m=(((P=s.positionAbsolute)==null?void 0:P.y)??0)+x,g=p==null?void 0:p.position,w=g?jN[g]:null;if(!g||!w)return null;if(o)return $.createElement(o,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:p,fromX:b,fromY:m,toX:a,toY:u,fromPosition:g,toPosition:w,connectionStatus:i});let v="";const E={sourceX:b,sourceY:m,sourcePosition:g,targetX:a,targetY:u,targetPosition:w};return r===Cn.Bezier?[v]=Wc(E):r===Cn.Step?[v]=Eu({...E,borderRadius:0}):r===Cn.SmoothStep?[v]=Eu(E):r===Cn.SimpleBezier?[v]=Ag(E):v=`M${b},${m} ${a},${u}`,$.createElement("path",{d:v,fill:"none",className:"react-flow__connection-path",style:n})};p0.displayName="ConnectionLine";const PN=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function TN({containerStyle:e,style:t,type:n,component:r}){const{nodeId:o,handleType:i,nodesConnectable:s,width:l,height:a,connectionStatus:u}=ge(PN,Ae);return!(o&&i&&l&&s)?null:$.createElement("svg",{style:e,width:l,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},$.createElement("g",{className:$e(["react-flow__connection",u])},$.createElement(p0,{nodeId:o,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function nh(e,t){return _.useRef(null),je(),_.useMemo(()=>t(e),[e])}const m0=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:i,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:y,onSelectionStart:x,onSelectionEnd:b,connectionLineType:m,connectionLineStyle:g,connectionLineComponent:w,connectionLineContainerStyle:v,selectionKeyCode:E,selectionOnDrag:k,selectionMode:S,multiSelectionKeyCode:P,panActivationKeyCode:M,zoomActivationKeyCode:R,deleteKeyCode:z,onlyRenderVisibleElements:V,elementsSelectable:F,selectNodesOnDrag:N,defaultViewport:L,translateExtent:j,minZoom:O,maxZoom:T,preventScrolling:C,defaultMarkerColor:A,zoomOnScroll:I,zoomOnPinch:D,panOnScroll:B,panOnScrollSpeed:U,panOnScrollMode:Y,zoomOnDoubleClick:X,panOnDrag:Q,onPaneClick:ie,onPaneMouseEnter:te,onPaneMouseMove:ne,onPaneMouseLeave:J,onPaneScroll:se,onPaneContextMenu:Ce,onEdgeContextMenu:Ne,onEdgeMouseEnter:pe,onEdgeMouseMove:Fe,onEdgeMouseLeave:ae,onReconnect:K,onReconnectStart:de,onReconnectEnd:xt,reconnectRadius:gn,noDragClassName:yn,noWheelClassName:Jt,noPanClassName:Ft,elevateEdgesOnSelect:Je,disableKeyboardA11y:st,nodeOrigin:vt,nodeExtent:Lt,rfId:Vt})=>{const ho=nh(e,iN),Ve=nh(t,fN);return LN(i),$.createElement(rN,{onPaneClick:ie,onPaneMouseEnter:te,onPaneMouseMove:ne,onPaneMouseLeave:J,onPaneContextMenu:Ce,onPaneScroll:se,deleteKeyCode:z,selectionKeyCode:E,selectionOnDrag:k,selectionMode:S,onSelectionStart:x,onSelectionEnd:b,multiSelectionKeyCode:P,panActivationKeyCode:M,zoomActivationKeyCode:R,elementsSelectable:F,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:I,zoomOnPinch:D,zoomOnDoubleClick:X,panOnScroll:B,panOnScrollSpeed:U,panOnScrollMode:Y,panOnDrag:Q,defaultViewport:L,translateExtent:j,minZoom:O,maxZoom:T,onSelectionContextMenu:y,preventScrolling:C,noDragClassName:yn,noWheelClassName:Jt,noPanClassName:Ft,disableKeyboardA11y:st},$.createElement(_N,null,$.createElement(EN,{edgeTypes:Ve,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:V,onEdgeContextMenu:Ne,onEdgeMouseEnter:pe,onEdgeMouseMove:Fe,onEdgeMouseLeave:ae,onReconnect:K,onReconnectStart:de,onReconnectEnd:xt,reconnectRadius:gn,defaultMarkerColor:A,noPanClassName:Ft,elevateEdgesOnSelect:!!Je,disableKeyboardA11y:st,rfId:Vt},$.createElement(TN,{style:g,type:m,component:w,containerStyle:v})),$.createElement("div",{className:"react-flow__edgelabel-renderer"}),$.createElement(aN,{nodeTypes:ho,onNodeClick:s,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,selectNodesOnDrag:N,onlyRenderVisibleElements:V,noPanClassName:Ft,noDragClassName:yn,disableKeyboardA11y:st,nodeOrigin:vt,nodeExtent:Lt,rfId:Vt})))};m0.displayName="GraphView";var MN=_.memo(m0);const Pu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],vn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Pu,nodeExtent:Pu,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:mr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:ub,isValidConnection:void 0},RN=()=>Ev((e,t)=>({...vn,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:i}=t();e({nodeInternals:ha(n,r,o,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(o=>({...r,...o}))})},setDefaultNodesAndEdges:(n,r)=>{const o=typeof n<"u",i=typeof r<"u",s=o?ha(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:i?r:[],hasDefaultNodes:o,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:i,fitViewOnInitDone:s,fitViewOnInitOptions:l,domNode:a,nodeOrigin:u}=t(),c=a==null?void 0:a.querySelector(".react-flow__viewport");if(!c)return;const f=window.getComputedStyle(c),{m22:h}=new window.DOMMatrixReadOnly(f.transform),p=n.reduce((x,b)=>{const m=o.get(b.id);if(m!=null&&m.hidden)o.set(m.id,{...m,[Ee]:{...m[Ee],handleBounds:void 0}});else if(m){const g=Dc(b.nodeElement);!!(g.width&&g.height&&(m.width!==g.width||m.height!==g.height||b.forceUpdate))&&(o.set(m.id,{...m,[Ee]:{...m[Ee],handleBounds:{source:Xf(".source",b.nodeElement,h,u),target:Xf(".target",b.nodeElement,h,u)}},...g}),x.push({id:m.id,type:"dimensions",dimensions:g}))}return x},[]);e0(o,u);const y=s||i&&!s&&t0(t,{initial:!0,...l});e({nodeInternals:new Map(o),fitViewOnInitDone:y}),(p==null?void 0:p.length)>0&&(r==null||r(p))},updateNodePositions:(n,r=!0,o=!1)=>{const{triggerNodeChanges:i}=t(),s=n.map(l=>{const a={id:l.id,type:"position",dragging:o};return r&&(a.positionAbsolute=l.positionAbsolute,a.position=l.position),a});i(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:i,nodeOrigin:s,getNodes:l,elevateNodesOnSelect:a}=t();if(n!=null&&n.length){if(i){const u=r0(n,l()),c=ha(u,o,s,a);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,l=null;r?s=n.map(a=>Nn(a,!0)):(s=Fr(i(),n),l=Fr(o,[])),Zi({changedNodes:s,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,l=null;r?s=n.map(a=>Nn(a,!0)):(s=Fr(o,n),l=Fr(i(),[])),Zi({changedNodes:l,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:o,getNodes:i}=t(),s=n||i(),l=r||o,a=s.map(c=>(c.selected=!1,Nn(c.id,!1))),u=l.map(c=>Nn(c.id,!1));Zi({changedNodes:a,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r==null||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r==null||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(l=>l.selected).map(l=>Nn(l.id,!1)),s=n.filter(l=>l.selected).map(l=>Nn(l.id,!1));Zi({changedNodes:i,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(o=>{o.positionAbsolute=Fc(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:o,height:i,d3Zoom:s,d3Selection:l,translateExtent:a}=t();if(!s||!l||!n.x&&!n.y)return!1;const u=an.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[o,i]],f=s==null?void 0:s.constrain()(u,c,a);return s.transform(l,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:vn.connectionNodeId,connectionHandleId:vn.connectionHandleId,connectionHandleType:vn.connectionHandleType,connectionStatus:vn.connectionStatus,connectionStartHandle:vn.connectionStartHandle,connectionEndHandle:vn.connectionEndHandle}),reset:()=>e({...vn})}),Object.is),Xc=({children:e})=>{const t=_.useRef(null);return t.current||(t.current=RN()),$.createElement(nb,{value:t.current},e)};Xc.displayName="ReactFlowProvider";const g0=({children:e})=>_.useContext(Cl)?$.createElement($.Fragment,null,e):$.createElement(Xc,null,e);g0.displayName="ReactFlowWrapper";const AN={input:Gg,default:Lu,output:Xg,group:Gc},$N={default:Ys,straight:Uc,step:Hc,smoothstep:_l,simplebezier:Vc},IN=[0,0],ON=[15,15],zN={x:0,y:0,zoom:1},DN={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},y0=_.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i=AN,edgeTypes:s=$N,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:h,onConnect:p,onConnectStart:y,onConnectEnd:x,onClickConnectStart:b,onClickConnectEnd:m,onNodeMouseEnter:g,onNodeMouseMove:w,onNodeMouseLeave:v,onNodeContextMenu:E,onNodeDoubleClick:k,onNodeDragStart:S,onNodeDrag:P,onNodeDragStop:M,onNodesDelete:R,onEdgesDelete:z,onSelectionChange:V,onSelectionDragStart:F,onSelectionDrag:N,onSelectionDragStop:L,onSelectionContextMenu:j,onSelectionStart:O,onSelectionEnd:T,connectionMode:C=mr.Strict,connectionLineType:A=Cn.Bezier,connectionLineStyle:I,connectionLineComponent:D,connectionLineContainerStyle:B,deleteKeyCode:U="Backspace",selectionKeyCode:Y="Shift",selectionOnDrag:X=!1,selectionMode:Q=ao.Full,panActivationKeyCode:ie="Space",multiSelectionKeyCode:te=Gs()?"Meta":"Control",zoomActivationKeyCode:ne=Gs()?"Meta":"Control",snapToGrid:J=!1,snapGrid:se=ON,onlyRenderVisibleElements:Ce=!1,selectNodesOnDrag:Ne=!0,nodesDraggable:pe,nodesConnectable:Fe,nodesFocusable:ae,nodeOrigin:K=IN,edgesFocusable:de,edgesUpdatable:xt,elementsSelectable:gn,defaultViewport:yn=zN,minZoom:Jt=.5,maxZoom:Ft=2,translateExtent:Je=Pu,preventScrolling:st=!0,nodeExtent:vt,defaultMarkerColor:Lt="#b1b1b7",zoomOnScroll:Vt=!0,zoomOnPinch:ho=!0,panOnScroll:Ve=!1,panOnScrollSpeed:jt=.5,panOnScrollMode:Gn=or.Free,zoomOnDoubleClick:Yn=!0,panOnDrag:Xn=!0,onPaneClick:qt,onPaneMouseEnter:Ht,onPaneMouseMove:po,onPaneMouseLeave:Ml,onPaneScroll:mo,onPaneContextMenu:Rl,children:ed,onEdgeContextMenu:Qn,onEdgeDoubleClick:Z0,onEdgeMouseEnter:J0,onEdgeMouseMove:q0,onEdgeMouseLeave:ey,onEdgeUpdate:ty,onEdgeUpdateStart:ny,onEdgeUpdateEnd:ry,onReconnect:oy,onReconnectStart:iy,onReconnectEnd:sy,reconnectRadius:ly=10,edgeUpdaterRadius:ay=10,onNodesChange:uy,onEdgesChange:cy,noDragClassName:dy="nodrag",noWheelClassName:fy="nowheel",noPanClassName:td="nopan",fitView:hy=!1,fitViewOptions:py,connectOnClick:my=!0,attributionPosition:gy,proOptions:yy,defaultEdgeOptions:xy,elevateNodesOnSelect:vy=!0,elevateEdgesOnSelect:wy=!1,disableKeyboardA11y:nd=!1,autoPanOnConnect:Sy=!0,autoPanOnNodeDrag:by=!0,connectionRadius:Ny=20,isValidConnection:ky,onError:Ey,style:Cy,id:rd,nodeDragThreshold:_y,...Ly},jy)=>{const Al=rd||"1";return $.createElement("div",{...Ly,style:{...Cy,...DN},ref:jy,className:$e(["react-flow",o]),"data-testid":"rf__wrapper",id:rd},$.createElement(g0,null,$.createElement(MN,{onInit:u,onMove:c,onMoveStart:f,onMoveEnd:h,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:g,onNodeMouseMove:w,onNodeMouseLeave:v,onNodeContextMenu:E,onNodeDoubleClick:k,nodeTypes:i,edgeTypes:s,connectionLineType:A,connectionLineStyle:I,connectionLineComponent:D,connectionLineContainerStyle:B,selectionKeyCode:Y,selectionOnDrag:X,selectionMode:Q,deleteKeyCode:U,multiSelectionKeyCode:te,panActivationKeyCode:ie,zoomActivationKeyCode:ne,onlyRenderVisibleElements:Ce,selectNodesOnDrag:Ne,defaultViewport:yn,translateExtent:Je,minZoom:Jt,maxZoom:Ft,preventScrolling:st,zoomOnScroll:Vt,zoomOnPinch:ho,zoomOnDoubleClick:Yn,panOnScroll:Ve,panOnScrollSpeed:jt,panOnScrollMode:Gn,panOnDrag:Xn,onPaneClick:qt,onPaneMouseEnter:Ht,onPaneMouseMove:po,onPaneMouseLeave:Ml,onPaneScroll:mo,onPaneContextMenu:Rl,onSelectionContextMenu:j,onSelectionStart:O,onSelectionEnd:T,onEdgeContextMenu:Qn,onEdgeDoubleClick:Z0,onEdgeMouseEnter:J0,onEdgeMouseMove:q0,onEdgeMouseLeave:ey,onReconnect:oy??ty,onReconnectStart:iy??ny,onReconnectEnd:sy??ry,reconnectRadius:ly??ay,defaultMarkerColor:Lt,noDragClassName:dy,noWheelClassName:fy,noPanClassName:td,elevateEdgesOnSelect:wy,rfId:Al,disableKeyboardA11y:nd,nodeOrigin:K,nodeExtent:vt}),$.createElement(Pb,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:y,onConnectEnd:x,onClickConnectStart:b,onClickConnectEnd:m,nodesDraggable:pe,nodesConnectable:Fe,nodesFocusable:ae,edgesFocusable:de,edgesUpdatable:xt,elementsSelectable:gn,elevateNodesOnSelect:vy,minZoom:Jt,maxZoom:Ft,nodeExtent:vt,onNodesChange:uy,onEdgesChange:cy,snapToGrid:J,snapGrid:se,connectionMode:C,translateExtent:Je,connectOnClick:my,defaultEdgeOptions:xy,fitView:hy,fitViewOptions:py,onNodesDelete:R,onEdgesDelete:z,onNodeDragStart:S,onNodeDrag:P,onNodeDragStop:M,onSelectionDrag:N,onSelectionDragStart:F,onSelectionDragStop:L,noPanClassName:td,nodeOrigin:K,rfId:Al,autoPanOnConnect:Sy,autoPanOnNodeDrag:by,onError:Ey,connectionRadius:Ny,isValidConnection:ky,nodeDragThreshold:_y}),$.createElement(Lb,{onSelectionChange:V}),ed,$.createElement(ob,{proOptions:yy,position:gy}),$.createElement($b,{rfId:Al,disableKeyboardA11y:nd})))});y0.displayName="ReactFlow";const x0=({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:l,strokeWidth:a,className:u,borderRadius:c,shapeRendering:f,onClick:h,selected:p})=>{const{background:y,backgroundColor:x}=i||{},b=s||y||x;return $.createElement("rect",{className:$e(["react-flow__minimap-node",{selected:p},u]),x:t,y:n,rx:c,ry:c,width:r,height:o,fill:b,stroke:l,strokeWidth:a,shapeRendering:f,onClick:h?m=>h(m,e):void 0})};x0.displayName="MiniMapNode";var FN=_.memo(x0);const VN=e=>e.nodeOrigin,HN=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),ya=e=>e instanceof Function?e:()=>e;function UN({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:i=FN,onClick:s}){const l=ge(HN,Ae),a=ge(VN),u=ya(t),c=ya(e),f=ya(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return $.createElement($.Fragment,null,l.map(p=>{const{x:y,y:x}=ar(p,a).positionAbsolute;return $.createElement(i,{key:p.id,x:y,y:x,width:p.width,height:p.height,style:p.style,selected:p.selected,className:f(p),color:u(p),borderRadius:r,strokeColor:c(p),strokeWidth:o,shapeRendering:h,onClick:s,id:p.id})}))}var WN=_.memo(UN);const BN=200,KN=150,GN=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?lb(Ll(t,e.nodeOrigin),n):n,rfId:e.rfId}},YN="react-flow__minimap-desc";function v0({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s=2,nodeComponent:l,maskColor:a="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:f="bottom-right",onClick:h,onNodeClick:p,pannable:y=!1,zoomable:x=!1,ariaLabel:b="React Flow mini map",inversePan:m=!1,zoomStep:g=10,offsetScale:w=5}){const v=je(),E=_.useRef(null),{boundingRect:k,viewBB:S,rfId:P}=ge(GN,Ae),M=(e==null?void 0:e.width)??BN,R=(e==null?void 0:e.height)??KN,z=k.width/M,V=k.height/R,F=Math.max(z,V),N=F*M,L=F*R,j=w*F,O=k.x-(N-k.width)/2-j,T=k.y-(L-k.height)/2-j,C=N+j*2,A=L+j*2,I=`${YN}-${P}`,D=_.useRef(0);D.current=F,_.useEffect(()=>{if(E.current){const Y=ut(E.current),X=te=>{const{transform:ne,d3Selection:J,d3Zoom:se}=v.getState();if(te.sourceEvent.type!=="wheel"||!J||!se)return;const Ce=-te.sourceEvent.deltaY*(te.sourceEvent.deltaMode===1?.05:te.sourceEvent.deltaMode?1:.002)*g,Ne=ne[2]*Math.pow(2,Ce);se.scaleTo(J,Ne)},Q=te=>{const{transform:ne,d3Selection:J,d3Zoom:se,translateExtent:Ce,width:Ne,height:pe}=v.getState();if(te.sourceEvent.type!=="mousemove"||!J||!se)return;const Fe=D.current*Math.max(1,ne[2])*(m?-1:1),ae={x:ne[0]-te.sourceEvent.movementX*Fe,y:ne[1]-te.sourceEvent.movementY*Fe},K=[[0,0],[Ne,pe]],de=an.translate(ae.x,ae.y).scale(ne[2]),xt=se.constrain()(de,K,Ce);se.transform(J,xt)},ie=kg().on("zoom",y?Q:null).on("zoom.wheel",x?X:null);return Y.call(ie),()=>{Y.on("zoom",null)}}},[y,x,m,g]);const B=h?Y=>{const X=Rt(Y);h(Y,{x:X[0],y:X[1]})}:void 0,U=p?(Y,X)=>{const Q=v.getState().nodeInternals.get(X);p(Y,Q)}:void 0;return $.createElement(zc,{position:f,style:e,className:$e(["react-flow__minimap",t]),"data-testid":"rf__minimap"},$.createElement("svg",{width:M,height:R,viewBox:`${O} ${T} ${C} ${A}`,role:"img","aria-labelledby":I,ref:E,onClick:B},b&&$.createElement("title",{id:I},b),$.createElement(WN,{onClick:U,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:l}),$.createElement("path",{className:"react-flow__minimap-mask",d:`M${O-j},${T-j}h${C+j*2}v${A+j*2}h${-C-j*2}z
        M${S.x},${S.y}h${S.width}v${S.height}h${-S.width}z`,fill:a,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}v0.displayName="MiniMap";var XN=_.memo(v0);function QN(){return $.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},$.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function ZN(){return $.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},$.createElement("path",{d:"M0 0h32v4.2H0z"}))}function JN(){return $.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},$.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function qN(){return $.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},$.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function ek(){return $.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},$.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Io=({children:e,className:t,...n})=>$.createElement("button",{type:"button",className:$e(["react-flow__controls-button",t]),...n},e);Io.displayName="ControlButton";const tk=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),w0=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:l,onInteractiveChange:a,className:u,children:c,position:f="bottom-left"})=>{const h=je(),[p,y]=_.useState(!1),{isInteractive:x,minZoomReached:b,maxZoomReached:m}=ge(tk,Ae),{zoomIn:g,zoomOut:w,fitView:v}=jl();if(_.useEffect(()=>{y(!0)},[]),!p)return null;const E=()=>{g(),i==null||i()},k=()=>{w(),s==null||s()},S=()=>{v(o),l==null||l()},P=()=>{h.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),a==null||a(!x)};return $.createElement(zc,{className:$e(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&$.createElement($.Fragment,null,$.createElement(Io,{onClick:E,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:m},$.createElement(QN,null)),$.createElement(Io,{onClick:k,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},$.createElement(ZN,null))),n&&$.createElement(Io,{className:"react-flow__controls-fitview",onClick:S,title:"fit view","aria-label":"fit view"},$.createElement(JN,null)),r&&$.createElement(Io,{className:"react-flow__controls-interactive",onClick:P,title:"toggle interactivity","aria-label":"toggle interactivity"},x?$.createElement(ek,null):$.createElement(qN,null)),c)};w0.displayName="Controls";var nk=_.memo(w0),Et;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Et||(Et={}));function rk({color:e,dimensions:t,lineWidth:n}){return $.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function ok({color:e,radius:t}){return $.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const ik={[Et.Dots]:"#91919a",[Et.Lines]:"#eee",[Et.Cross]:"#e2e2e2"},sk={[Et.Dots]:1,[Et.Lines]:1,[Et.Cross]:6},lk=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function S0({id:e,variant:t=Et.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=2,color:s,style:l,className:a}){const u=_.useRef(null),{transform:c,patternId:f}=ge(lk,Ae),h=s||ik[t],p=r||sk[t],y=t===Et.Dots,x=t===Et.Cross,b=Array.isArray(n)?n:[n,n],m=[b[0]*c[2]||1,b[1]*c[2]||1],g=p*c[2],w=x?[g,g]:m,v=y?[g/i,g/i]:[w[0]/i,w[1]/i];return $.createElement("svg",{className:$e(["react-flow__background",a]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},$.createElement("pattern",{id:f+e,x:c[0]%m[0],y:c[1]%m[1],width:m[0],height:m[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${v[0]},-${v[1]})`},y?$.createElement(ok,{color:h,radius:g/i}):$.createElement(rk,{dimensions:w,color:h,lineWidth:o})),$.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}S0.displayName="Background";var ak=_.memo(S0),Qr;(function(e){e.Line="line",e.Handle="handle"})(Qr||(Qr={}));function uk({width:e,prevWidth:t,height:n,prevHeight:r,invertX:o,invertY:i}){const s=e-t,l=n-r,a=[s>0?1:s<0?-1:0,l>0?1:l<0?-1:0];return s&&o&&(a[0]=a[0]*-1),l&&i&&(a[1]=a[1]*-1),a}const b0={width:0,height:0,x:0,y:0},ck={...b0,pointerX:0,pointerY:0,aspectRatio:1};function dk({nodeId:e,position:t,variant:n=Qr.Handle,className:r,style:o={},children:i,color:s,minWidth:l=10,minHeight:a=10,maxWidth:u=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:f=!1,shouldResize:h,onResizeStart:p,onResize:y,onResizeEnd:x}){const b=Ig(),m=typeof e=="string"?e:b,g=je(),w=_.useRef(null),v=_.useRef(ck),E=_.useRef(b0),k=l0(),S=n===Qr.Line?"right":"bottom-right",P=t??S;_.useEffect(()=>{if(!w.current||!m)return;const V=ut(w.current),F=P.includes("right")||P.includes("left"),N=P.includes("bottom")||P.includes("top"),L=P.includes("left"),j=P.includes("top"),O=cg().on("start",T=>{const C=g.getState().nodeInternals.get(m),{xSnapped:A,ySnapped:I}=k(T);E.current={width:(C==null?void 0:C.width)??0,height:(C==null?void 0:C.height)??0,x:(C==null?void 0:C.position.x)??0,y:(C==null?void 0:C.position.y)??0},v.current={...E.current,pointerX:A,pointerY:I,aspectRatio:E.current.width/E.current.height},p==null||p(T,{...E.current})}).on("drag",T=>{const{nodeInternals:C,triggerNodeChanges:A}=g.getState(),{xSnapped:I,ySnapped:D}=k(T),B=C.get(m);if(B){const U=[],{pointerX:Y,pointerY:X,width:Q,height:ie,x:te,y:ne,aspectRatio:J}=v.current,{x:se,y:Ce,width:Ne,height:pe}=E.current,Fe=Math.floor(F?I-Y:0),ae=Math.floor(N?D-X:0);let K=Vn(Q+(L?-Fe:Fe),l,u),de=Vn(ie+(j?-ae:ae),a,c);if(f){const Je=K/de,st=F&&N,vt=F&&!N,Lt=N&&!F;K=Je<=J&&st||Lt?de*J:K,de=Je>J&&st||vt?K/J:de,K>=u?(K=u,de=u/J):K<=l&&(K=l,de=l/J),de>=c?(de=c,K=c*J):de<=a&&(de=a,K=a*J)}const xt=K!==Ne,gn=de!==pe;if(L||j){const Je=L?te-(K-Q):te,st=j?ne-(de-ie):ne,vt=Je!==se&&xt,Lt=st!==Ce&&gn;if(vt||Lt){const Vt={id:B.id,type:"position",position:{x:vt?Je:se,y:Lt?st:Ce}};U.push(Vt),E.current.x=Vt.position.x,E.current.y=Vt.position.y}}if(xt||gn){const Je={id:m,type:"dimensions",updateStyle:!0,resizing:!0,dimensions:{width:K,height:de}};U.push(Je),E.current.width=K,E.current.height=de}if(U.length===0)return;const yn=uk({width:E.current.width,prevWidth:Ne,height:E.current.height,prevHeight:pe,invertX:L,invertY:j}),Jt={...E.current,direction:yn};if((h==null?void 0:h(T,Jt))===!1)return;y==null||y(T,Jt),A(U)}}).on("end",T=>{const C={id:m,type:"dimensions",resizing:!1};x==null||x(T,{...E.current}),g.getState().triggerNodeChanges([C])});return V.call(O),()=>{V.on(".drag",null)}},[m,P,l,a,u,c,f,k,p,y,x]);const M=P.split("-"),R=n===Qr.Line?"borderColor":"backgroundColor",z=s?{...o,[R]:s}:o;return $.createElement("div",{className:$e(["react-flow__resize-control","nodrag",...M,n,r]),ref:w,style:z},i)}var rh=_.memo(dk);const fk=["top-left","top-right","bottom-left","bottom-right"],hk=["top","right","bottom","left"];function gt({nodeId:e,isVisible:t=!0,handleClassName:n,handleStyle:r,lineClassName:o,lineStyle:i,color:s,minWidth:l=10,minHeight:a=10,maxWidth:u=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:f=!1,shouldResize:h,onResizeStart:p,onResize:y,onResizeEnd:x}){return t?$.createElement($.Fragment,null,hk.map(b=>$.createElement(rh,{key:b,className:o,style:i,nodeId:e,position:b,variant:Qr.Line,color:s,minWidth:l,minHeight:a,maxWidth:u,maxHeight:c,onResizeStart:p,keepAspectRatio:f,shouldResize:h,onResize:y,onResizeEnd:x})),fk.map(b=>$.createElement(rh,{key:b,className:n,style:r,nodeId:e,position:b,color:s,minWidth:l,minHeight:a,maxWidth:u,maxHeight:c,onResizeStart:p,keepAspectRatio:f,shouldResize:h,onResize:y,onResizeEnd:x}))):null}function pk(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const oh={};function Tu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&oh[t[0]]||(typeof t[0]=="string"&&(oh[t[0]]=new Date),pk(...t))}const N0=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function ih(e,t,n){e.loadNamespaces(t,N0(e,n))}function sh(e,t,n,r){typeof n=="string"&&(n=[n]),n.forEach(o=>{e.options.ns.indexOf(o)<0&&e.options.ns.push(o)}),e.loadLanguages(t,N0(e,r))}function mk(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=t.languages[0],o=t.options?t.options.fallbackLng:!1,i=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(l,a)=>{const u=t.services.backendConnector.state[`${l}|${a}`];return u===-1||u===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!s(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||s(r,e)&&(!o||s(i,e)))}function gk(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(Tu("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(o,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!i(o.isLanguageChangingTo,e))return!1}}):mk(e,t,n)}const yk=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,xk={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},vk=e=>xk[e],wk=e=>e.replace(yk,vk);let Mu={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:wk};function Sk(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Mu={...Mu,...e}}function bk(){return Mu}let k0;function Nk(e){k0=e}function kk(){return k0}const Ek={type:"3rdParty",init(e){Sk(e.options.react),Nk(e)}},Ck=_.createContext();class _k{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Lk=(e,t)=>{const n=_.useRef();return _.useEffect(()=>{n.current=e},[e,t]),n.current};function Kn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:o}=_.useContext(Ck)||{},i=n||r||kk();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new _k),!i){Tu("You will need to pass in an i18next instance by using initReactI18next");const w=(E,k)=>typeof k=="string"?k:k&&typeof k=="object"&&typeof k.defaultValue=="string"?k.defaultValue:Array.isArray(E)?E[E.length-1]:E,v=[w,{},!1];return v.t=w,v.i18n={},v.ready=!1,v}i.options.react&&i.options.react.wait!==void 0&&Tu("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...bk(),...i.options.react,...t},{useSuspense:l,keyPrefix:a}=s;let u=o||i.options&&i.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(u);const c=(i.isInitialized||i.initializedStoreOnce)&&u.every(w=>gk(w,i,s));function f(){return i.getFixedT(t.lng||null,s.nsMode==="fallback"?u:u[0],a)}const[h,p]=_.useState(f);let y=u.join();t.lng&&(y=`${t.lng}${y}`);const x=Lk(y),b=_.useRef(!0);_.useEffect(()=>{const{bindI18n:w,bindI18nStore:v}=s;b.current=!0,!c&&!l&&(t.lng?sh(i,t.lng,u,()=>{b.current&&p(f)}):ih(i,u,()=>{b.current&&p(f)})),c&&x&&x!==y&&b.current&&p(f);function E(){b.current&&p(f)}return w&&i&&i.on(w,E),v&&i&&i.store.on(v,E),()=>{b.current=!1,w&&i&&w.split(" ").forEach(k=>i.off(k,E)),v&&i&&v.split(" ").forEach(k=>i.store.off(k,E))}},[i,y]);const m=_.useRef(!0);_.useEffect(()=>{b.current&&!m.current&&p(f),m.current=!1},[i,a]);const g=[h,i,c];if(g.t=h,g.i18n=i,g.ready=c,c||!c&&!l)return g;throw new Promise(w=>{t.lng?sh(i,t.lng,u,()=>w()):ih(i,u,()=>w())})}const E0={},{useDebugValue:jk}=$,{useSyncExternalStoreWithSelector:Pk}=Gm;let lh=!1;const Tk=e=>e;function Mk(e,t=Tk,n){(E0?"production":void 0)!=="production"&&n&&!lh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),lh=!0);const r=Pk(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return jk(r),r}const Rk=e=>{(E0?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Ym(e):e,n=(r,o)=>Mk(t,r,o);return Object.assign(n,t),n},Ak=e=>Rk;function Qc(e){return Object.fromEntries(e.map(t=>[t.id,t]))}function Zr(e,t){let n=e.position.x,r=e.position.y,o=e;for(;o&&o.parentNode;){const i=t[o.parentNode];if(!i)break;n+=i.position.x,r+=i.position.y,o=i}return{x:n,y:r}}function $k(e,t="Group",n=24){const r=e.filter(v=>v.selected&&v.type!=="groupNode");if(!r.length)return null;const o=Qc(e),i=140,s=80,l=r.map(v=>Zr(v,o).x),a=r.map(v=>Zr(v,o).y),u=r.map(v=>v.width??i),c=r.map(v=>v.height??s),f=Math.min(...l),h=Math.min(...a),p=Math.max(...l.map((v,E)=>v+u[E])),y=Math.max(...a.map((v,E)=>v+c[E])),x={x:f-n,y:h-n,w:p-f+n*2,h:y-h+n*2},b=`g_${Date.now()}_${Math.round(Math.random()*1e5)}`,m=e.map(v=>{if(!v.selected||v.type==="groupNode")return v;const E=Zr(v,o),k={x:E.x-x.x,y:E.y-x.y};return{...v,parentNode:b,position:k,extent:"parent",selected:!1}});return{nodes:[{id:b,type:"groupNode",position:{x:x.x,y:x.y},data:{label:t},style:{width:x.w,height:x.h},selected:!0},...m],groupId:b}}function Ik(e,t){const n=e.find(i=>i.id===t&&i.type==="groupNode");if(!n)return e;const r=Qc(e),o=Zr(n,r);return e.map(i=>{if(!i.selected||i.type==="groupNode")return i;const s=Zr(i,r),l={x:s.x-o.x,y:s.y-o.y};return{...i,parentNode:n.id,position:l,extent:"parent"}})}function Ok(e){const t=Qc(e);return e.map(n=>{if(!n.selected||!n.parentNode)return n;const r=Zr(n,t),{parentNode:o,extent:i,...s}=n;return{...s,position:r}})}function Ie(e){return{nodes:JSON.parse(JSON.stringify(e.nodes)),edges:JSON.parse(JSON.stringify(e.edges))}}const ee=Ak()((e,t)=>({nodes:[],edges:[],historyPast:[],historyFuture:[],isUndoRedo:!1,snapToGrid:!0,snapGrid:[8,8],onNodesChange:n=>{const{nodes:r,edges:o,isUndoRedo:i,historyPast:s}=t(),l=r0(n,r);if(!i){const a=[...s,Ie({nodes:r,edges:o})].slice(-50);e({historyPast:a,historyFuture:[]})}e({nodes:l,isUndoRedo:!1})},onEdgesChange:n=>{const{nodes:r,edges:o,isUndoRedo:i,historyPast:s}=t(),l=Xb(n,o);if(!i){const a=[...s,Ie({nodes:r,edges:o})].slice(-50);e({historyPast:a,historyFuture:[]})}e({edges:l,isUndoRedo:!1})},onConnect:n=>{const{nodes:r,edges:o,historyPast:i}=t(),s=[...i,Ie({nodes:r,edges:o})].slice(-50),l="#111827",{source:a,target:u,sourceHandle:c,targetHandle:f}=n;!a||!u||e({historyPast:s,historyFuture:[],edges:[...o,{id:`${Date.now()}`,source:a,target:u,sourceHandle:c??null,targetHandle:f??null,markerEnd:{type:Hn.ArrowClosed,color:l},style:{stroke:l}}]})},addNode:n=>{const{nodes:r,edges:o,historyPast:i}=t(),s=[...i,Ie({nodes:r,edges:o})].slice(-50);e({nodes:[...r,n],historyPast:s,historyFuture:[]})},updateNodeData:(n,r)=>{const{nodes:o,edges:i,historyPast:s}=t(),l=[...s,Ie({nodes:o,edges:i})].slice(-50);e({nodes:o.map(a=>a.id===n?{...a,data:{...a.data,...r}}:a),historyPast:l,historyFuture:[]})},setDiagram:({nodes:n,edges:r})=>{const o=t(),i=[...o.historyPast,Ie({nodes:o.nodes,edges:o.edges})].slice(-50);e({nodes:n,edges:r,historyPast:i,historyFuture:[]})},updateEdge:(n,r)=>{const{nodes:o,edges:i,historyPast:s}=t(),l=[...s,Ie({nodes:o,edges:i})].slice(-50);e({edges:i.map(a=>a.id===n?r(a):a),historyPast:l,historyFuture:[]})},setNodes:n=>{const r=t(),o=[...r.historyPast,Ie({nodes:r.nodes,edges:r.edges})].slice(-50);e({nodes:n,historyPast:o,historyFuture:[]})},setEdges:n=>{const r=t(),o=[...r.historyPast,Ie({nodes:r.nodes,edges:r.edges})].slice(-50);e({edges:n,historyPast:o,historyFuture:[]})},setSnapToGrid:n=>e({snapToGrid:n}),setSnapGrid:n=>e({snapGrid:n}),removeSelected:()=>{const{nodes:n,edges:r,historyPast:o}=t(),i=new Set(n.filter(u=>u.selected).map(u=>u.id)),s=n.filter(u=>!i.has(u.id)),l=r.filter(u=>!u.selected&&!i.has(u.source)&&!i.has(u.target)),a=[...o,Ie({nodes:n,edges:r})].slice(-50);e({nodes:s,edges:l,historyPast:a,historyFuture:[]})},duplicateSelected:()=>{const{nodes:n,edges:r,historyPast:o}=t(),i=n.filter(u=>u.selected);if(!i.length)return;const s=Date.now(),l=i.map((u,c)=>({...u,id:`n_${s}_${c}_${Math.round(Math.random()*1e4)}`,selected:!1,position:{x:u.position.x+40,y:u.position.y+40}})),a=[...o,Ie({nodes:n,edges:r})].slice(-50);e({nodes:[...n,...l],historyPast:a,historyFuture:[]})},groupSelectedIntoNewGroup:(n="Group")=>{const{nodes:r,edges:o,historyPast:i}=t(),s=$k(r,n,24);if(!s)return;const l=[...i,Ie({nodes:r,edges:o})].slice(-50);e({nodes:s.nodes,historyPast:l,historyFuture:[]});try{window.dispatchEvent(new CustomEvent("mlcd-group-created",{detail:{groupId:s.groupId,count:r.filter(a=>a.selected&&a.type!=="groupNode").length}}))}catch{}},groupSelectedInto:n=>{const{nodes:r,edges:o,historyPast:i}=t(),s=Ik(r,n),l=[...i,Ie({nodes:r,edges:o})].slice(-50);e({nodes:s,historyPast:l,historyFuture:[]})},ungroupSelected:()=>{const{nodes:n,edges:r,historyPast:o}=t(),i=Ok(n),s=[...o,Ie({nodes:n,edges:r})].slice(-50);e({nodes:i,historyPast:s,historyFuture:[]})},reset:()=>{const{nodes:n,edges:r,historyPast:o}=t(),i=[...o,Ie({nodes:n,edges:r})].slice(-50);e({nodes:[],edges:[],historyPast:i,historyFuture:[]})},undo:()=>{const{historyPast:n,historyFuture:r,nodes:o,edges:i}=t();if(!n.length)return;const s=n[n.length-1],l=n.slice(0,-1),a=[...r,Ie({nodes:o,edges:i})].slice(-50);e({nodes:s.nodes,edges:s.edges,historyPast:l,historyFuture:a,isUndoRedo:!0})},redo:()=>{const{historyPast:n,historyFuture:r,nodes:o,edges:i}=t();if(!r.length)return;const s=r[r.length-1],l=r.slice(0,-1),a=[...n,Ie({nodes:o,edges:i})].slice(-50);e({nodes:s.nodes,edges:s.edges,historyPast:a,historyFuture:l,isUndoRedo:!0})}}));function ce(e,t=1){if(!e)return`rgba(0,0,0,${t})`;let n=e.trim();if(n.startsWith("#")&&(n=n.slice(1)),n.length===3){const r=parseInt(n[0]+n[0],16),o=parseInt(n[1]+n[1],16),i=parseInt(n[2]+n[2],16);return`rgba(${r}, ${o}, ${i}, ${t})`}if(n.length>=6){const r=parseInt(n.slice(0,2),16),o=parseInt(n.slice(2,4),16),i=parseInt(n.slice(4,6),16);return`rgba(${r}, ${o}, ${i}, ${t})`}return`rgba(0,0,0,${t})`}function yt({text:e,enabled:t,className:n,title:r}){const o=_.useRef(null);return _.useEffect(()=>{const i=o.current;if(i)if(t&&window.katex)try{return window.katex.render(e,i,{throwOnError:!1,displayMode:!1}),()=>{i.innerHTML=""}}catch{i.textContent=e}else i.textContent=e},[e,t]),d.jsx("span",{ref:o,className:n,title:r})}function We({className:e="w-6 h-6"}){return d.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"3",y:"6",width:"18",height:"12",rx:"6",fill:"#eff6ff",stroke:"#2563eb",strokeWidth:"2"}),d.jsx("path",{d:"M8 10h8M8 13h8",stroke:"#2563eb",strokeWidth:"2",strokeLinecap:"round"})]})}const zk=({className:e="w-5 h-5"})=>d.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2",stroke:"#374151",strokeWidth:"2"}),d.jsx("path",{d:"M6 9h12M6 12h12M6 15h7",stroke:"#374151",strokeWidth:"2",strokeLinecap:"round"})]}),Dk=({className:e="w-5 h-5"})=>d.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"4",y:"6",width:"12",height:"12",rx:"2",stroke:"#f59e0b",strokeWidth:"2"}),d.jsx("rect",{x:"8",y:"4",width:"12",height:"12",rx:"2",stroke:"#f59e0b",strokeWidth:"2",opacity:"0.6"})]}),C0=({className:e="w-5 h-5"})=>d.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2",stroke:"#10b981",strokeWidth:"2"}),d.jsx("path",{d:"M7 12h10",stroke:"#10b981",strokeWidth:"2",strokeLinecap:"round"}),d.jsx("path",{d:"M12 9v6",stroke:"#10b981",strokeWidth:"2",strokeLinecap:"round",opacity:"0.4"})]}),_0=({className:e="w-5 h-5"})=>d.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"3",stroke:"#ef4444",strokeWidth:"2",fill:"#fee2e2"})}),Fk=({className:e="w-5 h-5"})=>d.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("circle",{cx:"12",cy:"12",r:"7",stroke:"#0ea5e9",strokeWidth:"2"}),d.jsx("path",{d:"M12 8v3l2 2",stroke:"#0ea5e9",strokeWidth:"2",strokeLinecap:"round"})]}),Vk=({className:e="w-5 h-5"})=>d.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("circle",{cx:"12",cy:"12",r:"7",stroke:"#22c55e",strokeWidth:"2",fill:"#ecfdf5"})}),Ru=({className:e="w-5 h-5"})=>d.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2",stroke:"#3b82f6",strokeWidth:"2"}),d.jsx("path",{d:"M7 15h10M7 12h6M7 9h3",stroke:"#3b82f6",strokeWidth:"2"})]}),L0=({className:e="w-5 h-5"})=>d.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2",stroke:"#06b6d4",strokeWidth:"2",strokeDasharray:"4 3"}),d.jsx("circle",{cx:"9",cy:"12",r:"1",fill:"#06b6d4"}),d.jsx("circle",{cx:"12",cy:"12",r:"1",fill:"#06b6d4"}),d.jsx("circle",{cx:"15",cy:"12",r:"1",fill:"#06b6d4"})]}),j0=({className:e="w-5 h-5"})=>d.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"5",y:"6",width:"6",height:"12",rx:"1",stroke:"#f43f5e"}),d.jsx("rect",{x:"13",y:"6",width:"6",height:"12",rx:"1",stroke:"#f43f5e"}),d.jsx("path",{d:"M11 12h2",stroke:"#f43f5e",strokeWidth:"2"})]}),Au=({className:e="w-5 h-5"})=>d.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2",stroke:"#10b981",strokeWidth:"2"}),d.jsx("path",{d:"M8 10h8M8 14h5",stroke:"#10b981",strokeWidth:"2"})]}),$u=({className:e="w-5 h-5"})=>d.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"#a78bfa",strokeWidth:"2"}),d.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"#a78bfa"}),d.jsx("path",{d:"M4 12h4M16 12h4",stroke:"#a78bfa",strokeWidth:"2"})]}),xa=({className:e="w-5 h-5"})=>d.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"5",y:"7",width:"10",height:"10",rx:"2",stroke:"#3b82f6",strokeWidth:"2"}),d.jsx("rect",{x:"9",y:"5",width:"10",height:"10",rx:"2",stroke:"#3b82f6",strokeWidth:"2",opacity:"0.6"}),d.jsx("path",{d:"M5 9l4-2m0 10 4-2m2-10 4 2m0 10-4 2",stroke:"#3b82f6",strokeWidth:"1.5",opacity:"0.6"})]}),Hk={fc:We,activation:Vk,batchnorm:Ru,dropout:L0,flatten:j0,embedding:Au,attention:$u,pool:C0,loss:_0,input:zk};function Zt({variant:e}){const n=Hk[e||"fc"]||We;return d.jsx("div",{className:"absolute top-1 right-1 opacity-90",children:d.jsx(n,{className:"w-3.5 h-3.5"})})}function P0({label:e,color:t,selected:n,minWidth:r,minHeight:o,markerVariant:i,role:s="core",typeAttr:l,containerClassName:a,style:u,dataAttrs:c,children:f,elevation:h="mid"}){const p="relative select-none w-full h-full",y=a?`${p} ${a}`:p,x={"data-role":s,"aria-label":e};l&&(x["data-type"]=l),c&&Object.assign(x,Object.fromEntries(Object.entries(c).map(([m,g])=>[`data-${m}`,g])));let b=u;try{const m=(u==null?void 0:u.borderColor)||(u==null?void 0:u.shadowColor)||void 0,g=typeof m=="string"?m:void 0,w=g?`0 2px 8px ${ce(g,.12)}`:void 0,v=g?`0 3px 10px ${ce(g,.15)}`:void 0,E=g?`0 0 0 3px hsl(var(--mlcd-hover) / 0.25), 0 6px 16px ${ce(g,.25)}`:void 0,k=n?E||(u==null?void 0:u.boxShadow):h==="low"?w||(u==null?void 0:u.boxShadow):v||(u==null?void 0:u.boxShadow);b={...u||{},boxShadow:k}}catch{b=u}return d.jsxs("div",{className:y,style:b,...x,children:[d.jsx(gt,{minWidth:r,minHeight:o,isVisible:n}),i&&d.jsx(Zt,{variant:i}),f]})}const Xs="w-3 h-3 rounded-sm border-2 border-white shadow-sm";function Uk({data:e,selected:t}){const n=(e==null?void 0:e.label)??"FC Layer",r=e==null?void 0:e.formulaLabel,o=(e==null?void 0:e.color)??"#4169E1",i=(e==null?void 0:e.variant)??"fc",s=e==null?void 0:e.inputDim,l=e==null?void 0:e.outputDim,a=Math.max(1,Math.min(64,Number((e==null?void 0:e.units)??0)))||void 0,u=!!(e!=null&&e.bias),c=_.useMemo(()=>({borderColor:o,backgroundColor:ce(o,.08),shadowColor:o}),[o]),f=_.useMemo(()=>({backgroundColor:o}),[o]),h=_.useMemo(()=>{const p=[];for(let x=0;x<7;x++){const b=15+11.666666666666666*x;p.push({x:b,key:x})}return p},[]);return d.jsxs(P0,{label:n,color:o,selected:t,minWidth:80,minHeight:120,markerVariant:i,role:"core",typeAttr:"fc",containerClassName:"rounded-md border-2 bg-white px-4 py-3 min-w-[80px] min-h-[120px] flex flex-col items-center justify-center transition-shadow duration-200",style:c,elevation:"mid",children:[d.jsxs("svg",{className:"absolute inset-2",viewBox:"0 0 100 140",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:`fcGrad-${o}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:o,stopOpacity:.15}}),d.jsx("stop",{offset:"50%",style:{stopColor:o,stopOpacity:.25}}),d.jsx("stop",{offset:"100%",style:{stopColor:o,stopOpacity:.15}})]})}),a?d.jsx("g",{fill:o,opacity:"0.28",children:(()=>{const p=[],y=Math.min(8,Math.max(3,Math.ceil(Math.sqrt(a)))),x=Math.min(8,Math.max(3,Math.ceil(a/y))),b=20,m=80,g=20,w=120,v=(m-b)/Math.max(1,y-1),E=(w-g)/Math.max(1,x-1);let k=0;for(let S=0;S<x;S++)for(let P=0;P<y&&!(k++>=a);P++){const M=b+v*P,R=g+E*S;p.push(d.jsx("circle",{cx:M,cy:R,r:2.2},`d-${S}-${P}`))}return p})()}):d.jsx("g",{children:h.map(p=>d.jsx("line",{x1:p.x,y1:"12",x2:p.x,y2:"128",stroke:`url(#fcGrad-${o})`,strokeWidth:"1.8",strokeLinecap:"round"},p.key))})]}),d.jsxs("div",{className:"relative z-10 text-center space-y-1",children:[(s||l)&&d.jsxs("div",{className:"text-[10px] font-mono text-gray-400 mb-2",children:[s&&d.jsxs("span",{children:["In: ",s]}),s&&l&&d.jsx("span",{className:"mx-1",children:""}),l&&d.jsxs("span",{children:["Out: ",l]})]}),d.jsxs("div",{className:"text-xs font-semibold text-gray-500 tracking-wide",children:["DENSE",u?" +b":""]}),d.jsx("div",{className:"text-sm font-medium text-gray-800 break-words px-1",title:n,children:r?d.jsx(yt,{text:r,enabled:!0}):n})]}),d.jsx(fe,{type:"target",position:W.Top,className:Xs,style:f,"data-port":"in","data-slot":"0"}),d.jsx(fe,{type:"source",position:W.Bottom,className:Xs,style:f,"data-port":"out","data-slot":"0"})]})}function Wk({data:e,selected:t}){const n=(e==null?void 0:e.label)??"Module",r=e==null?void 0:e.formulaLabel,o=(e==null?void 0:e.color)??"#2563eb",i=(e==null?void 0:e.typeLabel)??"CUSTOM",s=e==null?void 0:e.variant,l=_.useMemo(()=>({backgroundColor:"transparent",boxShadow:t?`0 0 0 3px hsl(var(--mlcd-hover) / 0.25), 0 4px 12px ${ce(o,.25)}`:`0 2px 8px ${ce(o,.12)}`,transition:"box-shadow 0.2s ease"}),[o,t]),a=_.useMemo(()=>({backgroundColor:o}),[o]),u=s==="loss"?"loss":s==="activation"?"activation":s==="dropout"?"dropout":"fc",c=s==="loss"?"objective":s==="activation"||s==="dropout"?"func":"core";return d.jsxs("div",{className:"px-2 py-2 min-w-[110px] min-h-[80px] w-full h-full relative select-none flex flex-col items-center justify-center",style:l,"data-node-type":"box","data-variant":s,"data-type":u,"data-role":c,"aria-label":`${i} ${n}`,children:[d.jsx(gt,{minWidth:110,minHeight:80,isVisible:t}),d.jsx(Zt,{variant:s}),d.jsxs("svg",{viewBox:"0 0 120 90",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:`boxGrad-${o}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:o,stopOpacity:.12}}),d.jsx("stop",{offset:"100%",style:{stopColor:o,stopOpacity:.04}})]}),d.jsx("filter",{id:`boxShadow-${o}`,children:d.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"1.5",floodOpacity:"0.15"})})]}),d.jsxs("g",{"data-selected":t?"true":void 0,children:[d.jsx("rect",{x:"10",y:"20",width:"100",height:"55",rx:"8",fill:`url(#boxGrad-${o})`,stroke:o,strokeWidth:"2.5",filter:`url(#boxShadow-${o})`}),d.jsxs("g",{opacity:"0.4",stroke:o,strokeWidth:"1.5",fill:"none",children:[d.jsx("path",{d:"M 18 25 L 18 28 M 18 25 L 21 25"}),d.jsx("path",{d:"M 102 25 L 102 28 M 102 25 L 99 25"}),d.jsx("path",{d:"M 18 70 L 18 67 M 18 70 L 21 70"}),d.jsx("path",{d:"M 102 70 L 102 67 M 102 70 L 99 70"})]}),d.jsxs("g",{opacity:"0.5",children:[d.jsx("rect",{x:"52",y:"42",width:"16",height:"16",rx:"2",stroke:o,strokeWidth:"1.5",fill:"none"}),d.jsx("circle",{cx:"60",cy:"50",r:"3",fill:o})]})]}),d.jsx("text",{x:"60",y:"14",textAnchor:"middle",fontSize:"9",fontWeight:"700",fill:"#6b7280",letterSpacing:"0.5",children:i}),d.jsx("text",{x:"60",y:r?82:85,textAnchor:"middle",fontSize:"11",fontWeight:"500",fill:"#374151",children:r?"":n})]}),r&&d.jsx("div",{className:"absolute bottom-1 text-sm font-medium text-gray-800",title:n,children:d.jsx(yt,{text:r,enabled:!0})}),d.jsx(fe,{type:"target",position:W.Left,className:"w-3 h-3 rounded-sm border-2 border-white",style:a,"data-port":"in","data-slot":"0"}),d.jsx(fe,{type:"source",position:W.Right,className:"w-3 h-3 rounded-sm border-2 border-white",style:a,"data-port":"out","data-slot":"0"})]})}function Bk({data:e,selected:t}){const n=(e==null?void 0:e.label)??"Circle",r=e==null?void 0:e.formulaLabel,o=(e==null?void 0:e.color)??"#2563eb",i=e==null?void 0:e.icon,s=e==null?void 0:e.typeLabel,l=_.useMemo(()=>({backgroundColor:"transparent",boxShadow:t?`0 0 0 3px hsl(var(--mlcd-hover) / 0.25), 0 4px 12px ${ce(o,.3)}`:`0 2px 8px ${ce(o,.15)}`,transition:"box-shadow 0.2s ease"}),[o,t]),a=_.useMemo(()=>({backgroundColor:o}),[o]);return d.jsxs("div",{className:"relative select-none flex items-center justify-center text-center min-w-[90px] min-h-[90px] w-full h-full",style:l,"data-node-type":"circle","data-type":"optimizer","data-role":"objective","aria-label":n,children:[d.jsx(gt,{minWidth:90,minHeight:90,isVisible:t}),d.jsx(Zt,{variant:"activation"}),d.jsxs("svg",{viewBox:"0 0 100 100",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[d.jsxs("defs",{children:[d.jsxs("radialGradient",{id:`circleGrad-${o}`,children:[d.jsx("stop",{offset:"0%",style:{stopColor:o,stopOpacity:.15}}),d.jsx("stop",{offset:"100%",style:{stopColor:o,stopOpacity:.05}})]}),d.jsx("filter",{id:`circleShadow-${o}`,children:d.jsx("feDropShadow",{dx:"0",dy:"1.5",stdDeviation:"2",floodOpacity:"0.18"})})]}),d.jsxs("g",{"data-selected":t?"true":void 0,children:[d.jsx("circle",{cx:"50",cy:"50",r:"38",fill:`url(#circleGrad-${o})`,stroke:o,strokeWidth:"2.8",filter:`url(#circleShadow-${o})`}),d.jsx("circle",{cx:"50",cy:"50",r:"30",fill:"none",stroke:o,strokeWidth:"1",opacity:"0.3",strokeDasharray:"3 3"}),i&&d.jsx("text",{x:"50",y:"55",textAnchor:"middle",fontSize:"20",fill:o,opacity:"0.8",children:i})]}),s&&d.jsx("text",{x:"50",y:"12",textAnchor:"middle",fontSize:"9",fontWeight:"700",fill:"#6b7280",letterSpacing:"0.5",children:s}),d.jsx("text",{x:"50",y:r?93:96,textAnchor:"middle",fontSize:"10",fontWeight:"500",fill:"#374151",children:r?"":n})]}),r&&d.jsx("div",{className:"absolute bottom-1 text-xs font-medium text-gray-800",title:n,children:d.jsx(yt,{text:r,enabled:!0})}),d.jsx(fe,{type:"target",position:W.Left,className:"w-3 h-3 rounded-full border-2 border-white",style:a,"data-port":"in","data-slot":"0"}),d.jsx(fe,{type:"source",position:W.Right,className:"w-3 h-3 rounded-full border-2 border-white",style:a,"data-port":"out","data-slot":"0"})]})}function Kk(e){const{id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s,targetPosition:l,style:a}=e,[u]=Wc({sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s,targetPosition:l}),c={stroke:"hsl(var(--mlcd-data))",strokeDasharray:"4 3",strokeWidth:1.25,...a||{}};return d.jsx("g",{"data-kind":"residual",children:d.jsx(xr,{id:t,path:u,style:c})})}const ue={fc:"#4169E1",conv:"#FF8C00",pool:"#20B2AA",activation:"#32CD32",norm:"#9370DB",attention:"#DC143C",rnn:"#8B4789",data:"#4682B4",tensor:"#5F9EA0",dropout:"#A9A9A9",loss:"#B22222",group:"#708090"};function Gk({data:e,selected:t}){const n=(e==null?void 0:e.label)??"Conv2D",r=e==null?void 0:e.formulaLabel,o=(e==null?void 0:e.color)??ue.conv,i=typeof(e==null?void 0:e.kernel)=="number"?`${e.kernel}${e.kernel}`:(e==null?void 0:e.kernelSize)??"33",s=e==null?void 0:e.channels,l=e==null?void 0:e.stride,a=e==null?void 0:e.dilation,u=e==null?void 0:e.padding,c=_.useMemo(()=>({backgroundColor:"transparent",shadowColor:o}),[o]),f=_.useMemo(()=>({backgroundColor:o}),[o]);return d.jsxs(P0,{label:n,color:o,selected:t,minWidth:140,minHeight:160,role:"core",typeAttr:"conv",containerClassName:"px-2 py-2 min-w-[140px] min-h-[160px] flex flex-col items-center justify-center",style:c,elevation:"mid",children:[d.jsxs("svg",{viewBox:"0 0 160 150",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:`convGrad-top-${o}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:o,stopOpacity:.8}}),d.jsx("stop",{offset:"100%",style:{stopColor:o,stopOpacity:.4}})]}),d.jsxs("linearGradient",{id:`convGrad-side-${o}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:o,stopOpacity:.3}}),d.jsx("stop",{offset:"100%",style:{stopColor:o,stopOpacity:.5}})]}),d.jsx("filter",{id:`shadow-${o}`,children:d.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"2",floodOpacity:"0.2"})})]}),d.jsxs("g",{"data-selected":t?"true":void 0,children:[d.jsx("path",{d:"M 50 35 L 130 35 L 130 85 L 50 85 Z",fill:ce(o,.12),stroke:o,strokeWidth:"1.8",opacity:"0.7"}),d.jsx("path",{d:"M 30 25 L 110 25 L 130 35 L 50 35 Z",fill:`url(#convGrad-top-${o})`,stroke:o,strokeWidth:"2"}),d.jsx("path",{d:"M 30 25 L 30 75 L 50 85 L 50 35 Z",fill:`url(#convGrad-side-${o})`,stroke:o,strokeWidth:"2"}),d.jsx("rect",{x:"30",y:"75",width:"80",height:"50",rx:"3",fill:"white",stroke:o,strokeWidth:"2.8",filter:`url(#shadow-${o})`}),d.jsxs("g",{opacity:"0.65",stroke:o,strokeWidth:"1.5",children:[d.jsx("line",{x1:"50",y1:"75",x2:"50",y2:"125"}),d.jsx("line",{x1:"70",y1:"75",x2:"70",y2:"125"}),d.jsx("line",{x1:"90",y1:"75",x2:"90",y2:"125"}),d.jsx("line",{x1:"30",y1:"90",x2:"110",y2:"90"}),d.jsx("line",{x1:"30",y1:"105",x2:"110",y2:"105"})]}),d.jsx("text",{x:"70",y:"102",textAnchor:"middle",fontSize:"10",fontWeight:"700",fill:o,opacity:"0.85",children:i})]}),d.jsx("text",{x:"80",y:"15",textAnchor:"middle",fontSize:"10",fontWeight:"700",fill:"#6b7280",letterSpacing:"0.5",children:"CONV2D"}),(s||l||typeof a=="number"||typeof u=="number")&&d.jsxs("text",{x:"80",y:"145",textAnchor:"middle",fontSize:"9",fontWeight:"500",fill:"#9ca3af",children:[s&&`C=${s}`,s&&(l||typeof a=="number"||typeof u=="number")&&"  ",l&&`S=${l}`,l&&(typeof a=="number"||typeof u=="number")&&"  ",typeof a=="number"&&`D=${a}`,typeof a=="number"&&typeof u=="number"&&"  ",typeof u=="number"&&`P=${u}`]}),d.jsx("text",{x:"80",y:r?138:148,textAnchor:"middle",fontSize:"11",fontWeight:"500",fill:"#374151",children:r?"":n})]}),r&&d.jsx("div",{className:"absolute bottom-1 text-sm font-medium text-gray-800",title:n,children:d.jsx(yt,{text:r,enabled:!0})}),d.jsx(fe,{type:"target",position:W.Left,className:Xs,style:f,"data-port":"in","data-slot":"0"}),d.jsx(fe,{type:"source",position:W.Right,className:Xs,style:f,"data-port":"out","data-slot":"0"})]})}function Yk({data:e,selected:t}){const n=(e==null?void 0:e.label)??"Data",r=e==null?void 0:e.formulaLabel,o=(e==null?void 0:e.color)??ue.data,i=(e==null?void 0:e.direction)??"right",s=e==null?void 0:e.dataSource,l=e==null?void 0:e.shape,a=(e==null?void 0:e.ioType)??"input",u=_.useMemo(()=>({backgroundColor:"transparent",boxShadow:t?`0 0 0 3px hsl(var(--mlcd-hover) / 0.25), 0 4px 12px ${ce(o,.25)}`:`0 2px 8px ${ce(o,.12)}`,transition:"box-shadow 0.2s ease"}),[o,t]),c=_.useMemo(()=>({backgroundColor:o}),[o]);return d.jsxs("div",{className:"px-2 py-2 min-w-[120px] min-h-[100px] w-full h-full relative select-none flex flex-col items-center justify-center",style:u,"data-node-type":"data","data-type":"data","data-role":"data","data-direction":i,"data-io-type":a,"aria-label":n,children:[d.jsx(gt,{minWidth:120,minHeight:100,isVisible:t}),d.jsx(Zt,{variant:"data"}),d.jsxs("svg",{viewBox:"0 0 130 110",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:`dataGrad-${o}-${i}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:o,stopOpacity:i==="right"?.25:.1}}),d.jsx("stop",{offset:"100%",style:{stopColor:o,stopOpacity:i==="right"?.1:.25}})]}),d.jsx("filter",{id:`dataShadow-${o}`,children:d.jsx("feDropShadow",{dx:"0",dy:"1.5",stdDeviation:"2",floodOpacity:"0.15"})})]}),d.jsxs("g",{"data-selected":t?"true":void 0,children:[i==="right"?d.jsx("path",{d:"M 20 25 L 110 20 L 100 75 L 10 80 Z",fill:`url(#dataGrad-${o}-${i})`,stroke:o,strokeWidth:"2.8",strokeLinejoin:"round",filter:`url(#dataShadow-${o})`}):d.jsx("path",{d:"M 10 20 L 100 25 L 110 80 L 20 75 Z",fill:`url(#dataGrad-${o}-${i})`,stroke:o,strokeWidth:"2.8",strokeLinejoin:"round",filter:`url(#dataShadow-${o})`}),d.jsx("g",{opacity:"0.5",stroke:o,strokeWidth:"2",fill:o,children:i==="right"?d.jsxs(d.Fragment,{children:[d.jsx("line",{x1:"30",y1:"52",x2:"90",y2:"48",strokeLinecap:"round"}),d.jsx("path",{d:"M 85 46 L 90 48 L 85 50 Z"})]}):d.jsxs(d.Fragment,{children:[d.jsx("line",{x1:"90",y1:"52",x2:"30",y2:"48",strokeLinecap:"round"}),d.jsx("path",{d:"M 35 46 L 30 48 L 35 50 Z"})]})}),d.jsxs("g",{children:[d.jsx("rect",{x:i==="right"?"12":"82",y:"28",width:"36",height:"18",rx:"4",fill:a==="input"?"#22c55e":"#ef4444",opacity:"1"}),d.jsx("text",{x:i==="right"?"30":"100",y:"40",textAnchor:"middle",fontSize:"10",fontWeight:"900",fill:"white",letterSpacing:"0.5",children:a==="input"?"IN":"OUT"})]})]}),d.jsx("text",{x:"65",y:"14",textAnchor:"middle",fontSize:"10",fontWeight:"700",fill:"#6b7280",letterSpacing:"0.5",children:"DATA"}),s&&d.jsx("text",{x:"65",y:"95",textAnchor:"middle",fontSize:"8",fontWeight:"600",fill:"#9ca3af",fontFamily:"monospace",children:s}),l&&d.jsx("text",{x:"65",y:s?"103":"95",textAnchor:"middle",fontSize:"8",fontWeight:"500",fill:o,opacity:"0.6",fontFamily:"monospace",children:l}),d.jsx("text",{x:"65",y:r?105:108,textAnchor:"middle",fontSize:"11",fontWeight:"500",fill:"#374151",children:r?"":n})]}),r&&d.jsx("div",{className:"absolute bottom-1 text-sm font-medium text-gray-800",title:n,children:d.jsx(yt,{text:r,enabled:!0})}),d.jsx(fe,{type:"target",position:W.Left,className:"w-3 h-3 rounded-sm border-2 border-white",style:c,"data-port":"in","data-slot":"0"}),d.jsx(fe,{type:"source",position:W.Right,className:"w-3 h-3 rounded-sm border-2 border-white",style:c,"data-port":"out","data-slot":"0"})]})}function Xk(e){const{id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,style:s}=e,[l]=$g({sourceX:n,sourceY:r,targetX:o,targetY:i});return d.jsx(xr,{id:t,path:l,style:s})}function Qk({data:e,selected:t}){const n=(e==null?void 0:e.label)??"ReLU",r=e==null?void 0:e.formulaLabel,o=(e==null?void 0:e.color)??ue.activation,i=(e==null?void 0:e.shape)??"diamond",s=(e==null?void 0:e.activationType)??"relu",l=_.useMemo(()=>({backgroundColor:"transparent",boxShadow:t?`0 0 0 3px hsl(var(--mlcd-hover) / 0.25), 0 4px 14px ${ce(o,.3)}`:`0 2px 8px ${ce(o,.15)}`,transition:"box-shadow 0.2s ease"}),[t,o]),a=_.useMemo(()=>({backgroundColor:o}),[o]),u=_.useMemo(()=>{switch(s){case"relu":return"M 35 75 L 60 60 L 85 45";case"sigmoid":return"M 35 80 Q 50 70, 60 60 T 85 40";case"tanh":return"M 35 75 Q 45 65, 60 60 Q 75 55, 85 45";case"softmax":return"M 35 70 Q 60 55, 85 50";case"leaky_relu":return"M 30 78 L 60 60 L 90 42";case"gelu":return"M 35 78 Q 50 68, 60 60 Q 70 52, 85 43";case"silu":return"M 35 80 Q 48 65, 60 58 Q 72 51, 85 45";default:return"M 35 75 L 60 60 L 85 45"}},[s]),c=_.useMemo(()=>{switch(s){case"relu":return"ReLU";case"sigmoid":return"";case"tanh":return"tanh";case"softmax":return"";case"leaky_relu":return"LReLU";case"gelu":return"";case"silu":return"swish";default:return"ACT"}},[s]);return d.jsxs("div",{className:"relative select-none flex items-center justify-center text-center min-w-[100px] min-h-[100px] w-full h-full",style:l,"data-node-type":"activation","data-type":"activation","data-role":"func","data-shape":i,"aria-label":n,children:[d.jsx(gt,{minWidth:100,minHeight:100,isVisible:t}),d.jsx(Zt,{variant:"activation"}),d.jsxs("svg",{className:"absolute inset-0",viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:`actGrad-${o}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:o,stopOpacity:.25}}),d.jsx("stop",{offset:"50%",style:{stopColor:o,stopOpacity:.12}}),d.jsx("stop",{offset:"100%",style:{stopColor:o,stopOpacity:.05}})]}),d.jsx("filter",{id:`actShadow-${o}`,children:d.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"1.5",floodOpacity:"0.15"})})]}),d.jsxs("g",{"data-selected":t?"true":void 0,children:[d.jsx("polygon",{points:"60,12 108,60 60,108 12,60",fill:`url(#actGrad-${o})`,stroke:o,strokeWidth:"2.8",strokeLinejoin:"miter",filter:`url(#actShadow-${o})`}),d.jsxs("g",{opacity:"0.2",stroke:"#9ca3af",strokeWidth:"0.8",children:[d.jsx("line",{x1:"30",y1:"60",x2:"90",y2:"60"}),d.jsx("line",{x1:"60",y1:"30",x2:"60",y2:"90"})]}),d.jsx("g",{opacity:"0.7",children:d.jsx("path",{d:u,stroke:o,strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})]}),d.jsx("text",{x:"92",y:"28",textAnchor:"middle",fontSize:"12",fontWeight:"bold",fill:o,opacity:"0.8",style:{userSelect:"none"},children:c})]}),d.jsxs("div",{className:"relative z-10 text-center space-y-0.5",children:[d.jsx("div",{className:"text-sm font-bold text-gray-800 max-w-[80%] mx-auto break-words",title:n,children:r?d.jsx(yt,{text:r,enabled:!0}):n}),!r&&d.jsx("div",{className:"text-[10px] font-mono text-gray-400",children:String(s).toUpperCase()})]}),d.jsx(fe,{type:"target",position:W.Left,className:"w-3 h-3 rounded-full border-2 border-white",style:a,"data-port":"in","data-slot":"0"}),d.jsx(fe,{type:"source",position:W.Right,className:"w-3 h-3 rounded-full border-2 border-white",style:a,"data-port":"out","data-slot":"0"})]})}function Zk({data:e,selected:t}){const n=(e==null?void 0:e.label)??"Tensor",r=e==null?void 0:e.formulaLabel,o=(e==null?void 0:e.color)??ue.tensor,i=Math.max(3,Math.min(8,(e==null?void 0:e.depth)??5)),s=e==null?void 0:e.shape,l=e==null?void 0:e.dtype,a=_.useMemo(()=>({backgroundColor:"transparent",boxShadow:t?`0 0 0 3px hsl(var(--mlcd-hover) / 0.25), 0 4px 12px ${ce(o,.25)}`:`0 2px 8px ${ce(o,.12)}`,transition:"box-shadow 0.2s ease"}),[t,o]),u=_.useMemo(()=>({backgroundColor:o}),[o]),c=_.useMemo(()=>{const f=[];for(let p=0;p<i;p++){const y=p*6,x=p*(6*.5),b=.35+p/i*.65;f.push({offsetX:y,offsetY:x,opacity:b,index:p})}return f},[i]);return d.jsxs("div",{className:"px-2 py-2 min-w-[140px] min-h-[140px] w-full h-full relative select-none flex flex-col items-center justify-center",style:a,"data-node-type":"tensor","data-type":"tensor","data-role":"data","aria-label":n,children:[d.jsx(gt,{minWidth:140,minHeight:140,isVisible:t}),d.jsxs("svg",{viewBox:"0 0 160 155",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:`tensorGrad-${o}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:o,stopOpacity:.45}}),d.jsx("stop",{offset:"100%",style:{stopColor:o,stopOpacity:.18}})]}),d.jsx("filter",{id:`tensorShadow-${o}`,children:d.jsx("feDropShadow",{dx:"1",dy:"1",stdDeviation:"1.5",floodOpacity:"0.2"})})]}),d.jsx("g",{"data-selected":t?"true":void 0,children:c.map(f=>d.jsxs("g",{opacity:f.opacity,children:[f.index<i-1&&d.jsx("rect",{x:27+f.offsetX,y:32+f.offsetY,width:"80",height:"60",rx:"4",fill:"#000",opacity:"0.08"}),d.jsx("rect",{x:25+f.offsetX,y:30+f.offsetY,width:"80",height:"60",rx:"4",fill:f.index===i-1?"white":`url(#tensorGrad-${o})`,stroke:o,strokeWidth:f.index===i-1?"2.8":"1.8",filter:f.index===i-1?`url(#tensorShadow-${o})`:void 0}),f.index===i-1&&d.jsxs("g",{opacity:"0.3",stroke:o,strokeWidth:"1",children:[d.jsx("line",{x1:45+f.offsetX,y1:30+f.offsetY,x2:45+f.offsetX,y2:90+f.offsetY}),d.jsx("line",{x1:65+f.offsetX,y1:30+f.offsetY,x2:65+f.offsetX,y2:90+f.offsetY}),d.jsx("line",{x1:85+f.offsetX,y1:30+f.offsetY,x2:85+f.offsetX,y2:90+f.offsetY}),d.jsx("line",{x1:25+f.offsetX,y1:50+f.offsetY,x2:105+f.offsetX,y2:50+f.offsetY}),d.jsx("line",{x1:25+f.offsetX,y1:70+f.offsetY,x2:105+f.offsetX,y2:70+f.offsetY})]}),f.index===0&&d.jsxs("text",{x:65+f.offsetX,y:65+f.offsetY,textAnchor:"middle",fontSize:"11",fontWeight:"700",fill:o,opacity:"0.7",children:["",i]})]},f.index))}),d.jsx("text",{x:"65",y:"18",textAnchor:"middle",fontSize:"10",fontWeight:"700",fill:"#6b7280",letterSpacing:"0.5",children:"TENSOR"}),(s||l)&&d.jsxs("text",{x:"65",y:"135",textAnchor:"middle",fontSize:"9",fontWeight:"500",fill:"#9ca3af",children:[s&&d.jsx("tspan",{fontFamily:"monospace",children:s}),s&&l&&d.jsx("tspan",{children:"  "}),l&&d.jsx("tspan",{fontWeight:"600",children:l})]}),d.jsx("text",{x:"65",y:r?147:150,textAnchor:"middle",fontSize:"11",fontWeight:"500",fill:"#374151",children:r?"":n})]}),r&&d.jsx("div",{className:"absolute bottom-1 text-sm font-medium text-gray-800",title:n,children:d.jsx(yt,{text:r,enabled:!0})}),d.jsx(fe,{type:"target",position:W.Left,className:"w-3 h-3 rounded-sm border-2 border-white",style:u,"data-port":"in","data-slot":"0"}),d.jsx(fe,{type:"source",position:W.Right,className:"w-3 h-3 rounded-sm border-2 border-white",style:u,"data-port":"out","data-slot":"0"})]})}function Jk(e,t){let n=0;for(let r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n=n&n;return n=n^t,n=n^n<<13,n=n^n>>>17,n=n^n<<5,(n>>>0)/4294967296}function qk({data:e,selected:t,id:n}){const r=(e==null?void 0:e.label)??"Dropout",o=e==null?void 0:e.formulaLabel,i=(e==null?void 0:e.color)??ue.dropout,s=(e==null?void 0:e.dropoutRate)??.5,l=(e==null?void 0:e.visualizeDropped)??!0,a=(e==null?void 0:e.seed)??n,u=_.useMemo(()=>({backgroundColor:"transparent",boxShadow:t?`0 0 0 3px hsl(var(--mlcd-hover) / 0.25), 0 4px 12px ${ce(i,.25)}`:`0 2px 8px ${ce(i,.12)}`,transition:"box-shadow 0.2s ease"}),[i,t]),c=_.useMemo(()=>({backgroundColor:i}),[i]),f=_.useMemo(()=>{const h=[];for(let m=0;m<4;m++)for(let g=0;g<8;g++){const w=m*8+g,v=l&&Jk(a,w)<s;h.push({cx:20+g*15,cy:30+m*15,dropped:v})}return h},[s,l,a]);return d.jsxs("div",{className:"px-2 py-2 min-w-[140px] min-h-[100px] w-full h-full relative select-none flex flex-col items-center justify-center",style:u,"data-node-type":"dropout","data-type":"dropout","data-role":"func","aria-label":r,children:[d.jsx(gt,{minWidth:140,minHeight:100,isVisible:t}),d.jsx(Zt,{variant:"dropout"}),d.jsxs("svg",{viewBox:"0 0 140 110",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:`dropoutGrad-${i}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:i,stopOpacity:.08}}),d.jsx("stop",{offset:"100%",style:{stopColor:i,stopOpacity:.03}})]}),d.jsx("filter",{id:`dropoutShadow-${i}`,children:d.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"1.5",floodOpacity:"0.12"})})]}),d.jsxs("g",{"data-selected":t?"true":void 0,children:[d.jsx("rect",{x:"10",y:"20",width:"120",height:"65",rx:"6",fill:`url(#dropoutGrad-${i})`,stroke:i,strokeWidth:"2.5",strokeDasharray:"6 4",filter:`url(#dropoutShadow-${i})`}),f.map((h,p)=>d.jsx("g",{children:h.dropped?d.jsx("circle",{cx:h.cx,cy:h.cy,r:3.5,fill:"none",stroke:i,strokeWidth:"1.5",strokeDasharray:"2 2",opacity:"0.25"}):d.jsx("circle",{cx:h.cx,cy:h.cy,r:3.5,fill:i,stroke:i,strokeWidth:"1.5",opacity:"0.7"})},p)),d.jsx("g",{opacity:"0.6",children:d.jsxs("text",{x:"70",y:"98",textAnchor:"middle",fontSize:"9",fontWeight:"600",fill:i,fontFamily:"monospace",children:["p=",s.toFixed(2)]})})]}),d.jsx("text",{x:"70",y:"14",textAnchor:"middle",fontSize:"10",fontWeight:"700",fill:"#6b7280",letterSpacing:"0.5",children:"DROPOUT"}),d.jsx("text",{x:"70",y:o?105:108,textAnchor:"middle",fontSize:"11",fontWeight:"500",fill:"#374151",children:o?"":r})]}),o&&d.jsx("div",{className:"absolute bottom-1 text-sm font-medium text-gray-800",title:r,children:d.jsx(yt,{text:o,enabled:!0})}),d.jsx(fe,{type:"target",position:W.Left,className:"w-3 h-3 rounded-sm border-2 border-white",style:c,"data-port":"in","data-slot":"0"}),d.jsx(fe,{type:"source",position:W.Right,className:"w-3 h-3 rounded-sm border-2 border-white",style:c,"data-port":"out","data-slot":"0"})]})}function eE({data:e,selected:t}){const n=(e==null?void 0:e.label)??"Neuron",r=e==null?void 0:e.formulaLabel,o=(e==null?void 0:e.color)??ue.activation,i=(e==null?void 0:e.activationState)??.5,s=(e==null?void 0:e.showPulse)??!1,l=_.useMemo(()=>({backgroundColor:"transparent",boxShadow:t?`0 0 0 3px hsl(var(--mlcd-hover) / 0.25), 0 4px 12px ${ce(o,.3)}`:`0 2px 8px ${ce(o,.15)}`,transition:"box-shadow 0.2s ease"}),[o,t]),a=_.useMemo(()=>({backgroundColor:o}),[o]);return d.jsxs("div",{className:"relative select-none flex items-center justify-center text-center min-w-[70px] min-h-[70px] w-full h-full",style:l,"data-node-type":"neuron","data-type":"neuron","data-role":"func","aria-label":n,children:[d.jsx(gt,{minWidth:70,minHeight:70,isVisible:t}),d.jsxs("svg",{viewBox:"0 0 80 80",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[d.jsxs("defs",{children:[d.jsxs("radialGradient",{id:`neuronGrad-${o}`,children:[d.jsx("stop",{offset:"0%",style:{stopColor:o,stopOpacity:.8}}),d.jsx("stop",{offset:"70%",style:{stopColor:o,stopOpacity:.4}}),d.jsx("stop",{offset:"100%",style:{stopColor:o,stopOpacity:.1}})]}),d.jsxs("filter",{id:`neuronGlow-${o}`,children:[d.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),d.jsxs("feMerge",{children:[d.jsx("feMergeNode",{in:"coloredBlur"}),d.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),s&&d.jsx("animate",{attributeName:"r",values:"28;32;28",dur:"2s",repeatCount:"indefinite"})]}),d.jsxs("g",{"data-selected":t?"true":void 0,children:[d.jsx("circle",{cx:"40",cy:"40",r:"32",fill:"none",stroke:o,strokeWidth:"2",opacity:"0.3"}),d.jsx("circle",{cx:"40",cy:"40",r:"28",fill:`url(#neuronGrad-${o})`,stroke:o,strokeWidth:"2.8",filter:i>.7?`url(#neuronGlow-${o})`:void 0,opacity:.3+i*.7}),d.jsx("circle",{cx:"40",cy:"40",r:8+i*6,fill:o,opacity:.6+i*.4}),i>0&&d.jsxs("text",{x:"40",y:"70",textAnchor:"middle",fontSize:"7",fontWeight:"600",fill:o,opacity:"0.7",fontFamily:"monospace",children:[(i*100).toFixed(0),"%"]})]}),d.jsx("text",{x:"40",y:"10",textAnchor:"middle",fontSize:"8",fontWeight:"700",fill:"#6b7280",letterSpacing:"0.3",children:"N"})]}),d.jsx("div",{className:"absolute bottom-0 w-full text-center",children:r?d.jsx("div",{className:"text-xs font-medium text-gray-800",title:n,children:d.jsx(yt,{text:r,enabled:!0})}):d.jsx("div",{className:"text-[10px] font-medium text-gray-600 truncate px-1",title:n,children:n})}),d.jsx(fe,{type:"target",position:W.Left,className:"w-2.5 h-2.5 rounded-full border-2 border-white",style:a,"data-port":"in","data-slot":"0"}),d.jsx(fe,{type:"source",position:W.Right,className:"w-2.5 h-2.5 rounded-full border-2 border-white",style:a,"data-port":"out","data-slot":"0"})]})}function tE({data:e,selected:t}){const n=(e==null?void 0:e.label)??"MLP Block",r=e==null?void 0:e.formulaLabel,o=(e==null?void 0:e.color)??ue.fc,i=Math.max(3,Math.min(5,(e==null?void 0:e.neuronRows)??4)),s=Math.max(3,Math.min(5,(e==null?void 0:e.neuronCols)??4)),l=(e==null?void 0:e.showConnections)??!0,a=e==null?void 0:e.layerWidths,u=_.useMemo(()=>({backgroundColor:"transparent",boxShadow:t?`0 0 0 3px hsl(var(--mlcd-hover) / 0.25), 0 4px 12px ${ce(o,.25)}`:`0 2px 8px ${ce(o,.12)}`,transition:"box-shadow 0.2s ease"}),[o,t]),c=_.useMemo(()=>({backgroundColor:o}),[o]),f=[30,60,90,120],h=[];f.slice(0,s).forEach((y,x)=>{const b=x===0||x===s-1?i:i-1;for(let m=0;m<b;m++){const g=25+70/(b-1)*m;h.push({x:y,y:g,layer:x})}});const p=[];for(let y=0;y<s-1;y++){const x=h.filter(m=>m.layer===y),b=h.filter(m=>m.layer===y+1);x.forEach(m=>{b.forEach(g=>{p.push({x1:m.x,y1:m.y,x2:g.x,y2:g.y})})})}return d.jsxs("div",{className:"px-2 py-2 min-w-[160px] min-h-[120px] w-full h-full relative select-none flex flex-col items-center justify-center",style:u,"data-node-type":"mlp","data-type":"mlp","data-role":"core","aria-label":n,children:[d.jsx(gt,{minWidth:160,minHeight:120,isVisible:t}),d.jsx(Zt,{variant:"fc"}),d.jsxs("svg",{viewBox:"0 0 150 125",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:`mlpGrad-${o}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:o,stopOpacity:.15}}),d.jsx("stop",{offset:"50%",style:{stopColor:o,stopOpacity:.08}}),d.jsx("stop",{offset:"100%",style:{stopColor:o,stopOpacity:.15}})]}),d.jsx("filter",{id:`mlpShadow-${o}`,children:d.jsx("feDropShadow",{dx:"0",dy:"1.5",stdDeviation:"2",floodOpacity:"0.15"})})]}),d.jsxs("g",{"data-selected":t?"true":void 0,children:[d.jsx("rect",{x:"10",y:"18",width:"130",height:"80",rx:"6",fill:`url(#mlpGrad-${o})`,stroke:o,strokeWidth:"2.8",filter:`url(#mlpShadow-${o})`}),l&&d.jsx("g",{opacity:"0.18",stroke:o,strokeWidth:"0.6",children:p.map((y,x)=>d.jsx("line",{x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2},x))}),h.map((y,x)=>d.jsx("circle",{cx:y.x,cy:y.y,r:4.5,fill:y.layer===0||y.layer===s-1?o:"white",stroke:o,strokeWidth:"2",opacity:y.layer===0||y.layer===s-1?1:.85},x)),a&&a.length===s&&d.jsx("g",{fill:"#6b7280",fontSize:"7",fontWeight:"600",fontFamily:"monospace",children:a.map((y,x)=>{const b=f[x];return d.jsx("text",{x:b,y:"108",textAnchor:"middle",opacity:"0.7",children:y},x)})}),d.jsxs("g",{fill:"#9ca3af",fontSize:"7",fontWeight:"500",opacity:"0.6",children:[d.jsx("text",{x:"30",y:a?"116":"108",textAnchor:"middle",children:"In"}),d.jsx("text",{x:"75",y:a?"116":"108",textAnchor:"middle",children:"Hidden"}),d.jsx("text",{x:"120",y:a?"116":"108",textAnchor:"middle",children:"Out"})]})]}),d.jsx("text",{x:"75",y:"13",textAnchor:"middle",fontSize:"10",fontWeight:"700",fill:"#6b7280",letterSpacing:"0.5",children:"MLP"}),a&&d.jsx("text",{x:"75",y:"102",textAnchor:"middle",fontSize:"8",fontWeight:"600",fill:o,opacity:"0.5",fontFamily:"monospace",children:a.join("")}),d.jsx("text",{x:"75",y:r?120:123,textAnchor:"middle",fontSize:"11",fontWeight:"500",fill:"#374151",children:r?"":n})]}),r&&d.jsx("div",{className:"absolute bottom-1 text-sm font-medium text-gray-800",title:n,children:d.jsx(yt,{text:r,enabled:!0})}),d.jsx(fe,{type:"target",position:W.Left,className:"w-3 h-3 rounded-sm border-2 border-white",style:c,"data-port":"in","data-slot":"0"}),d.jsx(fe,{type:"source",position:W.Right,className:"w-3 h-3 rounded-sm border-2 border-white",style:c,"data-port":"out","data-slot":"0"})]})}function nE({id:e,data:t,selected:n}){const r=(t==null?void 0:t.label)??"Group",o=(t==null?void 0:t.color)??ue.group,i=t==null?void 0:t.subtitle,s=(t==null?void 0:t.collapsible)??!1,l=(t==null?void 0:t.collapsed)??!1,a=_.useMemo(()=>({borderColor:o,backgroundColor:ce(o,.03),width:"100%",height:"100%",boxShadow:n?`0 0 0 3px hsl(var(--mlcd-hover) / 0.15), 0 2px 8px ${ce(o,.1)}`:`0 1px 4px ${ce(o,.08)}`,borderStyle:"dashed",borderWidth:2.5,borderRadius:12,transition:"box-shadow 0.2s ease, border-color 0.2s ease"}),[o,n]),u=`group-label-${e}`,c=_.useMemo(()=>({backgroundColor:ce(o,.08),borderColor:o}),[o]);return d.jsxs("div",{className:"rounded-[12px] border bg-white/40 px-2 py-2 min-w-[180px] min-h-[120px] relative select-none",style:a,"data-node-type":"group","data-type":"group","data-role":"template",role:"group","aria-labelledby":u,"aria-label":r,children:[d.jsx(gt,{minWidth:180,minHeight:120,isVisible:n}),d.jsxs("div",{className:"absolute left-3 right-3 top-2 px-3 py-2 rounded-lg border flex items-center justify-between shadow-sm",style:c,children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{id:u,className:"text-xs font-semibold",style:{color:o},children:r}),i&&d.jsx("div",{className:"text-[9px] text-gray-500 mt-0.5 font-medium",children:i})]}),s&&d.jsx("div",{className:"text-xs font-bold ml-2",style:{color:o,opacity:.6},children:l?"-":"+"})]})]})}function rE({data:e,selected:t}){const n=(e==null?void 0:e.label)??"Flatten",r=e==null?void 0:e.formulaLabel,o=(e==null?void 0:e.color)??ue.tensor,i=_.useMemo(()=>({backgroundColor:"transparent",boxShadow:t?`0 0 0 3px hsl(var(--mlcd-hover) / 0.25), 0 4px 12px ${ce(o,.25)}`:`0 2px 8px ${ce(o,.12)}`,transition:"box-shadow 0.2s ease"}),[o,t]),s=_.useMemo(()=>({backgroundColor:o}),[o]);return d.jsxs("div",{className:"px-2 py-2 min-w-[100px] min-h-[48px] w-full h-full relative select-none flex flex-col items-center justify-center",style:i,"data-node-type":"flatten","data-type":"flatten","data-role":"core","aria-label":n,children:[d.jsx(gt,{minWidth:100,minHeight:48,isVisible:t}),d.jsx(Zt,{variant:"tensor"}),d.jsxs("svg",{viewBox:"0 0 110 58",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:`flattenGrad-${o}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:o,stopOpacity:.25}}),d.jsx("stop",{offset:"100%",style:{stopColor:o,stopOpacity:.1}})]}),d.jsx("filter",{id:`flattenShadow-${o}`,children:d.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"1.5",floodOpacity:"0.15"})}),d.jsx("marker",{id:`flattenArrow-${o}`,markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:d.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:o})})]}),d.jsxs("g",{"data-selected":t?"true":void 0,children:[d.jsx("rect",{x:"5",y:"5",width:"100",height:"48",rx:"6",fill:`url(#flattenGrad-${o})`,stroke:o,strokeWidth:"2",filter:`url(#flattenShadow-${o})`}),d.jsxs("g",{opacity:"0.8",children:[d.jsx("rect",{x:"15",y:"26",width:"20",height:"16",fill:o,opacity:"0.3",stroke:o,strokeWidth:"1.5",rx:"1"}),d.jsx("rect",{x:"17",y:"24",width:"20",height:"16",fill:o,opacity:"0.5",stroke:o,strokeWidth:"1.5",rx:"1"}),d.jsx("rect",{x:"19",y:"22",width:"20",height:"16",fill:o,opacity:"0.7",stroke:o,strokeWidth:"2",rx:"1"})]}),d.jsx("path",{d:"M 45 29 L 60 29",stroke:o,strokeWidth:"2.5",fill:"none",markerEnd:`url(#flattenArrow-${o})`}),d.jsx("rect",{x:"65",y:"25",width:"30",height:"8",fill:o,stroke:o,strokeWidth:"2.5",rx:"1",opacity:"0.9"})]}),d.jsx("text",{x:"55",y:"12",textAnchor:"middle",fontSize:"10",fontWeight:"700",fill:"#6b7280",letterSpacing:"0.5",children:"FLATTEN"}),d.jsx("text",{x:"55",y:r?50:52,textAnchor:"middle",fontSize:"11",fontWeight:"500",fill:"#374151",children:r?"":n})]}),r&&d.jsx("div",{className:"absolute bottom-0.5 text-xs font-medium text-gray-800",title:n,children:d.jsx(yt,{text:r,enabled:!0})}),d.jsx(fe,{type:"target",position:W.Left,className:"w-3 h-3 rounded-sm border-2 border-white",style:s,"data-port":"in","data-slot":"0"}),d.jsx(fe,{type:"source",position:W.Right,className:"w-3 h-3 rounded-sm border-2 border-white",style:s,"data-port":"out","data-slot":"0"})]})}function oE({data:e,selected:t}){const n=(e==null?void 0:e.label)??"MaxPool2D",r=e==null?void 0:e.formulaLabel,o=(e==null?void 0:e.color)??ue.pool,i=(e==null?void 0:e.poolType)??"max",s=(e==null?void 0:e.poolSize)??"22",l=e==null?void 0:e.stride,a=(e==null?void 0:e.visualization)??"funnel",u=_.useMemo(()=>({backgroundColor:"transparent",boxShadow:t?`0 0 0 3px hsl(var(--mlcd-hover) / 0.25), 0 4px 12px ${ce(o,.25)}`:`0 2px 8px ${ce(o,.12)}`,transition:"box-shadow 0.2s ease"}),[t,o]),c=_.useMemo(()=>({backgroundColor:o}),[o]),f=_.useMemo(()=>{switch(i){case"max":return"";case"avg":return"";case"global":return"";default:return""}},[i]);return d.jsxs("div",{className:"relative select-none flex items-center justify-center text-center min-w-[120px] min-h-[100px] w-full h-full",style:u,"data-node-type":"pooling","data-type":"pooling","data-role":"core","aria-label":n,children:[d.jsx(gt,{minWidth:120,minHeight:100,isVisible:t}),d.jsx(Zt,{variant:"pool"}),d.jsxs("svg",{className:"absolute inset-0",viewBox:"0 0 140 115",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:`poolGrad-${o}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:o,stopOpacity:.3}}),d.jsx("stop",{offset:"50%",style:{stopColor:o,stopOpacity:.15}}),d.jsx("stop",{offset:"100%",style:{stopColor:o,stopOpacity:.05}})]}),d.jsx("filter",{id:`poolShadow-${o}`,children:d.jsx("feDropShadow",{dx:"0",dy:"1.5",stdDeviation:"2",floodOpacity:"0.18"})}),d.jsxs("radialGradient",{id:`poolCircleGrad-${o}`,children:[d.jsx("stop",{offset:"0%",style:{stopColor:"white",stopOpacity:1}}),d.jsx("stop",{offset:"70%",style:{stopColor:o,stopOpacity:.1}})]})]}),d.jsxs("g",{"data-selected":t?"true":void 0,children:[a==="funnel"?d.jsxs("g",{id:"funnel-view",children:[d.jsx("line",{x1:"35",y1:"25",x2:"60",y2:"50",stroke:o,strokeWidth:"3",strokeLinecap:"round"}),d.jsx("line",{x1:"70",y1:"25",x2:"70",y2:"50",stroke:o,strokeWidth:"3",strokeLinecap:"round"}),d.jsx("line",{x1:"105",y1:"25",x2:"80",y2:"50",stroke:o,strokeWidth:"3",strokeLinecap:"round"}),d.jsx("circle",{cx:"70",cy:"60",r:"18",fill:"url(#poolCircleGrad-{color})",stroke:o,strokeWidth:"2.5",filter:`url(#poolShadow-${o})`}),d.jsx("text",{x:"70",y:"67",textAnchor:"middle",fontSize:"22",fontWeight:"bold",fill:o,children:f}),d.jsx("line",{x1:"70",y1:"78",x2:"70",y2:"95",stroke:o,strokeWidth:"3",strokeLinecap:"round"})]}):d.jsxs("g",{id:"grid-view",children:[d.jsx("g",{transform:"translate(25, 30)",children:Array.from({length:16}).map((h,p)=>{const y=Math.floor(p/4),x=p%4;return d.jsx("rect",{x:x*10,y:y*10,width:"8",height:"8",fill:o,opacity:"0.4",stroke:o,strokeWidth:"1"},p)})}),d.jsx("path",{d:"M 70 52 L 88 52",stroke:o,strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),d.jsx("path",{d:"M 83 48 L 88 52 L 83 56",fill:o}),d.jsx("rect",{x:"93",y:"43",width:"18",height:"18",fill:o,opacity:"0.7",stroke:o,strokeWidth:"2.5"}),d.jsx("text",{x:"102",y:"55",textAnchor:"middle",fontSize:"16",fontWeight:"bold",fill:"white",children:f})]}),d.jsx("text",{x:"70",y:"102",textAnchor:"middle",fontSize:"9",fontWeight:"600",fill:o,opacity:"0.6",fontFamily:"monospace",children:s})]}),d.jsxs("text",{x:"70",y:"15",textAnchor:"middle",fontSize:"10",fontWeight:"700",fill:"#6b7280",letterSpacing:"0.5",children:[i.toUpperCase(),"POOL"]}),l&&d.jsxs("text",{x:"70",y:"110",textAnchor:"middle",fontSize:"8",fontWeight:"500",fill:"#9ca3af",fontFamily:"monospace",children:["S=",l]}),d.jsx("text",{x:"70",y:r?105:108,textAnchor:"middle",fontSize:"11",fontWeight:"500",fill:"#374151",children:r?"":n})]}),r&&d.jsx("div",{className:"absolute bottom-1 text-sm font-medium text-gray-800",title:n,children:d.jsx(yt,{text:r,enabled:!0})}),d.jsx(fe,{type:"target",position:W.Left,className:"w-3 h-3 rounded-sm border-2 border-white",style:c,"data-port":"in","data-slot":"0"}),d.jsx(fe,{type:"source",position:W.Right,className:"w-3 h-3 rounded-sm border-2 border-white",style:c,"data-port":"out","data-slot":"0"})]})}function iE({data:e,selected:t}){const n=(e==null?void 0:e.label)??"BatchNorm2D",r=e==null?void 0:e.formulaLabel,o=(e==null?void 0:e.color)??ue.norm,i=(e==null?void 0:e.normType)??"batch",s=e==null?void 0:e.epsilon,l=e==null?void 0:e.numGroups,a=_.useMemo(()=>({backgroundColor:"transparent",boxShadow:t?`0 0 0 3px hsl(var(--mlcd-hover) / 0.25), 0 4px 12px ${ce(o,.25)}`:`0 2px 8px ${ce(o,.12)}`,transition:"box-shadow 0.2s ease"}),[t,o]),u=_.useMemo(()=>({backgroundColor:o}),[o]);return d.jsxs("div",{className:"relative select-none flex items-center justify-center text-center min-w-[130px] min-h-[100px] w-full h-full",style:a,"data-node-type":"normalization","data-type":"normalization","data-role":"core","aria-label":n,children:[d.jsx(gt,{minWidth:130,minHeight:100,isVisible:t}),d.jsx(Zt,{variant:"norm"}),d.jsxs("svg",{className:"absolute inset-0",viewBox:"0 0 150 115",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:`normGrad-${o}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:o,stopOpacity:.1}}),d.jsx("stop",{offset:"50%",style:{stopColor:o,stopOpacity:.25}}),d.jsx("stop",{offset:"100%",style:{stopColor:o,stopOpacity:.1}})]}),d.jsx("filter",{id:`normShadow-${o}`,children:d.jsx("feDropShadow",{dx:"0",dy:"1.5",stdDeviation:"2",floodOpacity:"0.15"})})]}),d.jsxs("g",{"data-selected":t?"true":void 0,children:[d.jsx("path",{d:"M 35 25 L 125 25 L 115 77 L 25 77 Z",fill:`url(#normGrad-${o})`,stroke:o,strokeWidth:"2.8",strokeLinejoin:"round",filter:`url(#normShadow-${o})`}),d.jsxs("g",{opacity:"0.35",stroke:o,strokeWidth:"1.5",children:[d.jsx("path",{d:"M 30 35 Q 40 42, 50 40 T 70 42",fill:"none",strokeDasharray:"2,2"}),d.jsx("path",{d:"M 30 62 Q 45 52, 65 50 Q 85 52, 100 62",fill:"none",strokeWidth:"2"})]}),d.jsx("g",{opacity:"0.5",stroke:o,strokeWidth:"2",children:d.jsx("line",{x1:"30",y1:"51",x2:"120",y2:"51"})}),d.jsxs("g",{opacity:"0.5",fill:o,stroke:o,strokeWidth:"1.5",children:[d.jsx("path",{d:"M 42 51 L 38 49 L 38 53 Z"}),d.jsx("path",{d:"M 108 51 L 112 49 L 112 53 Z"})]}),d.jsxs("g",{opacity:"0.6",fill:o,children:[d.jsx("text",{x:"75",y:"53",textAnchor:"middle",fontSize:"11",fontWeight:"700",fontFamily:"serif",fontStyle:"italic",children:"x"}),d.jsx("line",{x1:"68",y1:"55",x2:"82",y2:"55",stroke:o,strokeWidth:"0.8"}),d.jsx("text",{x:"75",y:"64",textAnchor:"middle",fontSize:"11",fontWeight:"700",fontFamily:"serif",fontStyle:"italic",children:""})]})]}),d.jsxs("text",{x:"75",y:"16",textAnchor:"middle",fontSize:"10",fontWeight:"700",fill:"#6b7280",letterSpacing:"0.5",children:[i.toUpperCase(),"NORM"]}),(s||l)&&d.jsxs("text",{x:"75",y:"93",textAnchor:"middle",fontSize:"9",fontWeight:"500",fill:"#9ca3af",children:[s&&`=${s}`,s&&l&&"  ",l&&`G=${l}`]}),d.jsx("text",{x:"75",y:r?105:110,textAnchor:"middle",fontSize:"11",fontWeight:"500",fill:"#374151",children:r?"":n})]}),r&&d.jsx("div",{className:"absolute bottom-1 text-sm font-medium text-gray-800",title:n,children:d.jsx(yt,{text:r,enabled:!0})}),d.jsx(fe,{type:"target",position:W.Left,className:"w-3 h-3 rounded-sm border-2 border-white",style:u,"data-port":"in","data-slot":"0"}),d.jsx(fe,{type:"source",position:W.Right,className:"w-3 h-3 rounded-sm border-2 border-white",style:u,"data-port":"out","data-slot":"0"})]})}const q=(e,t)=>`${e}_${t}`,T0=[{id:"tmpl_basic_cnn",name:"Basic CNN Block",description:"Input  Conv  Activation  Output",nodes:[{id:q("cnn",1),type:"tensorNode",position:{x:40,y:120},data:{label:"Input (HWC)"}},{id:q("cnn",2),type:"convNode",position:{x:220,y:110},data:{label:"Conv 33, stride 1"}},{id:q("cnn",3),type:"activationNode",position:{x:380,y:110},data:{label:"ReLU",shape:"circle",color:"#22c55e"}},{id:q("cnn",4),type:"tensorNode",position:{x:540,y:120},data:{label:"Output (HWC' )"}}],edges:[{id:q("cnn_e",1),source:q("cnn",1),target:q("cnn",2),type:"smoothstep"},{id:q("cnn_e",2),source:q("cnn",2),target:q("cnn",3),type:"smoothstep"},{id:q("cnn_e",3),source:q("cnn",3),target:q("cnn",4),type:"smoothstep"}]},{id:"tmpl_basic_rnn",name:"Basic RNN Cell",description:"Input  RNN Cell  Output (with recurrent loop)",nodes:[{id:q("rnn",1),type:"tensorNode",position:{x:40,y:300},data:{label:"x_t"}},{id:q("rnn",2),type:"boxNode",position:{x:220,y:280},data:{label:"RNN Cell",typeLabel:"RNN",color:"#8b5cf6"},style:{width:140,height:80}},{id:q("rnn",3),type:"tensorNode",position:{x:420,y:300},data:{label:"h_t"}}],edges:[{id:q("rnn_e",1),source:q("rnn",1),target:q("rnn",2),type:"smoothstep"},{id:q("rnn_e",2),source:q("rnn",2),target:q("rnn",3),type:"smoothstep"},{id:q("rnn_e",3),source:q("rnn",2),target:q("rnn",2),type:"smoothstep",label:"h_{t-1}"}]},{id:"tmpl_attention",name:"Attention Mechanism",description:"Q, K, V  Attention  Output",nodes:[{id:q("attn",1),type:"tensorNode",position:{x:60,y:480},data:{label:"Q"}},{id:q("attn",2),type:"tensorNode",position:{x:60,y:560},data:{label:"K"}},{id:q("attn",3),type:"tensorNode",position:{x:60,y:640},data:{label:"V"}},{id:q("attn",4),type:"boxNode",position:{x:260,y:540},data:{label:"Scaled Dot-Product",typeLabel:"Attention",color:"#ef4444"},style:{width:180,height:120}},{id:q("attn",5),type:"tensorNode",position:{x:500,y:580},data:{label:"Output"}}],edges:[{id:q("attn_e",1),source:q("attn",1),target:q("attn",4),type:"smoothstep"},{id:q("attn_e",2),source:q("attn",2),target:q("attn",4),type:"smoothstep"},{id:q("attn_e",3),source:q("attn",3),target:q("attn",4),type:"smoothstep"},{id:q("attn_e",4),source:q("attn",4),target:q("attn",5),type:"smoothstep"}]}];function sE(){const{t:e}=Kn(),t=ee(S=>S.nodes),n=ee(S=>S.edges),r=ee(S=>S.onNodesChange),o=ee(S=>S.onEdgesChange),i=ee(S=>S.onConnect),s=ee(S=>S.addNode),l=jl(),{screenToFlowPosition:a}=l,u=_.useRef(null),[c,f]=_.useState(1),h=ee(S=>S.snapToGrid),p=ee(S=>S.snapGrid),y=_.useMemo(()=>({x:0,y:0,zoom:1}),[]),x=_.useMemo(()=>({fcNode:Uk,boxNode:Wk,circleNode:Bk,convNode:Gk,dataNode:Yk,activationNode:Qk,tensorNode:Zk,dropoutNode:qk,neuronNode:eE,mlpNode:tE,groupNode:nE,flattenNode:rE,poolingNode:oE,normalizationNode:iE}),[]),b=_.useMemo(()=>({residualEdge:Kk,simpleArrowEdge:Xk}),[]),m=_.useCallback(S=>{S.preventDefault(),S.dataTransfer.dropEffect="move"},[]),g=_.useCallback(S=>{var L,j;S.preventDefault();const P=S.dataTransfer.getData("application/x-mlcd-template");if(P){if(!((L=u.current)==null?void 0:L.getBoundingClientRect()))return;const T={templateId:P,at:"point",clientX:S.clientX,clientY:S.clientY};window.dispatchEvent(new CustomEvent("mlcd-insert-template",{detail:T}));return}const M=S.dataTransfer.getData("application/reactflow");if(!M||!((j=u.current)==null?void 0:j.getBoundingClientRect()))return;const z=a({x:S.clientX,y:S.clientY});let V={label:"Node"};const F=S.dataTransfer.getData("application/x-mlcd-data");if(F)try{V=JSON.parse(F)}catch{}const N=`n_${Date.now()}_${Math.round(Math.random()*1e5)}`;s({id:N,type:M,position:z,data:V})},[s,a]),[w,v]=_.useState(null);_.useEffect(()=>{const S=()=>l.fitView({duration:300,includeHiddenNodes:!0}),P=()=>l.setViewport({x:0,y:0,zoom:1},{duration:300}),M=z=>{var ne;const V=(z==null?void 0:z.detail)||{},F=V.templateId,N=V.at||"center";if(!F)return;const L=T0.find(J=>J.id===F);if(!L)return;const j=(ne=u.current)==null?void 0:ne.getBoundingClientRect();if(!j)return;let O;if(N==="center")O=a({x:j.width/2,y:j.height/2});else{const J=typeof V.clientX=="number"?V.clientX:j.left+j.width/2,se=typeof V.clientY=="number"?V.clientY:j.top+j.height/2;O=a({x:J,y:se})}const T=L.nodes.map(J=>{var se;return((se=J.position)==null?void 0:se.x)??0}),C=L.nodes.map(J=>{var se;return((se=J.position)==null?void 0:se.y)??0}),A=Math.min(...T),I=Math.min(...C),D=Math.max(...T),B=Math.max(...C),U={x:(A+D)/2,y:(I+B)/2},Y=Date.now(),X=new Map,Q=L.nodes.map((J,se)=>{const Ce=`t_${Y}_${se}_${Math.round(Math.random()*1e5)}`;X.set(J.id,Ce);const Ne=J.position||{x:0,y:0},pe={x:O.x+(Ne.x-U.x),y:O.y+(Ne.y-U.y)};return{...J,id:Ce,selected:!0,position:pe}}),ie=L.edges.map((J,se)=>({...J,id:`te_${Y}_${se}_${Math.round(Math.random()*1e5)}`,source:X.get(J.source)||J.source,target:X.get(J.target)||J.target})),te=ee.getState();te.setDiagram({nodes:[...te.nodes,...Q],edges:[...te.edges,...ie]});try{v(e("template.inserted",{defaultValue:"Template inserted",countNodes:Q.length,countEdges:ie.length})),setTimeout(()=>v(null),1600)}catch{}},R=z=>{const V=(z==null?void 0:z.detail)||{},F=(V==null?void 0:V.count)??0;v(e("group.created",{defaultValue:"Group created",count:F})),setTimeout(()=>v(null),1400)};return window.addEventListener("mlcd-fit-view",S),window.addEventListener("mlcd-center",P),window.addEventListener("mlcd-insert-template",M),window.addEventListener("mlcd-group-created",R),()=>{window.removeEventListener("mlcd-fit-view",S),window.removeEventListener("mlcd-center",P),window.removeEventListener("mlcd-insert-template",M),window.removeEventListener("mlcd-group-created",R)}},[a,l,e]);const E=_.useCallback(()=>{const S=l.getViewport();f(S.zoom)},[l]),k=((t==null?void 0:t.length)??0)===0&&((n==null?void 0:n.length)??0)===0;return d.jsxs("div",{ref:u,className:"h-full w-full",onDrop:g,onDragOver:m,children:[d.jsxs(y0,{nodes:t,edges:n,onNodesChange:r,onEdgesChange:o,onConnect:i,nodeTypes:x,edgeTypes:b,fitView:!0,defaultViewport:y,proOptions:{hideAttribution:!0},snapToGrid:h,snapGrid:p,onMove:E,selectionOnDrag:!0,selectionMode:ao.Partial,panOnDrag:!1,panOnScroll:!0,defaultEdgeOptions:{type:"straight",markerEnd:{type:"arrowclosed",color:"hsl(var(--mlcd-stroke))"},style:{stroke:"hsl(var(--mlcd-stroke))",strokeWidth:1.25}},children:[d.jsx(ak,{variant:Et.Dots,gap:p[0],size:1,color:"var(--mlcd-grid-dot)"}),d.jsx(XN,{pannable:!0,zoomable:!0,nodeStrokeWidth:2,nodeColor:S=>{var P;return((P=S.data)==null?void 0:P.color)||"#4b5563"},maskColor:"rgba(255,255,255,0.6)"}),d.jsx(nk,{position:"bottom-right"})]}),d.jsx("div",{className:"absolute bottom-2 left-2 text-xs bg-white/90 rounded border px-2 py-1 text-gray-700 shadow-sm",children:e("canvas.overlay",{z:Math.round(c*100),n:t.length,e:n.length})}),k&&d.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"pointer-events-auto bg-white/95 border rounded shadow px-4 py-3 text-sm text-gray-700",children:[d.jsx("div",{className:"font-medium mb-1",children:e("empty.title",{defaultValue:"Get started"})}),d.jsx("div",{children:e("empty.hint",{defaultValue:"Drag components from the left sidebar or insert a template."})})]})}),w&&d.jsx("div",{className:"absolute bottom-2 right-2 text-xs bg-white/95 rounded border px-3 py-1 text-gray-700 shadow",children:w})]})}function lE(){return d.jsx(Xc,{children:d.jsx("div",{id:"diagram-canvas",className:"h-full w-full",children:d.jsx(sE,{})})})}function gs({className:e="w-5 h-5",direction:t="right"}){const n="#f3f4f6",r="#6b7280";return d.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t==="right"?d.jsxs(d.Fragment,{children:[d.jsx("polygon",{points:"4,7 18,5 20,17 6,19",fill:n,stroke:r,strokeWidth:"2"}),d.jsx("path",{d:"M8 12h8",stroke:r,strokeWidth:"2"})]}):d.jsxs(d.Fragment,{children:[d.jsx("polygon",{points:"6,5 20,7 18,19 4,17",fill:n,stroke:r,strokeWidth:"2"}),d.jsx("path",{d:"M8 12h8",stroke:r,strokeWidth:"2"})]})})}function aE({className:e="w-5 h-5"}){return d.jsx(gs,{className:e,direction:"left"})}function uE({className:e}){return d.jsxs("svg",{id:"mlcd-activation-tanh",viewBox:"0 0 24 24",className:e,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"9"}),d.jsx("path",{d:"M5 12c0-4 3-6 7-6 3 0 5 2 5 4 0 2-2 4-5 4-4 0-7-2-7-6"})]})}function cE({className:e}){return d.jsxs("svg",{id:"mlcd-activation-sigmoid",viewBox:"0 0 24 24",className:e,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"9"}),d.jsx("path",{d:"M6 15c0-4 3-6 6-6 2 0 4 1 6 3"})]})}function dE({className:e}){return d.jsxs("svg",{id:"mlcd-linear-mlp",viewBox:"0 0 24 24",className:e,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),d.jsxs("g",{fill:"currentColor",stroke:"none",children:[d.jsx("circle",{cx:"8",cy:"10",r:"1"}),d.jsx("circle",{cx:"12",cy:"10",r:"1"}),d.jsx("circle",{cx:"16",cy:"10",r:"1"}),d.jsx("circle",{cx:"8",cy:"14",r:"1"}),d.jsx("circle",{cx:"12",cy:"14",r:"1"}),d.jsx("circle",{cx:"16",cy:"14",r:"1"})]})]})}function fE({className:e}){return d.jsx("svg",{id:"mlcd-activation-neuron",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:d.jsx("circle",{cx:"12",cy:"12",r:"7"})})}const hE=[{id:"core_primitives",title:"Core Primitives",children:[{id:"core.linear_fc",title:"Linear & Fully-Connected",children:[{id:"core.linear_fc.neuron",title:"Neuron",items:[{type:"neuronNode",label:"Neuron",Icon:fE,data:{variant:"neuron",color:"#16a34a",width:80}}]},{id:"core.linear_fc.linear",title:"Linear/Projection",items:[{type:"fcNode",label:"Linear",Icon:We,data:{label:"Linear",typeLabel:"Projection",variant:"linear",color:"#2563eb",width:140}}]},{id:"core.linear_fc.fc_mlp",title:"FC/MLP",items:[{type:"fcNode",label:"FC Layer",Icon:We,data:{label:"FC Layer",typeLabel:"Dense / Linear",variant:"fc",color:"#2563eb",width:160}},{type:"mlpNode",label:"MLP Layers",Icon:dE,data:{label:"MLP Layers",typeLabel:"MLP",neuronRows:3,neuronCols:5,color:"#8b5cf6"}}]}]},{id:"core.conv_pool",title:"Convolution & Pooling",children:[{id:"core.conv_pool.conv_nd",title:"N-D Convolution",items:[{type:"convNode",label:"Conv",Icon:Dk,data:{label:"Conv",typeLabel:"ConvNd",color:"#f59e0b",width:160}}]},{id:"core.conv_pool.pooling",title:"Pooling/Downsample",items:[{type:"boxNode",label:"Pooling",Icon:C0,data:{label:"Pooling",typeLabel:"Pooling",variant:"pool",color:"#10b981",width:150}}]},{id:"core.conv_pool.flatten",title:"Flatten/Concat",items:[{type:"boxNode",label:"Flatten",Icon:j0,data:{label:"Flatten",typeLabel:"Reshape",variant:"flatten",color:"#f43f5e",width:140}}]}]},{id:"core.activation_gating",title:"Activation & Gating",children:[{id:"core.activation_gating.classic",title:"Classic Activations",items:[{type:"activationNode",label:"ReLU",Icon:We,data:{label:"ReLU",typeLabel:"Activation",variant:"activation",shape:"circle",color:"#22c55e"}},{type:"activationNode",label:"Sigmoid",Icon:cE,data:{label:"Sigmoid",typeLabel:"Activation",variant:"activation",shape:"circle",color:"#f59e0b"}},{type:"activationNode",label:"Tanh",Icon:uE,data:{label:"Tanh",typeLabel:"Activation",variant:"activation",shape:"circle",color:"#14b8a6"}},{type:"boxNode",label:"Softmax",Icon:We,data:{label:"Softmax",typeLabel:"Activation",variant:"activation",color:"#fb923c",width:140}}]},{id:"core.activation_gating.modern",title:"Modern Activations",items:[{type:"activationNode",label:"GELU",Icon:We,data:{label:"GELU",typeLabel:"Activation",variant:"activation",shape:"circle",color:"#22c55e"}},{type:"activationNode",label:"SiLU/Swish",Icon:We,data:{label:"SiLU/Swish",typeLabel:"Activation",variant:"activation",shape:"circle",color:"#22c55e"}},{type:"activationNode",label:"LeakyReLU",Icon:We,data:{label:"LeakyReLU",typeLabel:"Activation",variant:"activation",shape:"circle",color:"#22c55e"}}]},{id:"core.activation_gating.learnable_gates",title:"Learnable Gates",items:[{type:"boxNode",label:"GLU",Icon:We,data:{label:"GLU",typeLabel:"Gated Unit",variant:"gated",color:"#06b6d4",width:120}}]}]},{id:"core.norm_reg",title:"Normalization & Regularization",children:[{id:"core.norm_reg.normalization",title:"Normalization",items:[{type:"boxNode",label:"BatchNorm",Icon:Ru,data:{label:"BatchNorm",typeLabel:"Normalization",variant:"batchnorm",color:"#3b82f6",width:150}},{type:"boxNode",label:"LayerNorm",Icon:Ru,data:{label:"LayerNorm",typeLabel:"Normalization",variant:"layernorm",color:"#3b82f6",width:150}}]},{id:"core.norm_reg.regularization",title:"Regularization",items:[{type:"dropoutNode",label:"Dropout",Icon:L0,data:{label:"Dropout",typeLabel:"Regularization",variant:"dropout",color:"#06b6d4",width:140}}]}]},{id:"core.embed_attn",title:"Embedding & Attention",children:[{id:"core.embed_attn.embedding",title:"Embedding & Position",items:[{type:"boxNode",label:"Embedding",Icon:Au,data:{label:"Embedding",typeLabel:"Embedding",variant:"embedding",color:"#10b981",width:160}},{type:"boxNode",label:"PositionalEncoding",Icon:Au,data:{label:"PositionalEncoding",typeLabel:"Position",variant:"posenc",color:"#10b981",width:180}}]},{id:"core.embed_attn.attention",title:"Attention Primitives",items:[{type:"boxNode",label:"Multi-Head Attention",Icon:$u,data:{label:"Multi-Head Attention",typeLabel:"Attention",variant:"attention",color:"#a78bfa",width:200}},{type:"boxNode",label:"ScaledDotProductAttention",Icon:$u,data:{label:"ScaledDotProductAttention",typeLabel:"Attention",variant:"attention",color:"#a78bfa",width:220}}]}]},{id:"core.tensor_ops",title:"Tensor & Shape",children:[{id:"core.tensor_ops.reshape_permute",title:"Reshape & Permute",items:[{type:"boxNode",label:"Reshape",Icon:We,data:{label:"Reshape",typeLabel:"Shape",variant:"reshape",color:"#64748b",width:140}},{type:"boxNode",label:"Permute",Icon:We,data:{label:"Permute",typeLabel:"Axes",variant:"permute",color:"#64748b",width:140}}]},{id:"core.tensor_ops.elementwise",title:"Elementwise Ops",items:[{type:"boxNode",label:"Add",Icon:We,data:{label:"Add",typeLabel:"Elementwise",variant:"add",color:"#64748b",width:100}},{type:"boxNode",label:"Mul",Icon:We,data:{label:"Mul",typeLabel:"Elementwise",variant:"mul",color:"#64748b",width:100}}]}]},{id:"core.parameters",title:"Parameters & Constants",children:[{id:"core.parameters.weights_consts",title:"Weights & Constants",items:[{type:"boxNode",label:"Parameter",Icon:We,data:{label:"Parameter",typeLabel:"Weights",variant:"param",color:"#0ea5e9",width:140}},{type:"boxNode",label:"Constant",Icon:We,data:{label:"Constant",typeLabel:"Constant",variant:"const",color:"#0ea5e9",width:140}}]}]}]},{id:"data_process",title:"Data & Process",children:[{id:"data.io",title:"I/O",children:[{id:"data.io.endpoints",title:"Endpoints",items:[{type:"dataNode",label:"Input",Icon:aE,data:{label:"Input",typeLabel:"Input",variant:"input",direction:"left",color:"#6b7280",width:180}},{type:"dataNode",label:"Output",Icon:gs,data:{label:"Output",typeLabel:"Output",variant:"output",direction:"right",color:"#6b7280",width:180}}]}]},{id:"data.tensor",title:"Tensor",children:[{id:"data.tensor.nd_struct",title:"ND Structures",items:[{type:"tensorNode",label:"Tensor",Icon:xa,data:{label:"Tensor",typeLabel:"Tensor",color:"#3b82f6",width:160}}]}]},{id:"data.objective",title:"Objective",children:[{id:"data.objective.loss",title:"Loss",items:[{type:"boxNode",label:"Loss",Icon:_0,data:{label:"Loss",typeLabel:"Objective",variant:"loss",color:"#ef4444",width:120}}]},{id:"data.objective.optimizer",title:"Optimizer",items:[{type:"boxNode",label:"Optimizer",Icon:Fk,data:{label:"Optimizer",typeLabel:"Objective",variant:"optimizer",color:"#0ea5e9",width:140}}]}]},{id:"data.annotation",title:"Annotation",children:[{id:"data.annotation.ui_docs",title:"UI Docs",items:[{type:"boxNode",label:"Text Box",Icon:gs,data:{label:"Text Box",typeLabel:"Annotation",variant:"textbox",color:"#64748b",width:160}},{type:"groupNode",label:"Group Label",Icon:gs,data:{label:"Group",typeLabel:"Annotation",variant:"group",color:"#6b7280",width:200}}]}]}]},{id:"connectors",title:"Connectors",children:[{id:"connect.flow",title:"Flow",children:[{id:"connect.flow.directed",title:"Directed",items:[{type:"simpleArrowEdge",label:"Arrow Connector",Icon:xa,draggable:!1,hint:"Edge: simple arrow"}]},{id:"connect.flow.residual",title:"Residual",items:[{type:"residualEdge",label:"Residual Connector",Icon:xa,draggable:!1,hint:"Edge: residual"}]}]}]}],pE={NEURON:{width:60,height:60,fillColor:ue.activation,minWidth:50,minHeight:50},FC_LAYER:{width:80,height:120,fillColor:ue.fc,minWidth:80,minHeight:120},MLP_LAYERS:{width:160,height:80,fillColor:ue.fc,minWidth:160,minHeight:80},CONV_LAYER:{width:140,height:160,fillColor:ue.conv,minWidth:140,minHeight:160},POOLING:{width:120,height:100,fillColor:ue.pool,minWidth:120,minHeight:100},FLATTEN:{width:100,height:48,fillColor:ue.tensor,minWidth:100,minHeight:48},SIGMOID_TANH:{width:100,height:100,fillColor:ue.activation,minWidth:100,minHeight:100},SOFTMAX_RELU:{width:100,height:100,fillColor:ue.activation,minWidth:100,minHeight:100},GELU:{width:100,height:100,fillColor:ue.activation,minWidth:100,minHeight:100},BATCH_NORM:{width:140,height:80,fillColor:ue.norm,minWidth:140,minHeight:80},LAYER_NORM:{width:140,height:80,fillColor:ue.norm,minWidth:140,minHeight:80},DROPOUT:{width:140,height:100,fillColor:ue.dropout,minWidth:140,minHeight:100},INPUT_DATA:{width:120,height:100,fillColor:ue.data,minWidth:120,minHeight:100},OUTPUT_DATA:{width:120,height:100,fillColor:ue.data,minWidth:120,minHeight:100},TENSOR:{width:140,height:140,fillColor:ue.tensor,minWidth:140,minHeight:140},LOSS:{width:100,height:100,fillColor:ue.loss,minWidth:100,minHeight:100},OPTIMIZER:{width:120,height:100,fillColor:ue.fc,minWidth:120,minHeight:100},ATTENTION:{width:160,height:120,fillColor:ue.attention,minWidth:160,minHeight:120},RNN_LSTM:{width:140,height:100,fillColor:ue.rnn,minWidth:140,minHeight:100},GROUP:{width:300,height:200,fillColor:ue.group,minWidth:200,minHeight:150},BASIC_TEMPLATE:{width:400,height:250,fillColor:"transparent",minWidth:300,minHeight:200}},Qs={FC_LAYER:{inputDim:{type:"number",label:"Input Dimension",i18nKey:"schema.fc.inputDim",default:512,min:1,hint:"Number of input features"},outputDim:{type:"number",label:"Output Dimension",i18nKey:"schema.fc.outputDim",default:128,min:1,hint:"Number of output neurons"},activation:{type:"select",label:"Activation",i18nKey:"schema.fc.activation",default:"ReLU",options:["None","ReLU","Sigmoid","Tanh","GELU","SiLU"],hint:"Post-activation function"},useBias:{type:"boolean",label:"Use Bias",i18nKey:"schema.fc.bias",default:!0,hint:"Include bias term (b)"}},MLP_LAYERS:{layerWidths:{type:"string",label:"Layer Widths",i18nKey:"schema.mlp.widths",default:"512:256:128:64",hint:"Colon-separated layer sizes (e.g., 512:256:128)",placeholder:"512:256:128:64"},activation:{type:"select",label:"Hidden Activation",i18nKey:"schema.mlp.activation",default:"GELU",options:["ReLU","GELU","Tanh","SiLU","Leaky ReLU"],hint:"Activation between layers"},dropout:{type:"range",label:"Dropout Rate",i18nKey:"schema.mlp.dropout",default:.1,min:0,max:.9,step:.05,hint:"Dropout probability (0 = disabled)"},showConnections:{type:"boolean",label:"Show Inter-Layer Connections",i18nKey:"schema.mlp.connections",default:!0,hint:"Visualize neuron connections"}},CONV_LAYER:{inChannels:{type:"number",label:"Input Channels",i18nKey:"schema.conv.in",default:3,min:1,hint:"Number of input feature maps (e.g., 3 for RGB)"},outChannels:{type:"number",label:"Output Channels",i18nKey:"schema.conv.out",default:64,min:1,hint:"Number of learned filters"},kernelSize:{type:"select",label:"Kernel Size (kk)",i18nKey:"schema.conv.kernel",default:3,options:[1,3,5,7,11],hint:"Receptive field size"},stride:{type:"number",label:"Stride",i18nKey:"schema.conv.stride",default:1,min:1,max:8,hint:"Step size for kernel sliding"},padding:{type:"select",label:"Padding",i18nKey:"schema.conv.padding",default:"same",options:["valid","same","none"],hint:'"same" preserves spatial dims'},dilation:{type:"number",label:"Dilation",i18nKey:"schema.conv.dilation",default:1,min:1,max:8,hint:"Spacing between kernel elements"},groups:{type:"number",label:"Groups",i18nKey:"schema.conv.groups",default:1,min:1,hint:"Grouped convolution (1 = standard)"}},POOLING:{poolType:{type:"select",label:"Pool Type",i18nKey:"schema.pool.type",default:"max",options:["max","avg","global"],hint:"Aggregation function"},poolSize:{type:"select",label:"Pool Size (kk)",i18nKey:"schema.pool.size",default:2,options:[2,3,4,5],hint:"Window size for pooling"},stride:{type:"number",label:"Stride",i18nKey:"schema.pool.stride",default:2,min:1,max:8,hint:"Usually equals pool size"},visualization:{type:"select",label:"Visualization Style",i18nKey:"schema.pool.viz",default:"funnel",options:["funnel","grid"],hint:"Funnel (default) or gridsingle"}},FLATTEN:{startDim:{type:"number",label:"Start Dimension",i18nKey:"schema.flatten.start",default:1,min:0,hint:"Dimension to start flattening from (0 = include batch)"},endDim:{type:"number",label:"End Dimension",i18nKey:"schema.flatten.end",default:-1,min:-1,hint:"-1 means last dimension"}},ACTIVATION:{activationType:{type:"select",label:"Activation Type",i18nKey:"schema.act.type",default:"relu",options:["relu","sigmoid","tanh","softmax","leaky_relu","gelu","silu"],hint:"Non-linear function"},alpha:{type:"number",label:"Alpha (for Leaky ReLU)",i18nKey:"schema.act.alpha",default:.01,min:0,max:1,step:.01,hint:"Negative slope coefficient"}},SIGMOID_TANH:{activationType:{type:"select",label:"Function",i18nKey:"schema.act.type",default:"sigmoid",options:["sigmoid","tanh"]}},SOFTMAX_RELU:{activationType:{type:"select",label:"Function",i18nKey:"schema.act.type",default:"softmax",options:["softmax","relu","leaky_relu"]}},GELU:{activationType:{type:"select",label:"GELU Variant",i18nKey:"schema.gelu.variant",default:"gelu",options:["gelu","silu"],hint:"GELU or SiLU (Swish)"}},BATCH_NORM:{numFeatures:{type:"number",label:"Number of Features",i18nKey:"schema.bn.features",default:64,min:1,hint:"Should match previous layer output"},momentum:{type:"range",label:"Momentum",i18nKey:"schema.bn.momentum",default:.1,min:0,max:1,step:.01,hint:"Running mean/var update rate"},epsilon:{type:"number",label:"Epsilon ()",i18nKey:"schema.bn.epsilon",default:1e-5,min:1e-8,max:.001,hint:"Numerical stability constant"},affine:{type:"boolean",label:"Affine Transform",i18nKey:"schema.bn.affine",default:!0,hint:"Learn  and  parameters"}},LAYER_NORM:{normalizedShape:{type:"string",label:"Normalized Shape",i18nKey:"schema.ln.shape",default:"[512]",hint:"Feature dimensions to normalize (e.g., [512] or [64, 32])",placeholder:"[512]"},epsilon:{type:"number",label:"Epsilon ()",i18nKey:"schema.ln.epsilon",default:1e-5,min:1e-8,max:.001},elementwiseAffine:{type:"boolean",label:"Elementwise Affine",i18nKey:"schema.ln.affine",default:!0}},DROPOUT:{dropoutRate:{type:"range",label:"Dropout Rate (p)",i18nKey:"schema.dropout.rate",default:.5,min:0,max:.95,step:.05,hint:"Probability of dropping each element"},visualizeDropped:{type:"boolean",label:"Visualize Dropped Neurons",i18nKey:"schema.dropout.visualize",default:!0,hint:"Show dashed circles for dropped neurons"},seed:{type:"string",label:"Random Seed",i18nKey:"schema.dropout.seed",default:"",hint:"Optional seed for deterministic pattern (uses node ID if empty)",placeholder:"Leave empty for node ID"}},DATA:{ioType:{type:"select",label:"I/O Type",i18nKey:"schema.data.io",default:"input",options:["input","output"],hint:"Input (green) or Output (red)"},dataSource:{type:"select",label:"Data Source",i18nKey:"schema.data.source",default:"CSV",options:["CSV","Image","Audio","Text","Video","Custom"],hint:"Type of data"},shape:{type:"string",label:"Tensor Shape",i18nKey:"schema.data.shape",default:"(N, 784)",hint:"Dimensions (e.g., (N, 784) or (B, 3, 224, 224))",placeholder:"(N, 784)"},direction:{type:"select",label:"Flow Direction",i18nKey:"schema.data.direction",default:"right",options:["left","right"],hint:"Arrow direction in parallelogram"}},INPUT_DATA:{dataSource:{type:"select",label:"Data Source",i18nKey:"schema.data.source",default:"Image",options:["CSV","Image","Audio","Text","Video","Custom"]},shape:{type:"string",label:"Input Shape",i18nKey:"schema.data.shape",default:"(B, 3, 224, 224)",placeholder:"(B, 3, 224, 224)"}},OUTPUT_DATA:{shape:{type:"string",label:"Output Shape",i18nKey:"schema.data.shape",default:"(B, 1000)",placeholder:"(B, 1000)"},outputType:{type:"select",label:"Output Type",i18nKey:"schema.data.outputType",default:"Logits",options:["Logits","Probabilities","Classes","Features"]}},TENSOR:{shape:{type:"string",label:"Tensor Shape",i18nKey:"schema.tensor.shape",default:"[B, C, H, W]",hint:"Symbolic shape (e.g., [B, C, H, W] or [N, D])",placeholder:"[B, C, H, W]"},dtype:{type:"select",label:"Data Type",i18nKey:"schema.tensor.dtype",default:"float32",options:["float16","float32","float64","int32","int64","bool"]},depth:{type:"range",label:"Visual Depth (Layers)",i18nKey:"schema.tensor.depth",default:5,min:3,max:8,step:1,hint:"Number of stacked layers in visualization"}},LOSS:{lossType:{type:"select",label:"Loss Function",i18nKey:"schema.loss.type",default:"CrossEntropy",options:["CrossEntropy","MSE","BCE","MAE","Huber","KLDiv","CTC","Custom"],hint:"Training objective"},reduction:{type:"select",label:"Reduction",i18nKey:"schema.loss.reduction",default:"mean",options:["none","mean","sum"],hint:"How to aggregate batch losses"},labelSmoothing:{type:"range",label:"Label Smoothing",i18nKey:"schema.loss.smoothing",default:0,min:0,max:.3,step:.01,hint:"Regularization via soft labels"}},OPTIMIZER:{algorithm:{type:"select",label:"Algorithm",i18nKey:"schema.opt.algo",default:"Adam",options:["Adam","AdamW","SGD","RMSProp","Adagrad","Adadelta"],hint:"Optimization algorithm"},learningRate:{type:"number",label:"Learning Rate ()",i18nKey:"schema.opt.lr",default:.001,min:1e-6,max:1,hint:"Step size for gradient descent"},momentum:{type:"range",label:"Momentum ()",i18nKey:"schema.opt.momentum",default:.9,min:0,max:.99,step:.01,hint:"For SGD with momentum"},weightDecay:{type:"number",label:"Weight Decay (L2)",i18nKey:"schema.opt.decay",default:1e-4,min:0,max:.1,hint:"L2 regularization strength"},beta1:{type:"range",label:"Beta1 (Adam)",i18nKey:"schema.opt.beta1",default:.9,min:0,max:.999,step:.001,hint:"First moment decay"},beta2:{type:"range",label:"Beta2 (Adam)",i18nKey:"schema.opt.beta2",default:.999,min:0,max:.9999,step:1e-4,hint:"Second moment decay"}},ATTENTION:{numHeads:{type:"number",label:"Number of Heads",i18nKey:"schema.attn.heads",default:8,min:1,max:32,hint:"Multi-head attention heads"},embedDim:{type:"number",label:"Embedding Dimension",i18nKey:"schema.attn.embed",default:512,min:1,hint:"Model dimension (d_model)"},dropout:{type:"range",label:"Attention Dropout",i18nKey:"schema.attn.dropout",default:.1,min:0,max:.5,step:.05}},RNN_LSTM:{cellType:{type:"select",label:"Cell Type",i18nKey:"schema.rnn.cell",default:"LSTM",options:["RNN","LSTM","GRU"]},hiddenSize:{type:"number",label:"Hidden Size",i18nKey:"schema.rnn.hidden",default:256,min:1,hint:"Number of hidden units"},numLayers:{type:"number",label:"Number of Layers",i18nKey:"schema.rnn.layers",default:2,min:1,max:8},bidirectional:{type:"boolean",label:"Bidirectional",i18nKey:"schema.rnn.bidir",default:!1},dropout:{type:"range",label:"Dropout",i18nKey:"schema.rnn.dropout",default:.2,min:0,max:.5,step:.05}},NEURON:{activationState:{type:"range",label:"Activation State",i18nKey:"schema.neuron.activation",default:.5,min:0,max:1,step:.01,hint:"Activation level (0-1)"},showPulse:{type:"boolean",label:"Show Pulse Animation",i18nKey:"schema.neuron.pulse",default:!1,hint:"Animated pulse for active neurons"}},GROUP:{collapsible:{type:"boolean",label:"Collapsible",i18nKey:"schema.group.collapsible",default:!0},collapsed:{type:"boolean",label:"Initially Collapsed",i18nKey:"schema.group.collapsed",default:!1},subtitle:{type:"string",label:"Subtitle",i18nKey:"schema.group.subtitle",default:"",placeholder:'e.g., "ResNet Block"'}},DEFAULT:{notes:{type:"string",label:"Notes",i18nKey:"schema.default.notes",default:"",hint:"Internal comments or documentation",placeholder:"Add notes here..."}}},mE=e=>{const t=Qs[e]||Qs.DEFAULT,n={};for(const[r,o]of Object.entries(t))n[r]=o.default;return n},gE=(e,t,n)=>{const r=Qs[e];if(!r||!r[t])return n;const o=r[t];switch(o.type){case"number":case"range":const i=Number(n);return isNaN(i)?o.default:o.min!==void 0&&i<o.min?o.min:o.max!==void 0&&i>o.max?o.max:i;case"select":return o.options&&o.options.includes(n)?n:o.default;case"boolean":return!!n;case"string":return String(n);default:return n}},yE=({className:e})=>d.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":"true",children:[d.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),d.jsx("path",{d:"M8 8h8M8 12h8M8 16h6"})]});function M0({cat:e,onDragStart:t,onItemClick:n}){const{t:r}=Kn(),[o,i]=$.useState(!0);return d.jsxs("div",{className:"ml-2",children:[d.jsxs("button",{className:"w-full flex items-center justify-between rounded px-2 py-1 hover:bg-gray-100 text-left",onClick:()=>i(!o),"aria-expanded":o,children:[d.jsx("span",{className:"text-gray-800 font-medium",children:r(`sidebar.${e.id}.title`,{defaultValue:e.title})}),d.jsx("svg",{className:`w-3 h-3 transition-transform ${o?"rotate-90":""}`,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:d.jsx("path",{fillRule:"evenodd",d:"M6 6l6 4-6 4V6z",clipRule:"evenodd"})})]}),o&&d.jsxs("div",{className:"mt-1 space-y-2",children:[(e.items??[]).map(s=>{const{type:l,label:a,Icon:u,data:c,draggable:f=!0,hint:h}=s,p=!f&&!!n;return d.jsxs("div",{className:`flex items-center gap-2 rounded border bg-white px-2 py-1 ${f?"cursor-grab hover:bg-gray-50 active:cursor-grabbing":"hover:bg-gray-50 cursor-pointer"}`,draggable:!!f,onDragStart:y=>f&&t(y,l,c),onClick:()=>p&&n(s),title:f?r("sidebar.dragToCanvas",{label:a}):h||"",children:[d.jsx(u,{className:"w-5 h-5"}),d.jsx("span",{className:"text-gray-700",children:a})]},`${e.id}-${l}-${a}`)}),(e.children??[]).map(s=>d.jsx(M0,{cat:s,onDragStart:t,onItemClick:n},s.id))]})]})}function xE(){const{t:e}=Kn(),[t,n]=$.useState(""),r=(u,c,f)=>{if(c==="template"&&(f!=null&&f.templateId)){u.dataTransfer.setData("application/x-mlcd-template",String(f.templateId)),u.dataTransfer.effectAllowed="move";return}const p={fcNode:"FC_LAYER",mlpNode:"MLP_LAYERS",convNode:"CONV_LAYER",poolingNode:"POOLING",flattenNode:"FLATTEN",activationNode:"ACTIVATION",dropoutNode:"DROPOUT",dataNode:"DATA",tensorNode:"TENSOR",neuronNode:"NEURON",normalizationNode:"BATCH_NORM",boxNode:"DEFAULT",circleNode:"DEFAULT",groupNode:"GROUP"}[c];let y=f??{};if(p&&pE[p]){const x=mE(p);y={...y,...x,componentType:p}}u.dataTransfer.setData("application/reactflow",c),u.dataTransfer.setData("application/x-mlcd-data",JSON.stringify(y)),u.dataTransfer.effectAllowed="move"},o=(u,c)=>{const f=c.trim().toLowerCase();if(!f)return u;const h=p=>{const y=(p.items??[]).filter(b=>b.label.toLowerCase().includes(f)),x=(p.children??[]).map(h).filter(Boolean);return y.length===0&&x.length===0?null:{...p,items:y,children:x}};return u.map(h).filter(Boolean)},i=u=>{const c={templateId:u,at:"center"};window.dispatchEvent(new CustomEvent("mlcd-insert-template",{detail:c}))},s={id:"templates",title:"Templates",items:T0.map(u=>({type:"template",label:u.name,Icon:yE,draggable:!0,hint:e("sidebar.template.hint"),data:{templateId:u.id}}))},l=[...hE,s],a=o(l,t);return d.jsxs("aside",{className:"border-r bg-gray-50 p-3 text-sm h-full min-h-0 overflow-y-auto overscroll-contain",children:[d.jsx("div",{className:"mb-2 font-medium text-gray-700",children:e("sidebar.title",{defaultValue:"Components"})}),d.jsx("input",{className:"mb-2 w-full rounded border px-2 py-1",placeholder:e("sidebar.search",{defaultValue:"Search..."}),"aria-label":e("sidebar.search",{defaultValue:"Search..."}),value:t,onChange:u=>n(u.target.value)}),d.jsx("div",{className:"space-y-3",children:a.map(u=>d.jsx(M0,{cat:u,onDragStart:r,onItemClick:c=>{var h;const f=(h=c.data)==null?void 0:h.templateId;f&&i(f)}},u.id))})]})}const ah={activationNode:{type:"activationNode",fields:[{key:"activationType",label:"Activation Type",type:"select",options:[{label:"ReLU",value:"relu"},{label:"Sigmoid",value:"sigmoid"},{label:"Tanh",value:"tanh"},{label:"GELU",value:"gelu"},{label:"SiLU/Swish",value:"silu"},{label:"Leaky ReLU",value:"leaky_relu"},{label:"Softmax",value:"softmax"}]},{key:"shape",label:"Shape",type:"select",options:[{label:"Diamond",value:"diamond"},{label:"Circle",value:"circle"}]}]},convNode:{type:"convNode",fields:[{key:"kernel",label:"Kernel",type:"number",min:1,max:15,step:1},{key:"stride",label:"Stride",type:"number",min:1,max:8,step:1},{key:"padding",label:"Padding",type:"number",min:0,max:8,step:1},{key:"dilation",label:"Dilation",type:"number",min:1,max:8,step:1},{key:"channels",label:"Channels",type:"number",min:1,max:4096,step:1}]},fcNode:{type:"fcNode",fields:[{key:"units",label:"Units",type:"number",min:1,max:4096,step:1},{key:"bias",label:"Bias",type:"boolean"}]},tensorNode:{type:"tensorNode",fields:[{key:"dims",label:"Dims (e.g., HWC)",type:"string"}]}};function vE(e,t){const n={key:e,label:t.label,type:t.type,hint:t.hint,placeholder:t.placeholder};return t.min!==void 0&&(n.min=t.min),t.max!==void 0&&(n.max=t.max),t.step!==void 0&&(n.step=t.step),t.options&&(n.options=t.options.map(r=>({label:String(r),value:String(r)}))),n}function wE(e){if(!e)return;if(ah[e])return ah[e];const n={fcNode:"FC_LAYER",mlpNode:"MLP_LAYERS",convNode:"CONV_LAYER",poolingNode:"POOLING",flattenNode:"FLATTEN",activationNode:"ACTIVATION",dropoutNode:"DROPOUT",dataNode:"DATA",tensorNode:"TENSOR",neuronNode:"NEURON",normalizationNode:"BATCH_NORM",boxNode:"DEFAULT",circleNode:"DEFAULT",groupNode:"GROUP"}[e];if(!n)return;const r=Qs[n];if(!r)return;const o=Object.entries(r).map(([i,s])=>vE(i,s));return{type:e,fields:o}}function SE(e,t,n){const o={fcNode:"FC_LAYER",mlpNode:"MLP_LAYERS",convNode:"CONV_LAYER",poolingNode:"POOLING",flattenNode:"FLATTEN",activationNode:"ACTIVATION",dropoutNode:"DROPOUT",dataNode:"DATA",tensorNode:"TENSOR",neuronNode:"NEURON",normalizationNode:"BATCH_NORM",boxNode:"DEFAULT",circleNode:"DEFAULT",groupNode:"GROUP"}[e];return o?gE(o,t,n):n}function bE(){var E,k;const{t:e}=Kn(),t=ee(S=>S.nodes),n=ee(S=>S.updateNodeData),r=ee(S=>S.edges),o=ee(S=>S.updateEdge),[i,s]=$.useState(""),l=_.useMemo(()=>t.filter(S=>S.selected),[t]),a=l[0],u=l.length>1,c=_.useMemo(()=>r.find(S=>S.selected),[r]);if(!a&&!c)return d.jsx("aside",{className:"border-l bg-gray-50 p-3 text-sm text-gray-500",children:e("panel.none")});if(u){const M=(l[0].data??{}).color??"#2563eb",R=V=>{const F=V.target.value;l.forEach(N=>n(N.id,{color:F}))},z=()=>{l.forEach((V,F)=>{var L;const N=((L=V.data)==null?void 0:L.label)??"";n(V.id,{label:`${i}${N||F+1}`})})};return d.jsxs("aside",{className:"border-l bg-gray-50 p-3 text-sm",children:[d.jsxs("div",{className:"mb-2 font-medium text-gray-700",children:[e("panel.multi"),"  ",l.length]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:e("panel.color")}),d.jsx("input",{"aria-label":e("panel.color"),type:"color",value:M,onChange:R})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:e("panel.prefix")}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{className:"flex-1 rounded border px-2 py-1",value:i,onChange:V=>s(V.target.value),placeholder:e("panel.prefixPlaceholder",{defaultValue:"Layer-"})}),d.jsx("button",{className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",onClick:z,children:e("panel.apply")})]})]})]})]})}if(a){const S=a.data??{},P=S.label??"",M=S.formulaLabel??"",R=S.color??"#2563eb",z=wE(a.type),V=L=>n(a.id,{label:L.target.value}),F=L=>n(a.id,{color:L.target.value}),N=(L,j)=>{const O=SE(a.type||"boxNode",L.key,j);n(a.id,{[L.key]:O})};return d.jsxs("aside",{className:"border-l bg-gray-50 p-3 text-sm",children:[d.jsx("div",{className:"mb-2 font-medium text-gray-700",children:e("panel.node")}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:e("panel.label")}),d.jsx("input",{className:"w-full rounded border px-2 py-1 text-gray-800",value:P,onChange:V,placeholder:e("panel.labelPlaceholder",{defaultValue:"Node label"})})]}),z&&d.jsx("div",{className:"space-y-2",children:(z.fields||[]).map(L=>d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:L.label}),L.type==="select"&&d.jsxs("select",{className:"w-full rounded border px-2 py-1",value:S[L.key]??"",onChange:j=>N(L,j.target.value),children:[d.jsx("option",{value:"",disabled:!0,children:e("panel.select",{defaultValue:"Select..."})}),(L.options||[]).map(j=>d.jsx("option",{value:j.value,children:j.label},j.value))]}),L.type==="number"&&d.jsx("input",{className:"w-full rounded border px-2 py-1",type:"number",min:L.min,max:L.max,step:L.step,value:Number(S[L.key]??L.min??0),onChange:j=>N(L,Number(j.target.value))}),L.type==="string"&&d.jsx("input",{className:"w-full rounded border px-2 py-1",value:String(S[L.key]??""),onChange:j=>N(L,j.target.value)}),L.type==="boolean"&&d.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[d.jsx("input",{type:"checkbox",checked:!!S[L.key],onChange:j=>N(L,j.target.checked)}),d.jsx("span",{children:L.label})]}),L.type==="range"&&d.jsxs("div",{className:"space-y-1",children:[d.jsx("input",{className:"w-full",type:"range",min:L.min,max:L.max,step:L.step||.01,value:Number(S[L.key]??L.min??0),onChange:j=>N(L,Number(j.target.value))}),d.jsx("div",{className:"text-xs text-gray-500 text-right",children:Number(S[L.key]??L.min??0).toFixed(2)})]}),L.hint&&d.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:L.hint})]},L.key))}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:e("panel.formulaLabel")}),d.jsx("input",{className:"w-full rounded border px-2 py-1 text-gray-800",value:M,onChange:L=>n(a.id,{formulaLabel:L.target.value}),placeholder:e("panel.formulaPlaceholder",{defaultValue:"e.g., y = W x + b or \\\frac{1}{N}\\sum_i x_i"})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:e("panel.color")}),d.jsx("input",{"aria-label":e("panel.color"),type:"color",value:R,onChange:F})]}),d.jsxs("div",{className:"text-xs text-gray-500",children:[e("panel.id",{defaultValue:"ID"}),": ",a.id]}),d.jsxs("div",{className:"text-xs text-gray-500",children:[e("panel.type"),": ",a.type]})]})]})}const f=c,h=((E=f==null?void 0:f.style)==null?void 0:E.stroke)??"#111827",p=(f==null?void 0:f.label)??"",y=!!(f!=null&&f.markerEnd),x=!!((f==null?void 0:f.type)==="residualEdge"||(k=f==null?void 0:f.data)!=null&&k.residual),b=S=>{const P=S.target.value;o(f.id,M=>({...M,style:{...M.style||{},stroke:P},markerEnd:y?{type:Hn.ArrowClosed,color:P}:void 0}))},m=S=>{const P=S.target.checked;o(f.id,M=>{var R;return{...M,markerEnd:P?{type:Hn.ArrowClosed,color:((R=M.style)==null?void 0:R.stroke)||"#111827"}:void 0}})},g=S=>{const P=S.target.checked;o(f.id,M=>({...M,type:P?"residualEdge":void 0,data:{...M.data||{},residual:P},style:{...M.style||{},strokeDasharray:P?"6 4":void 0}}))},w=S=>{const P=S.target.value;o(f.id,M=>({...M,label:P}))},v=S=>{const P=S.target.value;o(f.id,M=>{const R={...M};return P==="default"?(delete R.type,R.style={...R.style||{}},R.style.strokeDasharray&&delete R.style.strokeDasharray):P==="simpleArrowEdge"?(R.type="simpleArrowEdge",R.style={...R.style||{}},R.style.strokeDasharray&&delete R.style.strokeDasharray):P==="residualEdge"&&(R.type="residualEdge",R.style={...R.style||{},strokeDasharray:"6 4"},R.data={...R.data||{},residual:!0}),R})};return d.jsxs("aside",{className:"border-l bg-gray-50 p-3 text-sm",children:[d.jsx("div",{className:"mb-2 font-medium text-gray-700",children:e("panel.edge")}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:e("panel.type")}),d.jsxs("select",{className:"w-full rounded border px-2 py-1",value:(f==null?void 0:f.type)??"default",onChange:v,children:[d.jsx("option",{value:"default",children:e("edge.type.default",{defaultValue:"Default"})}),d.jsx("option",{value:"simpleArrowEdge",children:e("edge.type.simpleArrow",{defaultValue:"Simple Arrow"})}),d.jsx("option",{value:"residualEdge",children:e("edge.type.residual",{defaultValue:"Residual"})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:e("edge.color")}),d.jsx("input",{"aria-label":e("edge.color"),type:"color",value:h,onChange:b})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:e("edge.label")}),d.jsx("input",{className:"w-full rounded border px-2 py-1",value:p,onChange:w,placeholder:e("edge.labelPlaceholder",{defaultValue:"e.g., logits / residual"})})]}),d.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[d.jsx("input",{type:"checkbox",checked:y,onChange:m})," ",e("edge.arrow",{defaultValue:"Arrow"})]}),d.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[d.jsx("input",{type:"checkbox",checked:x,onChange:g})," ",e("edge.residual",{defaultValue:"Residual"})]}),d.jsxs("div",{className:"text-xs text-gray-500",children:[e("panel.id",{defaultValue:"ID"}),": ",f==null?void 0:f.id]})]})]})}function NE(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}const kE=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function zn(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let kr=null;function R0(e={}){return kr||(e.includeStyleProperties?(kr=e.includeStyleProperties,kr):(kr=zn(window.getComputedStyle(document.documentElement)),kr))}function Zs(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function EE(e){const t=Zs(e,"border-left-width"),n=Zs(e,"border-right-width");return e.clientWidth+t+n}function CE(e){const t=Zs(e,"border-top-width"),n=Zs(e,"border-bottom-width");return e.clientHeight+t+n}function A0(e,t={}){const n=t.width||EE(e),r=t.height||CE(e);return{width:n,height:r}}function _E(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const lt=16384;function LE(e){(e.width>lt||e.height>lt)&&(e.width>lt&&e.height>lt?e.width>e.height?(e.height*=lt/e.width,e.width=lt):(e.width*=lt/e.height,e.height=lt):e.width>lt?(e.height*=lt/e.width,e.width=lt):(e.width*=lt/e.height,e.height=lt))}function Js(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function jE(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function PE(e,t,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),o.appendChild(i),i.appendChild(e),jE(o)}const it=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||it(n,t)};function TE(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function ME(e,t){return R0(t).map(n=>{const r=e.getPropertyValue(n),o=e.getPropertyPriority(n);return`${n}: ${r}${o?" !important":""};`}).join(" ")}function RE(e,t,n,r){const o=`.${e}:${t}`,i=n.cssText?TE(n):ME(n,r);return document.createTextNode(`${o}{${i}}`)}function uh(e,t,n,r){const o=window.getComputedStyle(e,n),i=o.getPropertyValue("content");if(i===""||i==="none")return;const s=kE();try{t.className=`${t.className} ${s}`}catch{return}const l=document.createElement("style");l.appendChild(RE(s,n,o,r)),t.appendChild(l)}function AE(e,t,n){uh(e,t,":before",n),uh(e,t,":after",n)}const ch="application/font-woff",dh="image/jpeg",$E={woff:ch,woff2:ch,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:dh,jpeg:dh,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function IE(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Zc(e){const t=IE(e).toLowerCase();return $E[t]||""}function OE(e){return e.split(/,/)[1]}function Iu(e){return e.search(/^(data:)/)!==-1}function zE(e,t){return`data:${t};base64,${e}`}async function $0(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise((i,s)=>{const l=new FileReader;l.onerror=s,l.onloadend=()=>{try{i(n({res:r,result:l.result}))}catch(a){s(a)}},l.readAsDataURL(o)})}const va={};function DE(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function Jc(e,t,n){const r=DE(e,t,n.includeQueryParams);if(va[r]!=null)return va[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let o;try{const i=await $0(e,n.fetchRequestInit,({res:s,result:l})=>(t||(t=s.headers.get("Content-Type")||""),OE(l)));o=zE(i,t)}catch(i){o=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;i&&(s=typeof i=="string"?i:i.message),s&&console.warn(s)}return va[r]=o,o}async function FE(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Js(t)}async function VE(e,t){if(e.currentSrc){const i=document.createElement("canvas"),s=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,s==null||s.drawImage(e,0,0,i.width,i.height);const l=i.toDataURL();return Js(l)}const n=e.poster,r=Zc(n),o=await Jc(n,r,t);return Js(o)}async function HE(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await Pl(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function UE(e,t){return it(e,HTMLCanvasElement)?FE(e):it(e,HTMLVideoElement)?VE(e,t):it(e,HTMLIFrameElement)?HE(e,t):e.cloneNode(I0(e))}const WE=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",I0=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function BE(e,t,n){var r,o;if(I0(t))return t;let i=[];return WE(e)&&e.assignedNodes?i=zn(e.assignedNodes()):it(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?i=zn(e.contentDocument.body.childNodes):i=zn(((o=e.shadowRoot)!==null&&o!==void 0?o:e).childNodes),i.length===0||it(e,HTMLVideoElement)||await i.reduce((s,l)=>s.then(()=>Pl(l,n)).then(a=>{a&&t.appendChild(a)}),Promise.resolve()),t}function KE(e,t,n){const r=t.style;if(!r)return;const o=window.getComputedStyle(e);o.cssText?(r.cssText=o.cssText,r.transformOrigin=o.transformOrigin):R0(n).forEach(i=>{let s=o.getPropertyValue(i);i==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),it(e,HTMLIFrameElement)&&i==="display"&&s==="inline"&&(s="block"),i==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(i,s,o.getPropertyPriority(i))})}function GE(e,t){it(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),it(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function YE(e,t){if(it(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(o=>e.value===o.getAttribute("value"));r&&r.setAttribute("selected","")}}function XE(e,t,n){return it(t,Element)&&(KE(e,t,n),AE(e,t,n),GE(e,t),YE(e,t)),t}async function QE(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const l=n[i].getAttribute("xlink:href");if(l){const a=e.querySelector(l),u=document.querySelector(l);!a&&u&&!r[l]&&(r[l]=await Pl(u,t,!0))}}const o=Object.values(r);if(o.length){const i="http://www.w3.org/1999/xhtml",s=document.createElementNS(i,"svg");s.setAttribute("xmlns",i),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const l=document.createElementNS(i,"defs");s.appendChild(l);for(let a=0;a<o.length;a++)l.appendChild(o[a]);e.appendChild(s)}return e}async function Pl(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>UE(r,t)).then(r=>BE(e,r,t)).then(r=>XE(e,r,t)).then(r=>QE(r,t))}const O0=/url\((['"]?)([^'"]+?)\1\)/g,ZE=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,JE=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function qE(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function eC(e){const t=[];return e.replace(O0,(n,r,o)=>(t.push(o),n)),t.filter(n=>!Iu(n))}async function tC(e,t,n,r,o){try{const i=n?NE(t,n):t,s=Zc(t);let l;return o||(l=await Jc(i,s,r)),e.replace(qE(t),`$1${l}$3`)}catch{}return e}function nC(e,{preferredFontFormat:t}){return t?e.replace(JE,n=>{for(;;){const[r,,o]=ZE.exec(n)||[];if(!o)return"";if(o===t)return`src: ${r};`}}):e}function z0(e){return e.search(O0)!==-1}async function D0(e,t,n){if(!z0(e))return e;const r=nC(e,n);return eC(r).reduce((i,s)=>i.then(l=>tC(l,s,t,n)),Promise.resolve(r))}async function Er(e,t,n){var r;const o=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(o){const i=await D0(o,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function rC(e,t){await Er("background",e,t)||await Er("background-image",e,t),await Er("mask",e,t)||await Er("-webkit-mask",e,t)||await Er("mask-image",e,t)||await Er("-webkit-mask-image",e,t)}async function oC(e,t){const n=it(e,HTMLImageElement);if(!(n&&!Iu(e.src))&&!(it(e,SVGImageElement)&&!Iu(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,o=await Jc(r,Zc(r),t);await new Promise((i,s)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...a)=>{try{i(t.onImageErrorHandler(...a))}catch(u){s(u)}}:s;const l=e;l.decode&&(l.decode=i),l.loading==="lazy"&&(l.loading="eager"),n?(e.srcset="",e.src=o):e.href.baseVal=o})}async function iC(e,t){const r=zn(e.childNodes).map(o=>F0(o,t));await Promise.all(r).then(()=>e)}async function F0(e,t){it(e,Element)&&(await rC(e,t),await oC(e,t),await iC(e,t))}function sC(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(o=>{n[o]=r[o]}),e}const fh={};async function hh(e){let t=fh[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},fh[e]=t,t}async function ph(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,i=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let l=s.replace(r,"$1");return l.startsWith("https://")||(l=new URL(l,e.url).href),$0(l,t.fetchRequestInit,({result:a})=>(n=n.replace(s,`url(${a})`),[s,a]))});return Promise.all(i).then(()=>n)}function mh(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const a=o.exec(r);if(a===null)break;t.push(a[0])}r=r.replace(o,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",l=new RegExp(s,"gi");for(;;){let a=i.exec(r);if(a===null){if(a=l.exec(r),a===null)break;i.lastIndex=l.lastIndex}else l.lastIndex=i.lastIndex;t.push(a[0])}return t}async function lC(e,t){const n=[],r=[];return e.forEach(o=>{if("cssRules"in o)try{zn(o.cssRules||[]).forEach((i,s)=>{if(i.type===CSSRule.IMPORT_RULE){let l=s+1;const a=i.href,u=hh(a).then(c=>ph(c,t)).then(c=>mh(c).forEach(f=>{try{o.insertRule(f,f.startsWith("@import")?l+=1:o.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:f,error:h})}})).catch(c=>{console.error("Error loading remote css",c.toString())});r.push(u)}})}catch(i){const s=e.find(l=>l.href==null)||document.styleSheets[0];o.href!=null&&r.push(hh(o.href).then(l=>ph(l,t)).then(l=>mh(l).forEach(a=>{s.insertRule(a,s.cssRules.length)})).catch(l=>{console.error("Error loading remote stylesheet",l)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(o=>{if("cssRules"in o)try{zn(o.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${o.href}`,i)}}),n))}function aC(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>z0(t.style.getPropertyValue("src")))}async function uC(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=zn(e.ownerDocument.styleSheets),r=await lC(n,t);return aC(r)}function V0(e){return e.trim().replace(/["']/g,"")}function cC(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(i=>{t.add(V0(i))}),Array.from(r.children).forEach(i=>{i instanceof HTMLElement&&n(i)})}return n(e),t}async function dC(e,t){const n=await uC(e,t),r=cC(e);return(await Promise.all(n.filter(i=>r.has(V0(i.style.fontFamily))).map(i=>{const s=i.parentStyleSheet?i.parentStyleSheet.href:null;return D0(i.cssText,s,t)}))).join(`
`)}async function fC(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await dC(e,t);if(n){const r=document.createElement("style"),o=document.createTextNode(n);r.appendChild(o),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function hC(e,t={}){const{width:n,height:r}=A0(e,t),o=await Pl(e,t,!0);return await fC(o,t),await F0(o,t),sC(o,t),await PE(o,n,r)}async function pC(e,t={}){const{width:n,height:r}=A0(e,t),o=await hC(e,t),i=await Js(o),s=document.createElement("canvas"),l=s.getContext("2d"),a=t.pixelRatio||_E(),u=t.canvasWidth||n,c=t.canvasHeight||r;return s.width=u*a,s.height=c*a,t.skipAutoScale||LE(s),s.style.width=`${u}`,s.style.height=`${c}`,t.backgroundColor&&(l.fillStyle=t.backgroundColor,l.fillRect(0,0,s.width,s.height)),l.drawImage(i,0,0,s.width,s.height),s}async function mC(e,t={}){return(await pC(e,t)).toDataURL()}const gh="text-xs px-2 py-1 rounded border hover:bg-gray-50";function Oo({title:e,onClick:t,className:n,children:r,ariaLabel:o}){return d.jsx("button",{type:"button",className:n?`${gh} ${n}`:gh,title:e,"aria-label":o||e,onClick:t,children:r})}function H0(e){return Object.fromEntries(e.map(t=>[t.id,t]))}function qs(e){var t,n;return e.width??((t=e.style)==null?void 0:t.width)??((n=e.data)==null?void 0:n.width)??120}function el(e){var t,n;return e.height??((t=e.style)==null?void 0:t.height)??((n=e.data)==null?void 0:n.height)??64}function Go(e,t){let n=e.position.x,r=e.position.y,o=e;for(;o&&o.parentNode;){const i=t[o.parentNode];if(!i)break;n+=i.position.x,r+=i.position.y,o=i}return{x:n,y:r}}function U0(e,t){const n=e.parentNode;return n?Go(t[n],t):{x:0,y:0}}function gC(e,t){var x;const n=e.filter(b=>b.selected&&b.type!=="groupNode");if(n.length<2)return e;const r=H0(e),o=n.map(b=>Go(b,r)),i=n.map(b=>qs(b)),s=n.map(b=>el(b)),l=Math.min(...o.map(b=>b.x)),a=Math.min(...o.map(b=>b.y)),u=Math.max(...o.map((b,m)=>b.x+i[m])),c=Math.max(...o.map((b,m)=>b.y+s[m])),f=(l+u)/2,h=(a+c)/2,p=((x=ee.getState().snapGrid)==null?void 0:x[0])??8,y=ee.getState().snapToGrid;return e.map(b=>{if(!b.selected||b.type==="groupNode")return b;const m=U0(b,r),g=qs(b),w=el(b);let v=b.position.x+m.x,E=b.position.y+m.y;switch(t){case"left":v=l;break;case"right":v=u-g;break;case"centerX":v=f-g/2;break;case"top":E=a;break;case"bottom":E=c-w;break;case"centerY":E=h-w/2;break}let k=v-m.x,S=E-m.y;return y&&(k=Math.round(k/p)*p,S=Math.round(S/p)*p),{...b,position:{...b.position,x:k,y:S}}})}function yC(e,t){var h;const n=H0(e),r=e.filter(p=>p.selected&&p.type!=="groupNode").sort((p,y)=>{const x=Go(p,n),b=Go(y,n);return(t==="horiz"?x.x:x.y)-(t==="horiz"?b.x:b.y)});if(r.length<3)return e;const o=r.map(p=>{const y=Go(p,n),x=qs(p),b=el(p);return t==="horiz"?y.x+x/2:y.y+b/2}),i=o[0],l=(o[o.length-1]-i)/(r.length-1),a=((h=ee.getState().snapGrid)==null?void 0:h[0])??8,u=ee.getState().snapToGrid,c=Object.fromEntries(r.map((p,y)=>[p.id,y]));return e.map(p=>{const y=c[p.id];if(y===void 0||y<=0||y===r.length-1)return p;const x=i+l*y,b=qs(p),m=el(p),g=U0(p,n);let w=p.position.x,v=p.position.y;return t==="horiz"?w=x-b/2-g.x:v=x-m/2-g.y,u&&(w=Math.round(w/a)*a,v=Math.round(v/a)*a),{...p,position:{...p.position,x:w,y:v}}})}function W0(e){const{nodes:t,setNodes:n}=ee.getState(),r=t.filter(i=>i.selected);if(r.length<2)return r;const o=gC(t,e);return n(o),r}function B0(e){const{nodes:t,setNodes:n}=ee.getState(),r=t.filter(i=>i.selected);if(r.length<3)return r;const o=yC(t,e);return n(o),r}function xC(){return W0("left")}function vC(){return W0("top")}function wC(){return B0("horiz")}function SC(){return B0("vert")}function bC(){const{t:e}=Kn(),[t,n]=$.useState(!1),r=$.useRef(null);return $.useEffect(()=>{const o=i=>{r.current&&(r.current.contains(i.target)||n(!1))};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]),d.jsxs("div",{className:"relative",ref:r,children:[d.jsx(Oo,{title:e("toolbar.align"),onClick:()=>n(o=>!o),children:e("toolbar.align")}),t&&d.jsxs("div",{className:"absolute z-50 mt-1 w-44 rounded border bg-white shadow",children:[d.jsx("button",{className:"w-full text-left px-3 py-1.5 text-xs hover:bg-gray-50",onClick:()=>{n(!1),xC()},children:e("toolbar.align.left")}),d.jsx("button",{className:"w-full text-left px-3 py-1.5 text-xs hover:bg-gray-50",onClick:()=>{n(!1),vC()},children:e("toolbar.align.top")}),d.jsx("div",{className:"my-1 h-px bg-gray-200"}),d.jsx("button",{className:"w-full text-left px-3 py-1.5 text-xs hover:bg-gray-50",onClick:()=>{n(!1),wC()},children:e("toolbar.distribute.horiz")}),d.jsx("button",{className:"w-full text-left px-3 py-1.5 text-xs hover:bg-gray-50",onClick:()=>{n(!1),SC()},children:e("toolbar.distribute.vert")})]})]})}function NC(){const e=ee(s=>s.undo),t=ee(s=>s.redo),n=ee(s=>s.groupSelectedIntoNewGroup),r=ee(s=>s.ungroupSelected),{t:o,i18n:i}=Kn();return d.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[d.jsx(bC,{}),d.jsx(Oo,{title:o("toolbar.undo"),onClick:e,children:""}),d.jsx(Oo,{title:o("toolbar.redo"),onClick:t,children:""}),d.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[d.jsx(Oo,{title:o("toolbar.group"),onClick:()=>n(o("node.group.label")),children:d.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"none",stroke:"currentColor",strokeDasharray:"3 2",strokeWidth:"2","aria-hidden":"true",children:d.jsx("rect",{x:"4",y:"4",width:"16",height:"12"})})}),d.jsx(Oo,{title:o("toolbar.ungroup"),onClick:r,children:d.jsxs("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[d.jsx("path",{d:"M4 12h16"}),d.jsx("path",{d:"M8 8l-4 4 4 4"}),d.jsx("path",{d:"M16 8l4 4-4 4"})]})})]}),d.jsx("span",{className:"ml-3"}),d.jsxs("span",{className:"text-xs text-gray-500",children:[o("toolbar.language"),":"]}),d.jsxs("select",{className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",value:i.language,onChange:s=>i.changeLanguage(s.target.value),children:[d.jsx("option",{value:"zh",children:o("lang.zh")}),d.jsx("option",{value:"en",children:o("lang.en")})]})]})}const qc=["id","type","label","formula","color","shape","width","height","x","y"],K0=["id","source","target","type","stroke","arrow","residual"];function kC(e){const t=e.type||"",n=e.data||{},r=n.variant;if(t==="tensorNode")return{colorToken:"mlcd.data",shape:"tensor"};if(t==="activationNode"){const o=n.shape==="diamond"?"diamond":"circle";return{colorToken:n.colorAlt==="orange"?"mlcd.actO":"mlcd.actG",shape:o}}if(t==="convNode")return{colorToken:"mlcd.linearAlt",shape:"rect"};if(t==="fcNode"||t==="mlpNode")return{colorToken:"mlcd.linear",shape:"rect"};if(t==="dropoutNode")return{colorToken:"mlcd.aux",shape:"rect"};if(t==="circleNode")return{colorToken:"mlcd.opt",shape:"circle"};if(t==="groupNode")return{colorToken:"mlcd.dataN",shape:"group"};if(t==="boxNode")switch(r){case"loss":return{colorToken:"mlcd.loss",shape:"rect"};case"dropout":return{colorToken:"mlcd.aux",shape:"rect"};case"batchnorm":return{colorToken:"mlcd.linearAlt",shape:"rect"};case"embedding":return{colorToken:"mlcd.data",shape:"rect"};case"pool":case"flatten":return{colorToken:"mlcd.linear",shape:"rect"};case"attention":return{colorToken:"mlcd.data",shape:"rect"};case"activation":return{colorToken:"mlcd.actG",shape:"rect"};default:return{colorToken:"mlcd.linear",shape:"rect"}}return{colorToken:"mlcd.stroke",shape:"rect"}}function G0(e){const t=n=>{if(n==null)return"";const r=String(n);return/[",\n]/.test(r)?'"'+r.replace(/"/g,'""')+'"':r};return e.map(n=>n.map(t).join(",")).join(`
`)}function Y0(e,t){const n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download=e,r.click(),URL.revokeObjectURL(r.href)}function EC(e,t="nodes.csv"){const n=[...qc],r=e.map(i=>{var a,u,c,f,h;const s=kC(i),l=((a=i.data)==null?void 0:a.color)??`token:${s.colorToken}`;return[i.id,i.type||"",((u=i.data)==null?void 0:u.label)??"",((c=i.data)==null?void 0:c.formulaLabel)??"",l,s.shape,((f=i.data)==null?void 0:f.width)??"",((h=i.data)==null?void 0:h.height)??"",i.position.x,i.position.y]}),o=G0([n,...r]);Y0(t,o)}function CC(e,t="edges.csv"){const n=[...K0],r=e.map(i=>{var s,l;return[i.id,i.source,i.target,i.type||"default",((s=i.style)==null?void 0:s.stroke)??"",!!i.markerEnd,!!((l=i.data)!=null&&l.residual||i.type==="residualEdge")]}),o=G0([n,...r]);Y0(t,o)}function _C(e,t,n=!1){const r=n?`-${new Date().toISOString().replace(/[:.]/g,"").slice(0,15)}`:"";EC(e,`nodes${r}.csv`),CC(t,`edges${r}.csv`)}async function LC(e){return await e.text()}function yh(e){const t=[];let n=0,r=[],o="",i=!1;for(;n<e.length;){const s=e[n];if(i)if(s==='"')if(e[n+1]==='"'){o+='"',n+=2;continue}else{i=!1,n++;continue}else{o+=s,n++;continue}else{if(s==='"'){i=!0,n++;continue}if(s===","){r.push(o),o="",n++;continue}if(s===`
`||s==="\r"){s==="\r"&&e[n+1]===`
`&&n++,r.push(o),o="",(r.length>1||r[0]!=="")&&t.push(r),r=[],n++;continue}o+=s,n++}}return r.push(o),(r.length>1||r[0]!=="")&&t.push(r),t}function xh(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"}function jC(e,t){const n=yh(e),r=yh(t),[o,...i]=n,[s,...l]=r,a=Object.fromEntries(qc.map(h=>[h,o.findIndex(p=>p.trim().toLowerCase()===h)])),u=Object.fromEntries(K0.map(h=>[h,s.findIndex(p=>p.trim().toLowerCase()===h)])),c=i.map(h=>{const p=h[a.id],y=h[a.type]||"boxNode",x=h[a.label]||"",b=a.formula!=null&&a.formula>=0?h[a.formula]:"",m=h[a.color]||void 0,g=h[a.width]?Number(h[a.width]):void 0,w=a.height!=null&&a.height>=0&&h[a.height]?Number(h[a.height]):void 0,v=h[a.x]?Number(h[a.x]):0,E=h[a.y]?Number(h[a.y]):0;return{id:p,type:y,position:{x:v,y:E},data:{label:x,formulaLabel:b||void 0,color:m,width:g,height:w}}}),f=l.map(h=>{const p=h[u.id],y=h[u.source],x=h[u.target],b=h[u.type]||void 0,m=h[u.stroke]||void 0,g=h[u.arrow]?xh(h[u.arrow]):!1,w=h[u.residual]?xh(h[u.residual]):!1,v={};m&&(v.stroke=m),w&&(v.strokeDasharray="6 4");const E={id:p,source:y,target:x,style:v};return b&&(E.type=b),g&&(E.markerEnd={type:Hn.ArrowClosed,color:m}),w&&(E.type="residualEdge",E.data={...E.data||{},residual:!0}),E});return{nodes:c,edges:f}}async function PC(e){if(!e||e.length===0)return null;let t="",n="";for(const r of Array.from(e)){const o=await LC(r),i=o.split(/\r?\n/,1)[0].toLowerCase();qc.every(s=>i.includes(s))&&(t=o),i.includes("source")&&i.includes("target")&&(n=o)}return!t||!n?null:jC(t,n)}function TC(){var l,a,u;const{t:e}=Kn(),t=ee(c=>c.nodes),n=ee(c=>c.edges),r=ee(c=>c.updateNodeData),o=ee(c=>c.updateEdge),i=_.useMemo(()=>t.find(c=>c.selected),[t]),s=_.useMemo(()=>n.find(c=>c.selected),[n]);return!i&&!s?null:d.jsxs("div",{className:"absolute bottom-4 right-4 bg-white/95 backdrop-blur rounded shadow border p-3 text-xs space-y-3 z-50",children:[i&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"font-medium text-gray-700",children:e("quick.nodeTitle",{defaultValue:"Node Size & Math"})}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-[11px] text-gray-500 mb-1",children:[e("quick.height",{defaultValue:"Height"}),": ",((l=i.data)==null?void 0:l.height)??64,"px"]}),d.jsx("input",{type:"range",min:48,max:240,step:4,value:Math.max(48,Math.min(240,((a=i.data)==null?void 0:a.height)??64)),onChange:c=>r(i.id,{height:Number(c.target.value)})})]}),d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:!!((u=i.data)!=null&&u.useLatex),onChange:c=>r(i.id,{useLatex:c.target.checked})}),d.jsx("span",{children:e("quick.latex",{defaultValue:"Render LaTeX formula"})})]})]}),s&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"font-medium text-gray-700",children:e("quick.edgeTitle",{defaultValue:"Edge Style"})}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[11px] text-gray-500 mb-1",children:e("quick.strokeWidth",{defaultValue:"Stroke width"})}),d.jsx("input",{className:"w-24 rounded border px-2 py-0.5",type:"number",min:1,max:8,step:.5,value:Number((s.style||{}).strokeWidth??1.5),onChange:c=>{const f=Number(c.target.value)||1.5;o(s.id,h=>({...h,style:{...h.style||{},strokeWidth:f}}))}})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[11px] text-gray-500 mb-1",children:e("edge.label")}),d.jsx("input",{className:"w-40 rounded border px-2 py-0.5",value:String(s.label??""),onChange:c=>o(s.id,f=>({...f,label:c.target.value})),placeholder:e("edge.labelPlaceholder",{defaultValue:"e.g., logits"})})]})]})]})}function MC(){const{t:e}=Kn(),t=ee(k=>k.setDiagram),n=ee(k=>k.nodes),r=ee(k=>k.edges),o=_.useRef(null),i=()=>{const k={nodes:n,edges:r},S=new Blob([JSON.stringify(k,null,2)],{type:"application/json"}),P=document.createElement("a");P.href=URL.createObjectURL(S),P.download="mlcd-diagram.json",P.click(),URL.revokeObjectURL(P.href)},s=()=>{var k;return(k=o.current)==null?void 0:k.click()},l=ee(k=>k.setNodes),a=ee(k=>k.setEdges),u=async k=>{var P;const S=(P=k.target.files)==null?void 0:P[0];if(S)try{const M=await S.text(),R=JSON.parse(M);Array.isArray(R.nodes)&&Array.isArray(R.edges)?(l(R.nodes),a(R.edges)):alert("Invalid JSON: expect { nodes: [], edges: [] }")}catch{alert("Failed to parse JSON file")}finally{k.target.value=""}},c=3,f=async()=>{const k=document.getElementById("diagram-canvas");if(!k)return;const S=await mC(k,{cacheBust:!0,pixelRatio:c,backgroundColor:"#ffffff"}),P=document.createElement("a");P.href=S,P.download="mlcd-canvas.png",P.click()},h=()=>_C(n,r,!0),p=_.useRef(null),y=()=>{var k;return(k=p.current)==null?void 0:k.click()},x=async k=>{const S=k.target.files;if(!(!S||S.length===0))try{const P=await PC(S);if(!P){alert("Expect two CSV files: nodes.csv and edges.csv");return}t(P)}catch{alert("Failed to import from CSV")}finally{k.target.value=""}};_.useEffect(()=>{const k=setTimeout(()=>{const S={nodes:n,edges:r};try{localStorage.setItem("mlcd-diagram",JSON.stringify(S))}catch{}},400);return()=>clearTimeout(k)},[n,r]),_.useEffect(()=>{try{const k=localStorage.getItem("mlcd-diagram");if(k){const S=JSON.parse(k);Array.isArray(S.nodes)&&Array.isArray(S.edges)&&t({nodes:S.nodes,edges:S.edges})}}catch{}},[]);const b=ee(k=>k.removeSelected),m=ee(k=>k.duplicateSelected),g=ee(k=>k.snapToGrid),w=ee(k=>k.setSnapToGrid),v=ee(k=>k.snapGrid),E=ee(k=>k.setSnapGrid);return _.useEffect(()=>{const k=S=>{if((S.ctrlKey||S.metaKey)&&S.key.toLowerCase()==="z"){S.preventDefault(),S.shiftKey?ee.getState().redo():ee.getState().undo();return}(S.key==="Delete"||S.key==="Backspace")&&b(),(S.ctrlKey||S.metaKey)&&S.key.toLowerCase()==="d"&&(S.preventDefault(),m()),(S.ctrlKey||S.metaKey)&&S.key.toLowerCase()==="s"&&(S.preventDefault(),i()),(S.ctrlKey||S.metaKey)&&S.key.toLowerCase()==="o"&&(S.preventDefault(),s()),(S.ctrlKey||S.metaKey)&&S.key.toLowerCase()==="e"&&(S.preventDefault(),f()),(S.ctrlKey||S.metaKey)&&S.key.toLowerCase()==="f"&&(S.preventDefault(),window.dispatchEvent(new Event("mlcd-fit-view"))),(S.ctrlKey||S.metaKey)&&S.key.toLowerCase()==="g"&&(S.preventDefault(),w(!g))};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[m,f,s,i,b,w,g]),d.jsxs("div",{className:"h-screen w-screen grid grid-cols-[260px_1fr_300px] grid-rows-[auto_1fr]",children:[d.jsxs("header",{className:"col-span-3 h-12 px-4 grid grid-cols-[auto_1fr_auto] items-center border-b bg-white gap-4",children:[d.jsx("h1",{className:"text-sm font-semibold text-gray-800",children:"ML Concept Designer MVP"}),d.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[d.jsx(NC,{}),d.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-700",children:[d.jsx("input",{type:"checkbox",checked:g,onChange:k=>w(k.target.checked)})," ",e("toolbar.snap")]}),d.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-700",children:[e("toolbar.grid"),d.jsx("input",{className:"w-14 rounded border px-1 py-0.5",type:"number",min:5,max:100,step:5,value:v[0],onChange:k=>{const S=Math.max(5,Math.min(100,Number(k.target.value)||10));E([S,S])}})]}),d.jsx("button",{className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",onClick:()=>window.dispatchEvent(new Event("mlcd-fit-view")),children:e("toolbar.fit")}),d.jsx("button",{className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",onClick:()=>window.dispatchEvent(new Event("mlcd-center")),children:e("toolbar.center")})]}),d.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[d.jsx("button",{className:"text-xs px-3 py-1.5 rounded bg-blue-600 text-white hover:bg-blue-700",onClick:f,"aria-label":e("app.exportPng"),children:e("app.exportPng")}),d.jsx("button",{className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",onClick:h,"aria-label":e("app.exportSheets"),children:e("app.exportSheets")}),d.jsx("span",{className:"w-px h-4 bg-gray-300 mx-1"}),d.jsx("button",{className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",onClick:i,"aria-label":e("app.saveJson"),children:e("app.saveJson")}),d.jsx("button",{className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",onClick:s,"aria-label":e("app.loadJson"),children:e("app.loadJson")}),d.jsx("button",{className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",onClick:y,"aria-label":e("app.importSheets"),children:e("app.importSheets")}),d.jsx("input",{ref:o,type:"file",accept:"application/json",className:"hidden",onChange:u}),d.jsx("input",{ref:p,type:"file",accept:".csv",multiple:!0,className:"hidden",onChange:x})]})]}),d.jsx(xE,{}),d.jsxs("main",{className:"relative bg-mlcd-canvas",children:[d.jsx(lE,{}),d.jsx(TC,{})]}),d.jsx(bE,{})]})}const Z=e=>typeof e=="string",jo=()=>{let e,t;const n=new Promise((r,o)=>{e=r,t=o});return n.resolve=e,n.reject=t,n},vh=e=>e==null?"":""+e,RC=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},AC=/###/g,wh=e=>e&&e.indexOf("###")>-1?e.replace(AC,"."):e,Sh=e=>!e||Z(e),Yo=(e,t,n)=>{const r=Z(t)?t.split("."):t;let o=0;for(;o<r.length-1;){if(Sh(e))return{};const i=wh(r[o]);!e[i]&&n&&(e[i]=new n),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++o}return Sh(e)?{}:{obj:e,k:wh(r[o])}},bh=(e,t,n)=>{const{obj:r,k:o}=Yo(e,t,Object);if(r!==void 0||t.length===1){r[o]=n;return}let i=t[t.length-1],s=t.slice(0,t.length-1),l=Yo(e,s,Object);for(;l.obj===void 0&&s.length;)i=`${s[s.length-1]}.${i}`,s=s.slice(0,s.length-1),l=Yo(e,s,Object),l&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=n},$C=(e,t,n,r)=>{const{obj:o,k:i}=Yo(e,t,Object);o[i]=o[i]||[],o[i].push(n)},tl=(e,t)=>{const{obj:n,k:r}=Yo(e,t);if(n)return n[r]},IC=(e,t,n)=>{const r=tl(e,n);return r!==void 0?r:tl(t,n)},X0=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?Z(e[r])||e[r]instanceof String||Z(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):X0(e[r],t[r],n):e[r]=t[r]);return e},Cr=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var OC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const zC=e=>Z(e)?e.replace(/[&<>"'\/]/g,t=>OC[t]):e;class DC{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const FC=[" ",",","?","!",";"],VC=new DC(20),HC=(e,t,n)=>{t=t||"",n=n||"";const r=FC.filter(s=>t.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const o=VC.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let i=!o.test(e);if(!i){const s=e.indexOf(n);s>0&&!o.test(e.substring(0,s))&&(i=!0)}return i},Ou=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let o=e;for(let i=0;i<r.length;){if(!o||typeof o!="object")return;let s,l="";for(let a=i;a<r.length;++a)if(a!==i&&(l+=n),l+=r[a],s=o[l],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&a<r.length-1)continue;i+=a-i+1;break}o=s}return o},nl=e=>e&&e.replace("_","-"),UC={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class rl{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||UC,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,o){return o&&!this.debug?null:(Z(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new rl(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new rl(this.logger,t)}}var Kt=new rl;class Tl{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const o=this.observers[r].get(n)||0;this.observers[r].set(n,o+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(s=>{let[l,a]=s;for(let u=0;u<a;u++)l(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[l,a]=s;for(let u=0;u<a;u++)l.apply(l,[t,...r])})}}class Nh extends Tl{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,s=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,n],r&&(Array.isArray(r)?l.push(...r):Z(r)&&i?l.push(...r.split(i)):l.push(r)));const a=tl(this.data,l);return!a&&!n&&!r&&t.indexOf(".")>-1&&(t=l[0],n=l[1],r=l.slice(2).join(".")),a||!s||!Z(r)?a:Ou(this.data&&this.data[t]&&this.data[t][n],r,i)}addResource(t,n,r,o){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[t,n];r&&(l=l.concat(s?r.split(s):r)),t.indexOf(".")>-1&&(l=t.split("."),o=n,n=l[1]),this.addNamespaces(n),bh(this.data,l,o),i.silent||this.emit("added",t,n,r,o)}addResources(t,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(Z(r[i])||Array.isArray(r[i]))&&this.addResource(t,n,i,r[i],{silent:!0});o.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,o,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[t,n];t.indexOf(".")>-1&&(l=t.split("."),o=r,r=n,n=l[1]),this.addNamespaces(n);let a=tl(this.data,l)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),o?X0(a,r,i):a={...a,...r},bh(this.data,l,a),s.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(o=>n[o]&&Object.keys(n[o]).length>0)}toJSON(){return this.data}}var Q0={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,o){return e.forEach(i=>{this.processors[i]&&(t=this.processors[i].process(t,n,r,o))}),t}};const kh={};class ol extends Tl{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),RC(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Kt.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const s=r&&t.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!HC(t,r,o);if(s&&!l){const a=t.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:t,namespaces:Z(i)?[i]:i};const u=t.split(r);(r!==o||r===o&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),t=u.join(o)}return{key:t,namespaces:Z(i)?[i]:i}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const o=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:l}=this.extractFromKey(t[t.length-1],n),a=l[l.length-1],u=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const v=n.nsSeparator||this.options.nsSeparator;return o?{res:`${a}${v}${s}`,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:a,usedParams:this.getUsedParamsDetails(n)}:`${a}${v}${s}`}return o?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:a,usedParams:this.getUsedParamsDetails(n)}:s}const f=this.resolve(t,n);let h=f&&f.res;const p=f&&f.usedKey||s,y=f&&f.exactUsedKey||s,x=Object.prototype.toString.apply(h),b=["[object Number]","[object Function]","[object RegExp]"],m=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,w=!Z(h)&&typeof h!="boolean"&&typeof h!="number";if(g&&h&&w&&b.indexOf(x)<0&&!(Z(m)&&Array.isArray(h))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const v=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,h,{...n,ns:l}):`key '${s} (${this.language})' returned an object instead of string.`;return o?(f.res=v,f.usedParams=this.getUsedParamsDetails(n),f):v}if(i){const v=Array.isArray(h),E=v?[]:{},k=v?y:p;for(const S in h)if(Object.prototype.hasOwnProperty.call(h,S)){const P=`${k}${i}${S}`;E[S]=this.translate(P,{...n,joinArrays:!1,ns:l}),E[S]===P&&(E[S]=h[S])}h=E}}else if(g&&Z(m)&&Array.isArray(h))h=h.join(m),h&&(h=this.extendTranslation(h,t,n,r));else{let v=!1,E=!1;const k=n.count!==void 0&&!Z(n.count),S=ol.hasDefaultValue(n),P=k?this.pluralResolver.getSuffix(u,n.count,n):"",M=n.ordinal&&k?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",R=k&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),z=R&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${P}`]||n[`defaultValue${M}`]||n.defaultValue;!this.isValidLookup(h)&&S&&(v=!0,h=z),this.isValidLookup(h)||(E=!0,h=s);const F=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&E?void 0:h,N=S&&z!==h&&this.options.updateMissing;if(E||v||N){if(this.logger.log(N?"updateKey":"missingKey",u,a,s,N?z:h),i){const T=this.resolve(s,{...n,keySeparator:!1});T&&T.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let L=[];const j=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&j&&j[0])for(let T=0;T<j.length;T++)L.push(j[T]);else this.options.saveMissingTo==="all"?L=this.languageUtils.toResolveHierarchy(n.lng||this.language):L.push(n.lng||this.language);const O=(T,C,A)=>{const I=S&&A!==h?A:F;this.options.missingKeyHandler?this.options.missingKeyHandler(T,a,C,I,N,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(T,a,C,I,N,n),this.emit("missingKey",T,a,C,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?L.forEach(T=>{const C=this.pluralResolver.getSuffixes(T,n);R&&n[`defaultValue${this.options.pluralSeparator}zero`]&&C.indexOf(`${this.options.pluralSeparator}zero`)<0&&C.push(`${this.options.pluralSeparator}zero`),C.forEach(A=>{O([T],s+A,n[`defaultValue${A}`]||z)})}):O(L,s,z))}h=this.extendTranslation(h,t,n,f,r),E&&h===s&&this.options.appendNamespaceToMissingKey&&(h=`${a}:${s}`),(E||v)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${a}:${s}`:s,v?h:void 0):h=this.options.parseMissingKeyHandler(h))}return o?(f.res=h,f.usedParams=this.getUsedParamsDetails(n),f):h}extendTranslation(t,n,r,o,i){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=Z(t)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const h=t.match(this.interpolator.nestingRegexp);c=h&&h.length}let f=r.replace&&!Z(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,r.lng||this.language||o.usedLng,r),u){const h=t.match(this.interpolator.nestingRegexp),p=h&&h.length;c<p&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(r.lng=this.language||o.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var h=arguments.length,p=new Array(h),y=0;y<h;y++)p[y]=arguments[y];return i&&i[0]===p[0]&&!r.context?(s.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):s.translate(...p,n)},r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,a=Z(l)?[l]:l;return t!=null&&a&&a.length&&r.applyPostProcessor!==!1&&(t=Q0.handle(a,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,o,i,s,l;return Z(t)&&(t=[t]),t.forEach(a=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(a,n),c=u.key;o=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=n.count!==void 0&&!Z(n.count),p=h&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),y=n.context!==void 0&&(Z(n.context)||typeof n.context=="number")&&n.context!=="",x=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(b=>{this.isValidLookup(r)||(l=b,!kh[`${x[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(kh[`${x[0]}-${b}`]=!0,this.logger.warn(`key "${o}" for languages "${x.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(m=>{if(this.isValidLookup(r))return;s=m;const g=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(g,c,m,b,n);else{let v;h&&(v=this.pluralResolver.getSuffix(m,n.count,n));const E=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(g.push(c+v),n.ordinal&&v.indexOf(k)===0&&g.push(c+v.replace(k,this.options.pluralSeparator)),p&&g.push(c+E)),y){const S=`${c}${this.options.contextSeparator}${n.context}`;g.push(S),h&&(g.push(S+v),n.ordinal&&v.indexOf(k)===0&&g.push(S+v.replace(k,this.options.pluralSeparator)),p&&g.push(S+E))}}let w;for(;w=g.pop();)this.isValidLookup(r)||(i=w,r=this.getResource(m,b,w,n))}))})}),{res:r,usedKey:o,exactUsedKey:i,usedLng:s,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,o):this.resourceStore.getResource(t,n,r,o)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!Z(t.replace);let o=r?t.replace:t;if(r&&typeof t.count<"u"&&(o.count=t.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!r){o={...o};for(const i of n)delete o[i]}return o}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}const wa=e=>e.charAt(0).toUpperCase()+e.slice(1);class Eh{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Kt.create("languageUtils")}getScriptPartFromCode(t){if(t=nl(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=nl(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(Z(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let o=Intl.getCanonicalLocales(t)[0];if(o&&this.options.lowerCaseLng&&(o=o.toLowerCase()),o)return o}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(o=>o.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=wa(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=wa(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=wa(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const o=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(i=>{if(i===o)return i;if(!(i.indexOf("-")<0&&o.indexOf("-")<0)&&(i.indexOf("-")>0&&o.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===o||i.indexOf(o)===0&&o.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),Z(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),o=[],i=s=>{s&&(this.isSupportedCode(s)?o.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return Z(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):Z(t)&&i(this.formatLanguageCode(t)),r.forEach(s=>{o.indexOf(s)<0&&i(this.formatLanguageCode(s))}),o}}let WC=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],BC={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const KC=["v1","v2","v3"],GC=["v4"],Ch={zero:0,one:1,two:2,few:3,many:4,other:5},YC=()=>{const e={};return WC.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:BC[t.fc]}})}),e};class XC{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=Kt.create("pluralResolver"),(!this.options.compatibilityJSON||GC.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=YC(),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=nl(t==="dev"?"en":t),o=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:o});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let s;try{s=new Intl.PluralRules(r,{type:o})}catch{if(!t.match(/-|_/))return;const a=this.languageUtils.getLanguagePartFromCode(t);s=this.getRule(a,n)}return this.pluralRulesCache[i]=s,s}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(o=>`${n}${o}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((o,i)=>Ch[o]-Ch[i]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):r.numbers.map(o=>this.getSuffix(t,o,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.getRule(t,r);return o?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:this.getSuffixRetroCompatible(o,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let o=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));const i=()=>this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString();return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?`_plural_${o.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!KC.includes(this.options.compatibilityJSON)}}const _h=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=IC(e,t,n);return!i&&o&&Z(n)&&(i=Ou(e,n,r),i===void 0&&(i=Ou(t,n,r))),i},Sa=e=>e.replace(/\$/g,"$$$$");class QC{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Kt.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:o,prefix:i,prefixEscaped:s,suffix:l,suffixEscaped:a,formatSeparator:u,unescapeSuffix:c,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:y,nestingSuffixEscaped:x,nestingOptionsSeparator:b,maxReplaces:m,alwaysFormat:g}=t.interpolation;this.escape=n!==void 0?n:zC,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=i?Cr(i):s||"{{",this.suffix=l?Cr(l):a||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=h?Cr(h):p||Cr("$t("),this.nestingSuffix=y?Cr(y):x||Cr(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=m||1e3,this.alwaysFormat=g!==void 0?g:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,o){let i,s,l;const a=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const m=_h(n,a,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(m,void 0,r,{...o,...n,interpolationkey:p}):m}const y=p.split(this.formatSeparator),x=y.shift().trim(),b=y.join(this.formatSeparator).trim();return this.format(_h(n,a,x,this.options.keySeparator,this.options.ignoreJSONStructure),b,r,{...o,...n,interpolationkey:x})};this.resetRegExp();const c=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,f=o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>Sa(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?Sa(this.escape(p)):Sa(p)}].forEach(p=>{for(l=0;i=p.regex.exec(t);){const y=i[1].trim();if(s=u(y),s===void 0)if(typeof c=="function"){const b=c(t,i,o);s=Z(b)?b:""}else if(o&&Object.prototype.hasOwnProperty.call(o,y))s="";else if(f){s=i[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${t}`),s="";else!Z(s)&&!this.useRawValueToEscape&&(s=vh(s));const x=p.safeValue(s);if(t=t.replace(i[0],x),f?(p.regex.lastIndex+=s.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,i,s;const l=(a,u)=>{const c=this.nestingOptionsSeparator;if(a.indexOf(c)<0)return a;const f=a.split(new RegExp(`${c}[ ]*{`));let h=`{${f[1]}`;a=f[0],h=this.interpolate(h,s);const p=h.match(/'/g),y=h.match(/"/g);(p&&p.length%2===0&&!y||y.length%2!==0)&&(h=h.replace(/'/g,'"'));try{s=JSON.parse(h),u&&(s={...u,...s})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${a}`,x),`${a}${c}${h}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,a};for(;o=this.nestingRegexp.exec(t);){let a=[];s={...r},s=s.replace&&!Z(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let u=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){const c=o[1].split(this.formatSeparator).map(f=>f.trim());o[1]=c.shift(),a=c,u=!0}if(i=n(l.call(this,o[1].trim(),s),s),i&&o[0]===t&&!Z(i))return i;Z(i)||(i=vh(i)),i||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${t}`),i=""),u&&(i=a.reduce((c,f)=>this.format(c,f,r.lng,{...r,interpolationkey:o[1].trim()}),i.trim())),t=t.replace(o[0],i),this.regexp.lastIndex=0}return t}}const ZC=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const o=r[1].substring(0,r[1].length-1);t==="currency"&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):t==="relativetime"&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(s=>{if(s){const[l,...a]=s.split(":"),u=a.join(":").trim().replace(/^'+|'+$/g,""),c=l.trim();n[c]||(n[c]=u),u==="false"&&(n[c]=!1),u==="true"&&(n[c]=!0),isNaN(u)||(n[c]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},_r=e=>{const t={};return(n,r,o)=>{let i=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(i={...i,[o.interpolationkey]:void 0});const s=r+JSON.stringify(i);let l=t[s];return l||(l=e(nl(r),o),t[s]=l),l(n)}};class JC{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Kt.create("formatter"),this.options=t,this.formats={number:_r((n,r)=>{const o=new Intl.NumberFormat(n,{...r});return i=>o.format(i)}),currency:_r((n,r)=>{const o=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>o.format(i)}),datetime:_r((n,r)=>{const o=new Intl.DateTimeFormat(n,{...r});return i=>o.format(i)}),relativetime:_r((n,r)=>{const o=new Intl.RelativeTimeFormat(n,{...r});return i=>o.format(i,r.range||"day")}),list:_r((n,r)=>{const o=new Intl.ListFormat(n,{...r});return i=>o.format(i)})},this.init(t)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=_r(n)}format(t,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(a=>a.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,a)=>{const{formatName:u,formatOptions:c}=ZC(a);if(this.formats[u]){let f=l;try{const h=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},p=h.locale||h.lng||o.locale||o.lng||r;f=this.formats[u](l,p,{...c,...o,...h})}catch(h){this.logger.warn(h)}return f}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const qC=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class e5 extends Tl{constructor(t,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=o,this.logger=Kt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,o.backend,o)}queueLoad(t,n,r,o){const i={},s={},l={},a={};return t.forEach(u=>{let c=!0;n.forEach(f=>{const h=`${u}|${f}`;!r.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?s[h]===void 0&&(s[h]=!0):(this.state[h]=1,c=!1,s[h]===void 0&&(s[h]=!0),i[h]===void 0&&(i[h]=!0),a[f]===void 0&&(a[f]=!0)))}),c||(l[u]=!0)}),(Object.keys(i).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(i),pending:Object.keys(s),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(a)}}loaded(t,n,r){const o=t.split("|"),i=o[0],s=o[1];n&&this.emit("failedLoading",i,s,n),!n&&r&&this.store.addResourceBundle(i,s,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const l={};this.queue.forEach(a=>{$C(a.loaded,[i],s),qC(a,t),n&&a.errors.push(n),a.pendingCount===0&&!a.done&&(Object.keys(a.loaded).forEach(u=>{l[u]||(l[u]={});const c=a.loaded[u];c.length&&c.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),a.done=!0,a.errors.length?a.callback(a.errors):a.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(a=>!a.done)}read(t,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!t.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:o,wait:i,callback:s});return}this.readingCalls++;const l=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,o+1,i*2,s)},i);return}s(u,c)},a=this.backend[r].bind(this.backend);if(a.length===2){try{const u=a(t,n);u&&typeof u.then=="function"?u.then(c=>l(null,c)).catch(l):l(null,u)}catch(u){l(u)}return}return a(t,n,l)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();Z(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Z(n)&&(n=[n]);const i=this.queueLoad(t,n,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach(s=>{this.loadOne(s)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),o=r[0],i=r[1];this.read(o,i,"read",void 0,void 0,(s,l)=>{s&&this.logger.warn(`${n}loading namespace ${i} for language ${o} failed`,s),!s&&l&&this.logger.log(`${n}loaded namespace ${i} for language ${o}`,l),this.loaded(t,s,l)})}saveMissing(t,n,r,o,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const a={...s,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(t,n,r,o,a):c=u(t,n,r,o),c&&typeof c.then=="function"?c.then(f=>l(null,f)).catch(l):l(null,c)}catch(c){l(c)}else u(t,n,r,o,l,a)}!t||!t[0]||this.store.addResource(t[0],n,r,o)}}}const Lh=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Z(e[1])&&(t.defaultValue=e[1]),Z(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),jh=e=>(Z(e.ns)&&(e.ns=[e.ns]),Z(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Z(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),qi=()=>{},t5=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class vi extends Tl{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=jh(t),this.services={},this.logger=Kt,this.modules={external:[]},t5(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(Z(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const o=Lh();this.options={...o,...this.options,...jh(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...o.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Kt.init(i(this.modules.logger),this.options):Kt.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=JC);const f=new Eh(this.options);this.store=new Nh(this.options.resources,this.options);const h=this.services;h.logger=Kt,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new XC(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(h.formatter=i(c),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new QC(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new e5(i(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(p){for(var y=arguments.length,x=new Array(y>1?y-1:0),b=1;b<y;b++)x[b-1]=arguments[b];t.emit(p,...x)}),this.modules.languageDetector&&(h.languageDetector=i(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=i(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new ol(this.services,this.options),this.translator.on("*",function(p){for(var y=arguments.length,x=new Array(y>1?y-1:0),b=1;b<y;b++)x[b-1]=arguments[b];t.emit(p,...x)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=qi),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return t.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return t.store[c](...arguments),t}});const a=jo(),u=()=>{const c=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(h),r(f,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),a}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qi;const o=Z(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(o&&o.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],s=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};o?s(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(a=>s(a)),this.options.preload&&this.options.preload.forEach(l=>s(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(t,n,r){const o=jo();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=qi),this.services.backendConnector.reload(t,n,i=>{o.resolve(),r(i)}),o}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Q0.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const o=jo();this.emit("languageChanging",t);const i=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},s=(a,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,o.resolve(function(){return r.t(...arguments)}),n&&n(a,function(){return r.t(...arguments)})},l=a=>{!t&&!a&&this.services.languageDetector&&(a=[]);const u=Z(a)?a:this.services.languageUtils.getBestMatchFromCodes(a);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{s(c,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),o}getFixedT(t,n,r){var o=this;const i=function(s,l){let a;if(typeof l!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),f=2;f<u;f++)c[f-2]=arguments[f];a=o.options.overloadTranslationOptionHandler([s,l].concat(c))}else a={...l};a.lng=a.lng||i.lng,a.lngs=a.lngs||i.lngs,a.ns=a.ns||i.ns,a.keyPrefix!==""&&(a.keyPrefix=a.keyPrefix||r||i.keyPrefix);const h=o.options.keySeparator||".";let p;return a.keyPrefix&&Array.isArray(s)?p=s.map(y=>`${a.keyPrefix}${h}${y}`):p=a.keyPrefix?`${a.keyPrefix}${h}${s}`:s,o.t(p,a)};return Z(t)?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(l,a)=>{const u=this.services.backendConnector.state[`${l}|${a}`];return u===-1||u===0||u===2};if(n.precheck){const l=n.precheck(this,s);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,t)&&(!o||s(i,t)))}loadNamespaces(t,n){const r=jo();return this.options.ns?(Z(t)&&(t=[t]),t.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=jo();Z(t)&&(t=[t]);const o=this.options.preload||[],i=t.filter(s=>o.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return i.length?(this.options.preload=o.concat(i),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Eh(Lh());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new vi(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qi;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const o={...this.options,...t,isClone:!0},i=new vi(o);return(t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new Nh(this.store.data,o),i.services.resourceStore=i.store),i.translator=new ol(i.services,o),i.translator.on("*",function(l){for(var a=arguments.length,u=new Array(a>1?a-1:0),c=1;c<a;c++)u[c-1]=arguments[c];i.emit(l,...u)}),i.init(o,n),i.translator.options=o,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ge=vi.createInstance();Ge.createInstance=vi.createInstance;Ge.createInstance;Ge.dir;Ge.init;Ge.loadResources;Ge.reloadResources;Ge.use;Ge.changeLanguage;Ge.getFixedT;Ge.t;Ge.exists;Ge.setDefaultNamespace;Ge.hasLoadedNamespace;Ge.loadNamespaces;Ge.loadLanguages;const n5={"sidebar.title":"Components","sidebar.search":"Search...","sidebar.templates":"Templates","sidebar.template.hint":"Click or drag to insert","sidebar.dragToCanvas":"Drag to canvas: {{label}}","panel.node":"Node","panel.edge":"Edge","panel.label":"Label","panel.formulaLabel":"Formula Label (optional)","panel.color":"Color","panel.type":"Type","panel.none":"Nothing selected","panel.multi":"Multi-select","panel.prefix":"Label Prefix","panel.apply":"Apply","panel.id":"ID","panel.labelPlaceholder":"Node label","panel.formulaPlaceholder":"e.g., y = W x + b or \\sum_i x_i","panel.prefixPlaceholder":"Layer-","edge.color":"Stroke Color","edge.label":"Edge Label","edge.labelPlaceholder":"e.g., logits / residual","edge.type.default":"Default","edge.type.simpleArrow":"Simple Arrow","edge.type.residual":"Residual","edge.arrow":"Arrow","edge.residual":"Residual","toolbar.language":"Language","toolbar.align":"Align","toolbar.align.left":"Align Left","toolbar.align.centerX":"Align Center X","toolbar.align.right":"Align Right","toolbar.align.top":"Align Top","toolbar.align.centerY":"Align Center Y","toolbar.align.bottom":"Align Bottom","toolbar.distribute":"Distribute","toolbar.distribute.horiz":"Distribute Horizontally","toolbar.distribute.vert":"Distribute Vertically","toolbar.snap":"Snap","toolbar.grid":"Grid","toolbar.fit":"Fit","toolbar.center":"Center","toolbar.undo":"Undo (Ctrl/Cmd+Z)","toolbar.redo":"Redo (Shift+Ctrl/Cmd+Z)","toolbar.group":"Group selected","toolbar.ungroup":"Ungroup selected","lang.zh":"??","lang.en":"English","quick.nodeTitle":"Node Size & Math","quick.height":"Height","quick.latex":"Render LaTeX formula","quick.edgeTitle":"Edge Style","quick.strokeWidth":"Stroke width","app.saveJson":"Save JSON","app.loadJson":"Open JSON","app.exportPng":"Export PNG","app.exportSheets":"Export Sheets","app.importSheets":"Import Sheets","node.group.label":"Group","canvas.overlay":"Zoom: {{z}}%  Nodes: {{n}}  Edges: {{e}}","empty.title":"Get started","empty.hint":"Drag components from the left sidebar or insert a template.","template.inserted":"Template inserted"},r5={"sidebar.title":"","sidebar.search":"...","sidebar.templates":"","sidebar.template.hint":"","sidebar.dragToCanvas":"{{label}}","sidebar.core_primitives.title":"","sidebar.core.linear_fc.title":"","sidebar.core.linear_fc.neuron.title":"","sidebar.core.linear_fc.linear.title":"","sidebar.core.linear_fc.fc_mlp.title":"/MLP","sidebar.core.conv_pool.title":"","sidebar.core.conv_pool.conv_nd.title":"N","sidebar.core.conv_pool.pooling.title":"","sidebar.core.conv_pool.flatten.title":"","sidebar.core.activation_gating.title":"","sidebar.core.activation_gating.classic.title":"","sidebar.core.activation_gating.modern.title":"","sidebar.core.activation_gating.learnable_gates.title":"","sidebar.core.norm_reg.title":"","sidebar.core.norm_reg.normalization.title":"","sidebar.core.norm_reg.regularization.title":"","sidebar.core.embed_attn.title":"","sidebar.core.embed_attn.embedding.title":"","sidebar.core.embed_attn.attention.title":"","sidebar.core.tensor_ops.title":"","sidebar.core.tensor_ops.reshape_permute.title":"","sidebar.core.tensor_ops.elementwise.title":"","sidebar.core.parameters.title":"","sidebar.core.parameters.weights_consts.title":"","sidebar.data_process.title":"","sidebar.data.io.title":"","sidebar.data.io.endpoints.title":"","sidebar.data.tensor.title":"","sidebar.data.tensor.nd_struct.title":"","sidebar.data.objective.title":"","sidebar.data.objective.loss.title":"","sidebar.data.objective.optimizer.title":"","sidebar.data.annotation.title":"","sidebar.data.annotation.ui_docs.title":"","sidebar.connectors.title":"","sidebar.connect.flow.title":"","sidebar.connect.flow.directed.title":"","sidebar.connect.flow.residual.title":"","panel.node":"","panel.edge":"","panel.label":"","panel.formulaLabel":"","panel.color":"","panel.type":"","panel.none":"","panel.multi":"","panel.prefix":"","panel.apply":"","panel.id":"ID","panel.labelPlaceholder":"","panel.formulaPlaceholder":"y = W x + b  \\sum_i x_i","panel.prefixPlaceholder":"Layer-","edge.color":"","edge.label":"","edge.labelPlaceholder":"logits / residual","edge.type.default":"","edge.type.simpleArrow":"","edge.type.residual":"","edge.arrow":"","edge.residual":"","toolbar.language":"","toolbar.align":"","toolbar.align.left":"","toolbar.align.centerX":"","toolbar.align.right":"","toolbar.align.top":"","toolbar.align.centerY":"","toolbar.align.bottom":"","toolbar.distribute":"","toolbar.distribute.horiz":"","toolbar.distribute.vert":"","toolbar.snap":"","toolbar.grid":"","toolbar.fit":"","toolbar.center":"","toolbar.undo":"Ctrl/Cmd+Z","toolbar.redo":"Shift+Ctrl/Cmd+Z","toolbar.group":"","toolbar.ungroup":"","lang.zh":"","lang.en":"English","quick.nodeTitle":"","quick.height":"","quick.latex":" LaTeX ","quick.edgeTitle":"","quick.strokeWidth":"","app.saveJson":" JSON","app.loadJson":" JSON","app.exportPng":" PNG","app.exportSheets":"","app.importSheets":"","node.group.label":"","canvas.overlay":"{{z}}%  {{n}}  {{e}}"};Ge.use(Ek).init({resources:{en:{translation:n5},zh:{translation:r5}},lng:"zh",fallbackLng:"en",interpolation:{escapeValue:!1}});ba.createRoot(document.getElementById("root")).render(d.jsx($.StrictMode,{children:d.jsx(MC,{})}));
